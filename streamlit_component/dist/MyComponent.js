parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"J4Nk":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"awqi":[function(require,module,exports) {
"use strict";var e=require("object-assign"),r="function"==typeof Symbol&&Symbol.for,t=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,f=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,i=r?Symbol.for("react.forward_ref"):60112,s=r?Symbol.for("react.suspense"):60113,a=r?Symbol.for("react.memo"):60115,p=r?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function m(e,r,t){this.props=e,this.context=r,this.refs=h,this.updater=t||v}function x(){}function b(e,r,t){this.props=e,this.context=r,this.refs=h,this.updater=t||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,r,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=m.prototype;var S=b.prototype=new x;S.constructor=b,e(S,m.prototype),S.isPureReactComponent=!0;var _={current:null},k=Object.prototype.hasOwnProperty,$={key:!0,ref:!0,__self:!0,__source:!0};function g(e,r,n){var o,u={},f=null,c=null;if(null!=r)for(o in void 0!==r.ref&&(c=r.ref),void 0!==r.key&&(f=""+r.key),r)k.call(r,o)&&!$.hasOwnProperty(o)&&(u[o]=r[o]);var l=arguments.length-2;if(1===l)u.children=n;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];u.children=i}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===u[o]&&(u[o]=l[o]);return{$$typeof:t,type:e,key:f,ref:c,props:u,_owner:_.current}}function w(e,r){return{$$typeof:t,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}function E(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}var R=/\/+/g,P=[];function j(e,r,t,n){if(P.length){var o=P.pop();return o.result=e,o.keyPrefix=r,o.func=t,o.context=n,o.count=0,o}return{result:e,keyPrefix:r,func:t,context:n,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function A(e,r,o,u){var f=typeof e;"undefined"!==f&&"boolean"!==f||(e=null);var c=!1;if(null===e)c=!0;else switch(f){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case t:case n:c=!0}}if(c)return o(u,e,""===r?"."+U(e,0):r),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var i=r+U(f=e[l],l);c+=A(f,i,o,u)}else if(null===e||"object"!=typeof e?i=null:i="function"==typeof(i=y&&e[y]||e["@@iterator"])?i:null,"function"==typeof i)for(e=i.call(e),l=0;!(f=e.next()).done;)c+=A(f=f.value,i=r+U(f,l++),o,u);else if("object"===f)throw o=""+e,Error(d(31,"[object Object]"===o?"object with keys {"+Object.keys(e).join(", ")+"}":o,""));return c}function I(e,r,t){return null==e?0:A(e,"",r,t)}function U(e,r){return"object"==typeof e&&null!==e&&null!=e.key?E(e.key):r.toString(36)}function q(e,r){e.func.call(e.context,r,e.count++)}function F(e,r,t){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,r,e.count++),Array.isArray(e)?L(e,n,t,function(e){return e}):null!=e&&(C(e)&&(e=w(e,o+(!e.key||r&&r.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+t)),n.push(e))}function L(e,r,t,n,o){var u="";null!=t&&(u=(""+t).replace(R,"$&/")+"/"),I(e,F,r=j(r,u,n,o)),O(r)}var M={current:null};function D(){var e=M.current;if(null===e)throw Error(d(321));return e}var V={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:e};exports.Children={map:function(e,r,t){if(null==e)return e;var n=[];return L(e,n,null,r,t),n},forEach:function(e,r,t){if(null==e)return e;I(e,q,r=j(null,null,r,t)),O(r)},count:function(e){return I(e,function(){return null},null)},toArray:function(e){var r=[];return L(e,r,null,function(e){return e}),r},only:function(e){if(!C(e))throw Error(d(143));return e}},exports.Component=m,exports.Fragment=o,exports.Profiler=f,exports.PureComponent=b,exports.StrictMode=u,exports.Suspense=s,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,exports.cloneElement=function(r,n,o){if(null==r)throw Error(d(267,r));var u=e({},r.props),f=r.key,c=r.ref,l=r._owner;if(null!=n){if(void 0!==n.ref&&(c=n.ref,l=_.current),void 0!==n.key&&(f=""+n.key),r.type&&r.type.defaultProps)var i=r.type.defaultProps;for(s in n)k.call(n,s)&&!$.hasOwnProperty(s)&&(u[s]=void 0===n[s]&&void 0!==i?i[s]:n[s])}var s=arguments.length-2;if(1===s)u.children=o;else if(1<s){i=Array(s);for(var a=0;a<s;a++)i[a]=arguments[a+2];u.children=i}return{$$typeof:t,type:r.type,key:f,ref:c,props:u,_owner:l}},exports.createContext=function(e,r){return void 0===r&&(r=null),(e={$$typeof:l,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},exports.createElement=g,exports.createFactory=function(e){var r=g.bind(null,e);return r.type=e,r},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:i,render:e}},exports.isValidElement=C,exports.lazy=function(e){return{$$typeof:p,_ctor:e,_status:-1,_result:null}},exports.memo=function(e,r){return{$$typeof:a,type:e,compare:void 0===r?null:r}},exports.useCallback=function(e,r){return D().useCallback(e,r)},exports.useContext=function(e,r){return D().useContext(e,r)},exports.useDebugValue=function(){},exports.useEffect=function(e,r){return D().useEffect(e,r)},exports.useImperativeHandle=function(e,r,t){return D().useImperativeHandle(e,r,t)},exports.useLayoutEffect=function(e,r){return D().useLayoutEffect(e,r)},exports.useMemo=function(e,r){return D().useMemo(e,r)},exports.useReducer=function(e,r,t){return D().useReducer(e,r,t)},exports.useRef=function(e){return D().useRef(e)},exports.useState=function(e){return D().useState(e)},exports.version="16.14.0";
},{"object-assign":"J4Nk"}],"n8MK":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react.production.min.js");
},{"./cjs/react.production.min.js":"awqi"}],"RsE0":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&Symbol.for,r=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,f=e?Symbol.for("react.context"):60110,p=e?Symbol.for("react.async_mode"):60111,a=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,i=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,l=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,x=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,$=e?Symbol.for("react.scope"):60119;function d(e){if("object"==typeof e&&null!==e){var y=e.$$typeof;switch(y){case r:switch(e=e.type){case p:case a:case o:case s:case n:case i:return e;default:switch(e=e&&e.$$typeof){case f:case u:case m:case l:case c:return e;default:return y}}case t:return y}}}function C(e){return d(e)===a}exports.AsyncMode=p,exports.ConcurrentMode=a,exports.ContextConsumer=f,exports.ContextProvider=c,exports.Element=r,exports.ForwardRef=u,exports.Fragment=o,exports.Lazy=m,exports.Memo=l,exports.Portal=t,exports.Profiler=s,exports.StrictMode=n,exports.Suspense=i,exports.isAsyncMode=function(e){return C(e)||d(e)===p},exports.isConcurrentMode=C,exports.isContextConsumer=function(e){return d(e)===f},exports.isContextProvider=function(e){return d(e)===c},exports.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},exports.isForwardRef=function(e){return d(e)===u},exports.isFragment=function(e){return d(e)===o},exports.isLazy=function(e){return d(e)===m},exports.isMemo=function(e){return d(e)===l},exports.isPortal=function(e){return d(e)===t},exports.isProfiler=function(e){return d(e)===s},exports.isStrictMode=function(e){return d(e)===n},exports.isSuspense=function(e){return d(e)===i},exports.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===a||e===s||e===n||e===i||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===u||e.$$typeof===b||e.$$typeof===S||e.$$typeof===$||e.$$typeof===x)},exports.typeOf=d;
},{}],"H1RQ":[function(require,module,exports) {
"use strict";module.exports=require("./cjs/react-is.production.min.js");
},{"./cjs/react-is.production.min.js":"RsE0"}],"ElIr":[function(require,module,exports) {
"use strict";var e=require("react-is"),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function y(r){return e.isMemo(r)?p:a[r.$$typeof]||t}a[e.ForwardRef]=o,a[e.Memo]=p;var s=Object.defineProperty,c=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,n=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,l=Object.prototype;function m(e,t,o){if("string"!=typeof t){if(l){var p=f(t);p&&p!==l&&m(e,p,o)}var a=c(t);i&&(a=a.concat(i(t)));for(var d=y(e),u=y(t),g=0;g<a.length;++g){var O=a[g];if(!(r[O]||o&&o[O]||u&&u[O]||d&&d[O])){var P=n(t,O);try{s(e,O,P)}catch(v){}}}}return e}module.exports=m;
},{"react-is":"H1RQ"}],"vCxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__addDisposableResource=k,exports.__assign=void 0,exports.__asyncDelegator=g,exports.__asyncGenerator=x,exports.__asyncValues=O,exports.__await=m,exports.__awaiter=l,exports.__classPrivateFieldGet=T,exports.__classPrivateFieldIn=I,exports.__classPrivateFieldSet=D,exports.__createBinding=void 0,exports.__decorate=o,exports.__disposeResources=A,exports.__esDecorate=i,exports.__exportStar=_,exports.__extends=t,exports.__generator=p,exports.__importDefault=E,exports.__importStar=S,exports.__makeTemplateObject=j,exports.__metadata=f,exports.__param=a,exports.__propKey=s,exports.__read=h,exports.__rest=n,exports.__runInitializers=c,exports.__setFunctionName=u,exports.__spread=v,exports.__spreadArray=w,exports.__spreadArrays=b,exports.__values=d,exports.default=void 0;var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function o(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function a(e,t){return function(r,n){t(r,n,e)}}function i(e,t,r,n,o,a){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var c,s=n.kind,u="getter"===s?"get":"setter"===s?"set":"value",f=!t&&e?n.static?e:e.prototype:null,l=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),p=!1,y=r.length-1;y>=0;y--){var _={};for(var d in n)_[d]="access"===d?{}:n[d];for(var d in n.access)_.access[d]=n.access[d];_.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var h=(0,r[y])("accessor"===s?{get:l.get,set:l.set}:l[u],_);if("accessor"===s){if(void 0===h)continue;if(null===h||"object"!=typeof h)throw new TypeError("Object expected");(c=i(h.get))&&(l.get=c),(c=i(h.set))&&(l.set=c),(c=i(h.init))&&o.unshift(c)}else(c=i(h))&&("field"===s?o.unshift(c):l[u]=c)}f&&Object.defineProperty(f,n.name,l),p=!0}function c(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function s(e){return"symbol"==typeof e?e:"".concat(e)}function u(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(t){a(t)}}function c(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,c)}s((n=n.apply(e,t||[])).next())})}function p(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(s){c=[6,s],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}exports.__assign=r;var y=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function _(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||y(t,e,r)}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n}function w(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function x(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||c(e,t)})})}function c(e,t){try{(r=o[e](t)).value instanceof m?Promise.resolve(r.value.v).then(s,u):f(a[0][2],r)}catch(n){f(a[0][3],n)}var r}function s(e){c("next",e)}function u(e){c("throw",e)}function f(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function g(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:!1}:o?o(t):t}:o}}function O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof d?d(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}}function j(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}exports.__createBinding=y;var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&y(t,e,r);return P(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function T(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function D(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}function I(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function k(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if("function"!=typeof n)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var R="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function A(e){function t(t){e.error=e.hasError?new R(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(e){return t(e),r()})}catch(a){t(a)}}if(e.hasError)throw e.error}()}var F={__extends:t,__assign:r,__rest:n,__decorate:o,__param:a,__metadata:f,__awaiter:l,__generator:p,__createBinding:y,__exportStar:_,__values:d,__read:h,__spread:v,__spreadArrays:b,__spreadArray:w,__await:m,__asyncGenerator:x,__asyncDelegator:g,__asyncValues:O,__makeTemplateObject:j,__importStar:S,__importDefault:E,__classPrivateFieldGet:T,__classPrivateFieldSet:D,__classPrivateFieldIn:I,__addDisposableResource:k,__disposeResources:A};exports.default=F;
},{}],"gtjj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeUtf8=exports.decodeUtf8=void 0;const e=new TextDecoder("utf-8"),o=o=>e.decode(o);exports.decodeUtf8=o;const t=new TextEncoder,d=e=>t.encode(e);exports.encodeUtf8=d;
},{}],"mSUP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isWritableNodeStream=exports.isWritableDOMStream=exports.isUnderlyingSink=exports.isReadableNodeStream=exports.isReadableDOMStream=exports.isPromise=exports.isObservable=exports.isObject=exports.isIteratorResult=exports.isIterable=exports.isFlatbuffersByteBuffer=exports.isFileHandle=exports.isFetchResponse=exports.isFSReadStream=exports.isAsyncIterable=exports.isArrowJSON=exports.isArrayLike=exports.BigUint64ArrayAvailable=exports.BigUint64Array=exports.BigIntAvailable=exports.BigInt64ArrayAvailable=exports.BigInt64Array=exports.BigInt=void 0;const[t,e]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=(()=>{throw t()}),e.asUintN=(()=>{throw t()}),"undefined"!=typeof BigInt?[BigInt,!0]:[e,!1]})();exports.BigIntAvailable=e,exports.BigInt=t;const[r,s]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})();exports.BigInt64ArrayAvailable=s,exports.BigInt64Array=r;const[o,i]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})();exports.BigUint64ArrayAvailable=i,exports.BigUint64Array=o;const n=t=>"number"==typeof t,a=t=>"boolean"==typeof t,p=t=>"function"==typeof t,l=t=>null!=t&&Object(t)===t;exports.isObject=l;const c=t=>l(t)&&p(t.then);exports.isPromise=c;const x=t=>l(t)&&p(t.subscribe);exports.isObservable=x;const b=t=>l(t)&&p(t[Symbol.iterator]);exports.isIterable=b;const y=t=>l(t)&&p(t[Symbol.asyncIterator]);exports.isAsyncIterable=y;const d=t=>l(t)&&l(t.schema);exports.isArrowJSON=d;const g=t=>l(t)&&n(t.length);exports.isArrayLike=g;const f=t=>l(t)&&"done"in t&&"value"in t;exports.isIteratorResult=f;const B=t=>l(t)&&p(t.abort)&&p(t.close)&&p(t.start)&&p(t.write);exports.isUnderlyingSink=B;const u=t=>l(t)&&p(t.stat)&&n(t.fd);exports.isFileHandle=u;const A=t=>v(t)&&n(t.bytesRead);exports.isFSReadStream=A;const m=t=>l(t)&&h(t.body);exports.isFetchResponse=m;const I=t=>"_getDOMStream"in t&&"_getNodeStream"in t,S=t=>l(t)&&p(t.abort)&&p(t.getWriter)&&!I(t);exports.isWritableDOMStream=S;const h=t=>l(t)&&p(t.cancel)&&p(t.getReader)&&!I(t);exports.isReadableDOMStream=h;const w=t=>l(t)&&p(t.end)&&p(t.write)&&a(t.writable)&&!I(t);exports.isWritableNodeStream=w;const v=t=>l(t)&&p(t.read)&&p(t.pipe)&&a(t.readable)&&!I(t);exports.isReadableNodeStream=v;const R=t=>l(t)&&p(t.clear)&&p(t.bytes)&&p(t.position)&&p(t.setPosition)&&p(t.capacity)&&p(t.getBufferIdentifier)&&p(t.createLong);exports.isFlatbuffersByteBuffer=R;
},{}],"C375":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareArrayLike=D,exports.joinUint8Arrays=s,exports.memcpy=a,exports.rebaseValueOffsets=q,exports.toArrayBufferView=y,exports.toArrayBufferViewAsyncIterator=C,exports.toArrayBufferViewIterator=b,exports.toUint8ClampedArrayIterator=exports.toUint8ClampedArrayAsyncIterator=exports.toUint8ClampedArray=exports.toUint8ArrayIterator=exports.toUint8ArrayAsyncIterator=exports.toUint8Array=exports.toUint32ArrayIterator=exports.toUint32ArrayAsyncIterator=exports.toUint32Array=exports.toUint16ArrayIterator=exports.toUint16ArrayAsyncIterator=exports.toUint16Array=exports.toInt8ArrayIterator=exports.toInt8ArrayAsyncIterator=exports.toInt8Array=exports.toInt32ArrayIterator=exports.toInt32ArrayAsyncIterator=exports.toInt32Array=exports.toInt16ArrayIterator=exports.toInt16ArrayAsyncIterator=exports.toInt16Array=exports.toFloat64ArrayIterator=exports.toFloat64ArrayAsyncIterator=exports.toFloat64Array=exports.toFloat32ArrayIterator=exports.toFloat32ArrayAsyncIterator=exports.toFloat32Array=exports.toBigUint64Array=exports.toBigInt64Array=void 0;var t=require("tslib"),r=require("../util/utf8.mjs"),e=require("./compat.mjs");const o="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function n(t){const r=t[0]?[t[0]]:[];let e,o,n,a;for(let s,y,i=0,A=0,c=t.length;++i<c;)s=r[A],y=t[i],!s||!y||s.buffer!==y.buffer||y.byteOffset<s.byteOffset?y&&(r[++A]=y):(({byteOffset:e,byteLength:n}=s),({byteOffset:o,byteLength:a}=y),e+n<o||o+a<e?y&&(r[++A]=y):r[A]=new Uint8Array(s.buffer,e,o-e+a));return r}function a(t,r,e=0,o=r.byteLength){const n=t.byteLength,a=new Uint8Array(t.buffer,t.byteOffset,n),s=new Uint8Array(r.buffer,r.byteOffset,Math.min(o,n));return a.set(s,e),t}function s(t,r){const e=n(t),o=e.reduce((t,r)=>t+r.byteLength,0);let s,y,i,A=0,c=-1;const f=Math.min(r||Number.POSITIVE_INFINITY,o);for(const n=e.length;++c<n;){if(f<=A+(y=(s=e[c]).subarray(0,Math.min(s.length,f-A))).length){y.length<s.length?e[c]=s.subarray(y.length):y.length===s.length&&c++,i?a(i,y,A):i=y;break}a(i||(i=new Uint8Array(f)),y,A),A+=y.length}return[i||new Uint8Array(0),e.slice(c),o-(i?i.byteLength:0)]}function y(t,n){let a=(0,e.isIteratorResult)(n)?n.value:n;return a instanceof t?t===Uint8Array?new t(a.buffer,a.byteOffset,a.byteLength):a:a?("string"==typeof a&&(a=(0,r.encodeUtf8)(a)),a instanceof ArrayBuffer?new t(a):a instanceof o?new t(a):(0,e.isFlatbuffersByteBuffer)(a)?y(t,a.bytes()):ArrayBuffer.isView(a)?a.byteLength<=0?new t(0):new t(a.buffer,a.byteOffset,a.byteLength/t.BYTES_PER_ELEMENT):t.from(a)):new t(0)}const i=t=>y(Int8Array,t);exports.toInt8Array=i;const A=t=>y(Int16Array,t);exports.toInt16Array=A;const c=t=>y(Int32Array,t);exports.toInt32Array=c;const f=t=>y(e.BigInt64Array,t);exports.toBigInt64Array=f;const l=t=>y(Uint8Array,t);exports.toUint8Array=l;const p=t=>y(Uint16Array,t);exports.toUint16Array=p;const u=t=>y(Uint32Array,t);exports.toUint32Array=u;const I=t=>y(e.BigUint64Array,t);exports.toBigUint64Array=I;const x=t=>y(Float32Array,t);exports.toFloat32Array=x;const U=t=>y(Float64Array,t);exports.toFloat64Array=U;const d=t=>y(Uint8ClampedArray,t);exports.toUint8ClampedArray=d;const _=t=>(t.next(),t);function*b(t,r){const n=function*(t){yield t},a="string"==typeof r?n(r):ArrayBuffer.isView(r)?n(r):r instanceof ArrayBuffer?n(r):r instanceof o?n(r):(0,e.isIterable)(r)?r:n(r);return yield*_(function*(r){let e=null;do{e=r.next(yield y(t,e))}while(!e.done)}(a[Symbol.iterator]())),new t}const h=t=>b(Int8Array,t);exports.toInt8ArrayIterator=h;const g=t=>b(Int16Array,t);exports.toInt16ArrayIterator=g;const w=t=>b(Int32Array,t);exports.toInt32ArrayIterator=w;const m=t=>b(Uint8Array,t);exports.toUint8ArrayIterator=m;const B=t=>b(Uint16Array,t);exports.toUint16ArrayIterator=B;const F=t=>b(Uint32Array,t);exports.toUint32ArrayIterator=F;const L=t=>b(Float32Array,t);exports.toFloat32ArrayIterator=L;const O=t=>b(Float64Array,t);exports.toFloat64ArrayIterator=O;const V=t=>b(Uint8ClampedArray,t);function C(r,n){return(0,t.__asyncGenerator)(this,arguments,function*(){if((0,e.isPromise)(n))return yield(0,t.__await)(yield(0,t.__await)(yield*(0,t.__asyncDelegator)((0,t.__asyncValues)(C(r,yield(0,t.__await)(n))))));const a=function(r){return(0,t.__asyncGenerator)(this,arguments,function*(){yield yield(0,t.__await)(yield(0,t.__await)(r))})},s="string"==typeof n?a(n):ArrayBuffer.isView(n)?a(n):n instanceof ArrayBuffer?a(n):n instanceof o?a(n):(0,e.isIterable)(n)?function(r){return(0,t.__asyncGenerator)(this,arguments,function*(){yield(0,t.__await)(yield*(0,t.__asyncDelegator)((0,t.__asyncValues)(_(function*(t){let r=null;do{r=t.next(yield null==r?void 0:r.value)}while(!r.done)}(r[Symbol.iterator]())))))})}(n):(0,e.isAsyncIterable)(n)?n:a(n);return yield(0,t.__await)(yield*(0,t.__asyncDelegator)((0,t.__asyncValues)(_(function(e){return(0,t.__asyncGenerator)(this,arguments,function*(){let o=null;do{o=yield(0,t.__await)(e.next(yield yield(0,t.__await)(y(r,o))))}while(!o.done)})}(s[Symbol.asyncIterator]()))))),yield(0,t.__await)(new r)})}exports.toUint8ClampedArrayIterator=V;const S=t=>C(Int8Array,t);exports.toInt8ArrayAsyncIterator=S;const v=t=>C(Int16Array,t);exports.toInt16ArrayAsyncIterator=v;const E=t=>C(Int32Array,t);exports.toInt32ArrayAsyncIterator=E;const M=t=>C(Uint8Array,t);exports.toUint8ArrayAsyncIterator=M;const j=t=>C(Uint16Array,t);exports.toUint16ArrayAsyncIterator=j;const G=t=>C(Uint32Array,t);exports.toUint32ArrayAsyncIterator=G;const N=t=>C(Float32Array,t);exports.toFloat32ArrayAsyncIterator=N;const P=t=>C(Float64Array,t);exports.toFloat64ArrayAsyncIterator=P;const T=t=>C(Uint8ClampedArray,t);function q(t,r,e){if(0!==t){e=e.slice(0,r+1);for(let o=-1;++o<=r;)e[o]+=t}return e}function D(t,r){let e=0;const o=t.length;if(o!==r.length)return!1;if(o>0)do{if(t[e]!==r[e])return!1}while(++e<o);return!0}exports.toUint8ClampedArrayAsyncIterator=T;
},{"tslib":"vCxL","../util/utf8.mjs":"gtjj","./compat.mjs":"mSUP"}],"DQHq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("tslib"),t=require("../util/buffer.mjs"),r={fromIterable:e=>i(n(e)),fromAsyncIterable:e=>i(a(e)),fromDOMStream:e=>i(o(e)),fromNodeStream:e=>i(s(e)),toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}};exports.default=r;const i=e=>(e.next(),e);function*n(e){let r,i,n,a,o=!1,l=[],d=0;({cmd:n,size:a}=yield null);const s=(0,t.toUint8ArrayIterator)(e)[Symbol.iterator]();try{do{if(({done:r,value:i}=Number.isNaN(a-d)?s.next():s.next(a-d)),!r&&i.byteLength>0&&(l.push(i),d+=i.byteLength),r||a<=d)do{({cmd:n,size:a}=yield"peek"===n?(0,t.joinUint8Arrays)(l,a)[0]:([i,l,d]=(0,t.joinUint8Arrays)(l,a),i))}while(a<d)}while(!r)}catch(y){(o=!0)&&"function"==typeof s.throw&&s.throw(y)}finally{!1===o&&"function"==typeof s.return&&s.return(null)}return null}function a(r){return(0,e.__asyncGenerator)(this,arguments,function*(){let i,n,a,o,l=!1,d=[],s=0;({cmd:a,size:o}=yield yield(0,e.__await)(null));const y=(0,t.toUint8ArrayAsyncIterator)(r)[Symbol.asyncIterator]();try{do{if(({done:i,value:n}=Number.isNaN(o-s)?yield(0,e.__await)(y.next()):yield(0,e.__await)(y.next(o-s))),!i&&n.byteLength>0&&(d.push(n),s+=n.byteLength),i||o<=s)do{({cmd:a,size:o}=yield yield(0,e.__await)("peek"===a?(0,t.joinUint8Arrays)(d,o)[0]:([n,d,s]=(0,t.joinUint8Arrays)(d,o),n)))}while(o<s)}while(!i)}catch(c){(l=!0)&&"function"==typeof y.throw&&(yield(0,e.__await)(y.throw(c)))}finally{!1===l&&"function"==typeof y.return&&(yield(0,e.__await)(y.return(new Uint8Array(0))))}return yield(0,e.__await)(null)})}function o(r){return(0,e.__asyncGenerator)(this,arguments,function*(){let i,n,a,o=!1,d=!1,s=[],y=0;({cmd:n,size:a}=yield yield(0,e.__await)(null));const c=new l(r);try{do{if(({done:o,value:i}=Number.isNaN(a-y)?yield(0,e.__await)(c.read()):yield(0,e.__await)(c.read(a-y))),!o&&i.byteLength>0&&(s.push((0,t.toUint8Array)(i)),y+=i.byteLength),o||a<=y)do{({cmd:n,size:a}=yield yield(0,e.__await)("peek"===n?(0,t.joinUint8Arrays)(s,a)[0]:([i,s,y]=(0,t.joinUint8Arrays)(s,a),i)))}while(a<y)}while(!o)}catch(u){(d=!0)&&(yield(0,e.__await)(c.cancel(u)))}finally{!1===d?yield(0,e.__await)(c.cancel()):r.locked&&c.releaseLock()}return yield(0,e.__await)(null)})}class l{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){const{reader:e,source:r}=this;e&&(yield e.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){if(0===r)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=(0,t.toUint8Array)(e)),e})}}const d=(e,t)=>{const r=e=>i([t,e]);let i;return[t,r,new Promise(n=>(i=n)&&e.once(t,r))]};function s(r){return(0,e.__asyncGenerator)(this,arguments,function*(){const i=[];let n,a,o,l="error",s=!1,y=null,c=0,u=[];if(({cmd:n,size:a}=yield yield(0,e.__await)(null)),r.isTTY)return yield yield(0,e.__await)(new Uint8Array(0)),yield(0,e.__await)(null);try{i[0]=d(r,"end"),i[1]=d(r,"error");do{if(i[2]=d(r,"readable"),[l,y]=yield(0,e.__await)(Promise.race(i.map(e=>e[2]))),"error"===l)break;if((s="end"===l)||(Number.isFinite(a-c)?(o=(0,t.toUint8Array)(r.read(a-c))).byteLength<a-c&&(o=(0,t.toUint8Array)(r.read())):o=(0,t.toUint8Array)(r.read()),o.byteLength>0&&(u.push(o),c+=o.byteLength)),s||a<=c)do{({cmd:n,size:a}=yield yield(0,e.__await)("peek"===n?(0,t.joinUint8Arrays)(u,a)[0]:([o,u,c]=(0,t.joinUint8Arrays)(u,a),o)))}while(a<c)}while(!s)}finally{yield(0,e.__await)(function(e,t){return o=u=null,new Promise((i,n)=>{for(const[t,o]of e)r.off(t,o);try{const e=r.destroy;e&&e.call(r,t),t=void 0}catch(a){t=a||t}finally{null!=t?n(t):i()}})}(i,"error"===l?y:null))}return yield(0,e.__await)(null)})}
},{"tslib":"vCxL","../util/buffer.mjs":"C375"}],"KhZo":[function(require,module,exports) {
"use strict";var e,t,n,i,o,a,s,r,p;Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnionMode=exports.Type=exports.TimeUnit=exports.Precision=exports.MetadataVersion=exports.MessageHeader=exports.IntervalUnit=exports.DateUnit=exports.BufferType=void 0,exports.MetadataVersion=e,function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"}(e||(exports.MetadataVersion=e={})),exports.UnionMode=t,function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"}(t||(exports.UnionMode=t={})),exports.Precision=n,function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"}(n||(exports.Precision=n={})),exports.DateUnit=i,function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"}(i||(exports.DateUnit=i={})),exports.TimeUnit=o,function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"}(o||(exports.TimeUnit=o={})),exports.IntervalUnit=a,function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(a||(exports.IntervalUnit=a={})),exports.MessageHeader=s,function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"}(s||(exports.MessageHeader=s={})),exports.Type=r,function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(r||(exports.Type=r={})),exports.BufferType=p,function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"}(p||(exports.BufferType=p={}));
},{}],"yBDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.valueToString=i;var e=require("./compat.mjs");const r=void 0;function i(t){if(null===t)return"null";if(t===r)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"==typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof e.BigInt64Array||t instanceof e.BigUint64Array?`[${[...t].map(e=>i(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,r)=>"bigint"==typeof r?`${r}`:r)}
},{"./compat.mjs":"mSUP"}],"CURF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrowBigNumSymbol=exports.bignumToString=exports.bignumToBigInt=exports.BN=void 0;var t=require("./buffer.mjs"),r=require("./compat.mjs");const e=Symbol.for("isArrowBigNum");function n(r,...e){return 0===e.length?Object.setPrototypeOf((0,t.toArrayBufferView)(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}function o(...t){return n.apply(this,t)}function i(...t){return n.apply(this,t)}function s(...t){return n.apply(this,t)}function y(t){const{buffer:e,byteOffset:n,length:o,signed:i}=t,s=new r.BigUint64Array(e,n,o),y=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let p=y?BigInt(1):BigInt(0),u=BigInt(0);if(y){for(const t of s)p+=~t*(BigInt(1)<<BigInt(32)*u++);p*=BigInt(-1)}else for(const r of s)p+=r*(BigInt(1)<<BigInt(32)*u++);return p}let p,u;function c(t){let r="";const e=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const o=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let i=-1;const s=n.length-1;do{for(e[0]=n[i=0];i<s;)n[i++]=e[1]=e[0]/10,e[0]=(e[0]-10*e[1]<<16)+n[i];n[i]=e[1]=e[0]/10,e[0]=e[0]-10*e[1],r=`${e[0]}${r}`}while(o[0]||o[1]||o[2]||o[3]);return null!=r?r:"0"}exports.isArrowBigNumSymbol=e,n.prototype[e]=!0,n.prototype.toJSON=function(){return`"${p(this)}"`},n.prototype.valueOf=function(){return y(this)},n.prototype.toString=function(){return p(this)},n.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return y(this);case"string":return p(this);case"default":return u(this)}return p(this)},Object.setPrototypeOf(o.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(i.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(s.prototype,Object.create(Uint32Array.prototype)),Object.assign(o.prototype,n.prototype,{constructor:o,signed:!0,TypedArray:Int32Array,BigIntArray:r.BigInt64Array}),Object.assign(i.prototype,n.prototype,{constructor:i,signed:!1,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),Object.assign(s.prototype,n.prototype,{constructor:s,signed:!0,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),exports.bignumToString=p,exports.bignumToBigInt=u,r.BigIntAvailable?(exports.bignumToBigInt=u=(t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:c(t)),exports.bignumToString=p=(t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:c(t))):(exports.bignumToString=p=c,exports.bignumToBigInt=u=p);class a{static new(t,e){switch(e){case!0:return new o(t);case!1:return new i(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case r.BigInt64Array:return new o(t)}return 16===t.byteLength?new s(t):new i(t)}static signed(t){return new o(t)}static unsigned(t){return new i(t)}static decimal(t){return new s(t)}constructor(t,r){return a.new(t,r)}}exports.BN=a;
},{"./buffer.mjs":"C375","./compat.mjs":"mSUP"}],"Ei7N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utf8=exports.Union=exports.Uint8=exports.Uint64=exports.Uint32=exports.Uint16=exports.TimestampSecond=exports.TimestampNanosecond=exports.TimestampMillisecond=exports.TimestampMicrosecond=exports.Timestamp=exports.TimeSecond=exports.TimeNanosecond=exports.TimeMillisecond=exports.TimeMicrosecond=exports.Time=exports.Struct=exports.SparseUnion=exports.Null=exports.Map_=exports.List=exports.IntervalYearMonth=exports.IntervalDayTime=exports.Interval=exports.Int8=exports.Int64=exports.Int32=exports.Int16=exports.Int=exports.Float64=exports.Float32=exports.Float16=exports.Float=exports.FixedSizeList=exports.FixedSizeBinary=exports.Dictionary=exports.DenseUnion=exports.Decimal=exports.Date_=exports.DateMillisecond=exports.DateDay=exports.DataType=exports.Bool=exports.Binary=void 0,exports.strideForType=ut;var t,e,r,i,n,s,o,p,a,y,l,c,u,d,T,g,S,x,m,h=require("./util/compat.mjs"),I=require("./enum.mjs");class A{static isNull(t){return(null==t?void 0:t.typeId)===I.Type.Null}static isInt(t){return(null==t?void 0:t.typeId)===I.Type.Int}static isFloat(t){return(null==t?void 0:t.typeId)===I.Type.Float}static isBinary(t){return(null==t?void 0:t.typeId)===I.Type.Binary}static isUtf8(t){return(null==t?void 0:t.typeId)===I.Type.Utf8}static isBool(t){return(null==t?void 0:t.typeId)===I.Type.Bool}static isDecimal(t){return(null==t?void 0:t.typeId)===I.Type.Decimal}static isDate(t){return(null==t?void 0:t.typeId)===I.Type.Date}static isTime(t){return(null==t?void 0:t.typeId)===I.Type.Time}static isTimestamp(t){return(null==t?void 0:t.typeId)===I.Type.Timestamp}static isInterval(t){return(null==t?void 0:t.typeId)===I.Type.Interval}static isList(t){return(null==t?void 0:t.typeId)===I.Type.List}static isStruct(t){return(null==t?void 0:t.typeId)===I.Type.Struct}static isUnion(t){return(null==t?void 0:t.typeId)===I.Type.Union}static isFixedSizeBinary(t){return(null==t?void 0:t.typeId)===I.Type.FixedSizeBinary}static isFixedSizeList(t){return(null==t?void 0:t.typeId)===I.Type.FixedSizeList}static isMap(t){return(null==t?void 0:t.typeId)===I.Type.Map}static isDictionary(t){return(null==t?void 0:t.typeId)===I.Type.Dictionary}static isDenseUnion(t){return A.isUnion(t)&&t.mode===I.UnionMode.Dense}static isSparseUnion(t){return A.isUnion(t)&&t.mode===I.UnionMode.Sparse}get typeId(){return I.Type.NONE}}exports.DataType=A,t=Symbol.toStringTag,A[t]=(t=>(t.children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"))(A.prototype);class U extends A{toString(){return"Null"}get typeId(){return I.Type.Null}}exports.Null=U,U[e=Symbol.toStringTag]=(t=>t[Symbol.toStringTag]="Null")(U.prototype);class b extends A{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return I.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?h.BigInt64Array:h.BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}exports.Int=b,r=Symbol.toStringTag,b[r]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(b.prototype);class v extends b{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}exports.Int8=v;class D extends b{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}exports.Int16=D;class F extends b{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}exports.Int32=F;class O extends b{constructor(){super(!0,64)}get ArrayType(){return h.BigInt64Array}}exports.Int64=O;class $ extends b{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}exports.Uint8=$;class B extends b{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}exports.Uint16=B;class M extends b{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}exports.Uint32=M;class N extends b{constructor(){super(!1,64)}get ArrayType(){return h.BigUint64Array}}exports.Uint64=N,Object.defineProperty(v.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(D.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(F.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(O.prototype,"ArrayType",{value:h.BigInt64Array}),Object.defineProperty($.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(B.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(M.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(N.prototype,"ArrayType",{value:h.BigUint64Array});class z extends A{constructor(t){super(),this.precision=t}get typeId(){return I.Type.Float}get ArrayType(){switch(this.precision){case I.Precision.HALF:return Uint16Array;case I.Precision.SINGLE:return Float32Array;case I.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}exports.Float=z,i=Symbol.toStringTag,z[i]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(z.prototype);class L extends z{constructor(){super(I.Precision.HALF)}}exports.Float16=L;class f extends z{constructor(){super(I.Precision.SINGLE)}}exports.Float32=f;class E extends z{constructor(){super(I.Precision.DOUBLE)}}exports.Float64=E,Object.defineProperty(L.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(f.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(E.prototype,"ArrayType",{value:Float64Array});class j extends A{constructor(){super()}get typeId(){return I.Type.Binary}toString(){return"Binary"}}exports.Binary=j,j[n=Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(j.prototype);class P extends A{constructor(){super()}get typeId(){return I.Type.Utf8}toString(){return"Utf8"}}exports.Utf8=P,P[s=Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(P.prototype);class W extends A{constructor(){super()}get typeId(){return I.Type.Bool}toString(){return"Bool"}}exports.Bool=W,W[o=Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(W.prototype);class C extends A{constructor(t,e,r=128){super(),this.scale=t,this.precision=e,this.bitWidth=r}get typeId(){return I.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}exports.Decimal=C,C[p=Symbol.toStringTag]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(C.prototype);class w extends A{constructor(t){super(),this.unit=t}get typeId(){return I.Type.Date}toString(){return`Date${32*(this.unit+1)}<${I.DateUnit[this.unit]}>`}}exports.Date_=w,a=Symbol.toStringTag,w[a]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(w.prototype);class _ extends w{constructor(){super(I.DateUnit.DAY)}}exports.DateDay=_;class Y extends w{constructor(){super(I.DateUnit.MILLISECOND)}}exports.DateMillisecond=Y;class k extends A{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return I.Type.Time}toString(){return`Time${this.bitWidth}<${I.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return h.BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}exports.Time=k,y=Symbol.toStringTag,k[y]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(k.prototype);class H extends k{constructor(){super(I.TimeUnit.SECOND,32)}}exports.TimeSecond=H;class R extends k{constructor(){super(I.TimeUnit.MILLISECOND,32)}}exports.TimeMillisecond=R;class q extends k{constructor(){super(I.TimeUnit.MICROSECOND,64)}}exports.TimeMicrosecond=q;class G extends k{constructor(){super(I.TimeUnit.NANOSECOND,64)}}exports.TimeNanosecond=G;class J extends A{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return I.Type.Timestamp}toString(){return`Timestamp<${I.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}exports.Timestamp=J,l=Symbol.toStringTag,J[l]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(J.prototype);class K extends J{constructor(t){super(I.TimeUnit.SECOND,t)}}exports.TimestampSecond=K;class Q extends J{constructor(t){super(I.TimeUnit.MILLISECOND,t)}}exports.TimestampMillisecond=Q;class V extends J{constructor(t){super(I.TimeUnit.MICROSECOND,t)}}exports.TimestampMicrosecond=V;class X extends J{constructor(t){super(I.TimeUnit.NANOSECOND,t)}}exports.TimestampNanosecond=X;class Z extends A{constructor(t){super(),this.unit=t}get typeId(){return I.Type.Interval}toString(){return`Interval<${I.IntervalUnit[this.unit]}>`}}exports.Interval=Z,c=Symbol.toStringTag,Z[c]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Z.prototype);class tt extends Z{constructor(){super(I.IntervalUnit.DAY_TIME)}}exports.IntervalDayTime=tt;class et extends Z{constructor(){super(I.IntervalUnit.YEAR_MONTH)}}exports.IntervalYearMonth=et;class rt extends A{constructor(t){super(),this.children=[t]}get typeId(){return I.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}exports.List=rt,rt[u=Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(rt.prototype);class it extends A{constructor(t){super(),this.children=t}get typeId(){return I.Type.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}exports.Struct=it,it[d=Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(it.prototype);class nt extends A{constructor(t,e,r){super(),this.mode=t,this.children=r,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((t,e,r)=>(t[e]=r)&&t||t,Object.create(null))}get typeId(){return I.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}exports.Union=nt,T=Symbol.toStringTag,nt[T]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(nt.prototype);class st extends nt{constructor(t,e){super(I.UnionMode.Dense,t,e)}}exports.DenseUnion=st;class ot extends nt{constructor(t,e){super(I.UnionMode.Sparse,t,e)}}exports.SparseUnion=ot;class pt extends A{constructor(t){super(),this.byteWidth=t}get typeId(){return I.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}exports.FixedSizeBinary=pt,pt[g=Symbol.toStringTag]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(pt.prototype);class at extends A{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return I.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}exports.FixedSizeList=at,at[S=Symbol.toStringTag]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(at.prototype);class yt extends A{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return I.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}exports.Map_=yt,yt[x=Symbol.toStringTag]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(yt.prototype);const lt=(t=>()=>++t)(-1);class ct extends A{constructor(t,e,r,i){super(),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=null==r?lt():"number"==typeof r?r:r.low}get typeId(){return I.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function ut(t){const e=t;switch(t.typeId){case I.Type.Decimal:return t.bitWidth/32;case I.Type.Timestamp:return 2;case I.Type.Date:case I.Type.Interval:return 1+e.unit;case I.Type.FixedSizeList:return e.listSize;case I.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}exports.Dictionary=ct,ct[m=Symbol.toStringTag]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(ct.prototype);
},{"./util/compat.mjs":"mSUP","./enum.mjs":"KhZo"}],"vLL6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Visitor=void 0;var e=require("./enum.mjs"),i=require("./type.mjs");class t{visitMany(e,...i){return e.map((e,t)=>this.visit(e,...i.map(e=>e[t])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,i=!0){return n(this,e,i)}getVisitFnByTypeId(e,i=!0){return s(this,e,i)}visitNull(e,...i){return null}visitBool(e,...i){return null}visitInt(e,...i){return null}visitFloat(e,...i){return null}visitUtf8(e,...i){return null}visitBinary(e,...i){return null}visitFixedSizeBinary(e,...i){return null}visitDate(e,...i){return null}visitTimestamp(e,...i){return null}visitTime(e,...i){return null}visitDecimal(e,...i){return null}visitList(e,...i){return null}visitStruct(e,...i){return null}visitUnion(e,...i){return null}visitDictionary(e,...i){return null}visitInterval(e,...i){return null}visitFixedSizeList(e,...i){return null}visitMap(e,...i){return null}}function n(t,n,a=!0){return"number"==typeof n?s(t,n,a):"string"==typeof n&&n in e.Type?s(t,e.Type[n],a):n&&n instanceof i.DataType?s(t,r(n),a):(null==n?void 0:n.type)&&n.type instanceof i.DataType?s(t,r(n.type),a):s(t,e.Type.NONE,a)}function s(i,t,n=!0){let s=null;switch(t){case e.Type.Null:s=i.visitNull;break;case e.Type.Bool:s=i.visitBool;break;case e.Type.Int:s=i.visitInt;break;case e.Type.Int8:s=i.visitInt8||i.visitInt;break;case e.Type.Int16:s=i.visitInt16||i.visitInt;break;case e.Type.Int32:s=i.visitInt32||i.visitInt;break;case e.Type.Int64:s=i.visitInt64||i.visitInt;break;case e.Type.Uint8:s=i.visitUint8||i.visitInt;break;case e.Type.Uint16:s=i.visitUint16||i.visitInt;break;case e.Type.Uint32:s=i.visitUint32||i.visitInt;break;case e.Type.Uint64:s=i.visitUint64||i.visitInt;break;case e.Type.Float:s=i.visitFloat;break;case e.Type.Float16:s=i.visitFloat16||i.visitFloat;break;case e.Type.Float32:s=i.visitFloat32||i.visitFloat;break;case e.Type.Float64:s=i.visitFloat64||i.visitFloat;break;case e.Type.Utf8:s=i.visitUtf8;break;case e.Type.Binary:s=i.visitBinary;break;case e.Type.FixedSizeBinary:s=i.visitFixedSizeBinary;break;case e.Type.Date:s=i.visitDate;break;case e.Type.DateDay:s=i.visitDateDay||i.visitDate;break;case e.Type.DateMillisecond:s=i.visitDateMillisecond||i.visitDate;break;case e.Type.Timestamp:s=i.visitTimestamp;break;case e.Type.TimestampSecond:s=i.visitTimestampSecond||i.visitTimestamp;break;case e.Type.TimestampMillisecond:s=i.visitTimestampMillisecond||i.visitTimestamp;break;case e.Type.TimestampMicrosecond:s=i.visitTimestampMicrosecond||i.visitTimestamp;break;case e.Type.TimestampNanosecond:s=i.visitTimestampNanosecond||i.visitTimestamp;break;case e.Type.Time:s=i.visitTime;break;case e.Type.TimeSecond:s=i.visitTimeSecond||i.visitTime;break;case e.Type.TimeMillisecond:s=i.visitTimeMillisecond||i.visitTime;break;case e.Type.TimeMicrosecond:s=i.visitTimeMicrosecond||i.visitTime;break;case e.Type.TimeNanosecond:s=i.visitTimeNanosecond||i.visitTime;break;case e.Type.Decimal:s=i.visitDecimal;break;case e.Type.List:s=i.visitList;break;case e.Type.Struct:s=i.visitStruct;break;case e.Type.Union:s=i.visitUnion;break;case e.Type.DenseUnion:s=i.visitDenseUnion||i.visitUnion;break;case e.Type.SparseUnion:s=i.visitSparseUnion||i.visitUnion;break;case e.Type.Dictionary:s=i.visitDictionary;break;case e.Type.Interval:s=i.visitInterval;break;case e.Type.IntervalDayTime:s=i.visitIntervalDayTime||i.visitInterval;break;case e.Type.IntervalYearMonth:s=i.visitIntervalYearMonth||i.visitInterval;break;case e.Type.FixedSizeList:s=i.visitFixedSizeList;break;case e.Type.Map:s=i.visitMap}if("function"==typeof s)return s;if(!n)return()=>null;throw new Error(`Unrecognized type '${e.Type[t]}'`)}function r(i){switch(i.typeId){case e.Type.Null:return e.Type.Null;case e.Type.Int:{const{bitWidth:t,isSigned:n}=i;switch(t){case 8:return n?e.Type.Int8:e.Type.Uint8;case 16:return n?e.Type.Int16:e.Type.Uint16;case 32:return n?e.Type.Int32:e.Type.Uint32;case 64:return n?e.Type.Int64:e.Type.Uint64}return e.Type.Int}case e.Type.Float:switch(i.precision){case e.Precision.HALF:return e.Type.Float16;case e.Precision.SINGLE:return e.Type.Float32;case e.Precision.DOUBLE:return e.Type.Float64}return e.Type.Float;case e.Type.Binary:return e.Type.Binary;case e.Type.Utf8:return e.Type.Utf8;case e.Type.Bool:return e.Type.Bool;case e.Type.Decimal:return e.Type.Decimal;case e.Type.Time:switch(i.unit){case e.TimeUnit.SECOND:return e.Type.TimeSecond;case e.TimeUnit.MILLISECOND:return e.Type.TimeMillisecond;case e.TimeUnit.MICROSECOND:return e.Type.TimeMicrosecond;case e.TimeUnit.NANOSECOND:return e.Type.TimeNanosecond}return e.Type.Time;case e.Type.Timestamp:switch(i.unit){case e.TimeUnit.SECOND:return e.Type.TimestampSecond;case e.TimeUnit.MILLISECOND:return e.Type.TimestampMillisecond;case e.TimeUnit.MICROSECOND:return e.Type.TimestampMicrosecond;case e.TimeUnit.NANOSECOND:return e.Type.TimestampNanosecond}return e.Type.Timestamp;case e.Type.Date:switch(i.unit){case e.DateUnit.DAY:return e.Type.DateDay;case e.DateUnit.MILLISECOND:return e.Type.DateMillisecond}return e.Type.Date;case e.Type.Interval:switch(i.unit){case e.IntervalUnit.DAY_TIME:return e.Type.IntervalDayTime;case e.IntervalUnit.YEAR_MONTH:return e.Type.IntervalYearMonth}return e.Type.Interval;case e.Type.Map:return e.Type.Map;case e.Type.List:return e.Type.List;case e.Type.Struct:return e.Type.Struct;case e.Type.Union:switch(i.mode){case e.UnionMode.Dense:return e.Type.DenseUnion;case e.UnionMode.Sparse:return e.Type.SparseUnion}return e.Type.Union;case e.Type.FixedSizeBinary:return e.Type.FixedSizeBinary;case e.Type.FixedSizeList:return e.Type.FixedSizeList;case e.Type.Dictionary:return e.Type.Dictionary}throw new Error(`Unrecognized type '${e.Type[i.typeId]}'`)}exports.Visitor=t,t.prototype.visitInt8=null,t.prototype.visitInt16=null,t.prototype.visitInt32=null,t.prototype.visitInt64=null,t.prototype.visitUint8=null,t.prototype.visitUint16=null,t.prototype.visitUint32=null,t.prototype.visitUint64=null,t.prototype.visitFloat16=null,t.prototype.visitFloat32=null,t.prototype.visitFloat64=null,t.prototype.visitDateDay=null,t.prototype.visitDateMillisecond=null,t.prototype.visitTimestampSecond=null,t.prototype.visitTimestampMillisecond=null,t.prototype.visitTimestampMicrosecond=null,t.prototype.visitTimestampNanosecond=null,t.prototype.visitTimeSecond=null,t.prototype.visitTimeMillisecond=null,t.prototype.visitTimeMicrosecond=null,t.prototype.visitTimeNanosecond=null,t.prototype.visitDenseUnion=null,t.prototype.visitSparseUnion=null,t.prototype.visitIntervalDayTime=null,t.prototype.visitIntervalYearMonth=null;
},{"./enum.mjs":"KhZo","./type.mjs":"Ei7N"}],"Qg3K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.float64ToUint16=n,exports.uint16ToFloat64=r;const t=new Float64Array(1),e=new Uint32Array(t.buffer);function r(t){const e=(31744&t)>>10,r=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(r?Number.NaN:1/0);case 0:return n*(r?6103515625e-14*r:0)}return n*Math.pow(2,e-15)*(1+r)}function n(r){if(r!=r)return 32256;t[0]=r;const n=(2147483648&e[1])>>16&65535;let o=2146435072&e[1],u=0;return o>=1089470464?e[0]>0?o=31744:(o=(2080374784&o)>>16,u=(1048575&e[1])>>10):o<=1056964608?(u=1048576+((u=1048576+(1048575&e[1]))<<(o>>20)-998)>>21,o=0):(o=o-1056964608>>10,u=512+(1048575&e[1])>>10),n|o|65535&u}
},{}],"F6QY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setVariableWidthBytes=exports.setTimestampSecond=exports.setTimestampNanosecond=exports.setTimestampMillisecond=exports.setTimestampMicrosecond=exports.setTimestamp=exports.setTimeSecond=exports.setTimeNanosecond=exports.setTimeMillisecond=exports.setTimeMicrosecond=exports.setTime=exports.setIntervalYearMonth=exports.setIntervalValue=exports.setIntervalDayTime=exports.setInt=exports.setFloat16=exports.setFloat=exports.setFixedSizeBinary=exports.setEpochMsToNanosecondsLong=exports.setEpochMsToMillisecondsLong=exports.setEpochMsToMicrosecondsLong=exports.setEpochMsToDays=exports.setDecimal=exports.setDateMillisecond=exports.setDateDay=exports.setDate=exports.setAnyFloat=exports.instance=exports.SetVisitor=void 0;var t=require("../vector.mjs"),e=require("../visitor.mjs"),s=require("../util/utf8.mjs"),o=require("../util/math.mjs"),i=require("../enum.mjs");class r extends e.Visitor{}function n(t){return(e,s,o)=>{if(e.setValid(s,null!=o))return t(e,s,o)}}exports.SetVisitor=r;const p=(t,e,s)=>{t[e]=Math.trunc(s/864e5)};exports.setEpochMsToDays=p;const a=(t,e,s)=>{t[e]=Math.trunc(s%4294967296),t[e+1]=Math.trunc(s/4294967296)};exports.setEpochMsToMillisecondsLong=a;const c=(t,e,s)=>{t[e]=Math.trunc(1e3*s%4294967296),t[e+1]=Math.trunc(1e3*s/4294967296)};exports.setEpochMsToMicrosecondsLong=c;const l=(t,e,s)=>{t[e]=Math.trunc(1e6*s%4294967296),t[e+1]=Math.trunc(1e6*s/4294967296)};exports.setEpochMsToNanosecondsLong=l;const v=(t,e,s,o)=>{if(s+1<e.length){const{[s]:i,[s+1]:r}=e;t.set(o.subarray(0,r-i),i)}};exports.setVariableWidthBytes=v;const y=({offset:t,values:e},s,o)=>{const i=t+s;o?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},u=({values:t},e,s)=>{t[e]=s};exports.setInt=u;const m=({values:t},e,s)=>{t[e]=s};exports.setFloat=m;const d=({values:t},e,s)=>{t[e]=(0,o.float64ToUint16)(s)};exports.setFloat16=d;const x=(t,e,s)=>{switch(t.type.precision){case i.Precision.HALF:return d(t,e,s);case i.Precision.SINGLE:case i.Precision.DOUBLE:return m(t,e,s)}};exports.setAnyFloat=x;const T=({values:t},e,s)=>{p(t,e,s.valueOf())};exports.setDateDay=T;const M=({values:t},e,s)=>{a(t,2*e,s.valueOf())};exports.setDateMillisecond=M;const h=({stride:t,values:e},s,o)=>{e.set(o.subarray(0,t),t*s)};exports.setFixedSizeBinary=h;const f=({values:t,valueOffsets:e},s,o)=>v(t,e,s,o),D=({values:t,valueOffsets:e},o,i)=>{v(t,e,o,(0,s.encodeUtf8)(i))},I=(t,e,s)=>{t.type.unit===i.DateUnit.DAY?T(t,e,s):M(t,e,s)};exports.setDate=I;const S=({values:t},e,s)=>a(t,2*e,s/1e3);exports.setTimestampSecond=S;const O=({values:t},e,s)=>a(t,2*e,s);exports.setTimestampMillisecond=O;const U=({values:t},e,s)=>c(t,2*e,s);exports.setTimestampMicrosecond=U;const N=({values:t},e,s)=>l(t,2*e,s);exports.setTimestampNanosecond=N;const E=(t,e,s)=>{switch(t.type.unit){case i.TimeUnit.SECOND:return S(t,e,s);case i.TimeUnit.MILLISECOND:return O(t,e,s);case i.TimeUnit.MICROSECOND:return U(t,e,s);case i.TimeUnit.NANOSECOND:return N(t,e,s)}};exports.setTimestamp=E;const F=({values:t},e,s)=>{t[e]=s};exports.setTimeSecond=F;const g=({values:t},e,s)=>{t[e]=s};exports.setTimeMillisecond=g;const L=({values:t},e,s)=>{t[e]=s};exports.setTimeMicrosecond=L;const A=({values:t},e,s)=>{t[e]=s};exports.setTimeNanosecond=A;const V=(t,e,s)=>{switch(t.type.unit){case i.TimeUnit.SECOND:return F(t,e,s);case i.TimeUnit.MILLISECOND:return g(t,e,s);case i.TimeUnit.MICROSECOND:return L(t,e,s);case i.TimeUnit.NANOSECOND:return A(t,e,s)}};exports.setTime=V;const C=({values:t,stride:e},s,o)=>{t.set(o.subarray(0,e),e*s)};exports.setDecimal=C;const b=(t,e,s)=>{const o=t.children[0],i=t.valueOffsets,r=K.getVisitFn(o);if(Array.isArray(s))for(let n=-1,p=i[e],a=i[e+1];p<a;)r(o,p++,s[++n]);else for(let n=-1,p=i[e],a=i[e+1];p<a;)r(o,p++,s.get(++n))},B=(t,e,s)=>{const o=t.children[0],{valueOffsets:i}=t,r=K.getVisitFn(o);let{[e]:n,[e+1]:p}=i;const a=s instanceof Map?s.entries():Object.entries(s);for(const c of a)if(r(o,n,c),++n>=p)break},j=(t,e)=>(s,o,i,r)=>o&&s(o,t,e[r]),q=(t,e)=>(s,o,i,r)=>o&&s(o,t,e.get(r)),Y=(t,e)=>(s,o,i,r)=>o&&s(o,t,e.get(i.name)),w=(t,e)=>(s,o,i,r)=>o&&s(o,t,e[i.name]),z=(e,s,o)=>{const i=e.type.children.map(t=>K.getVisitFn(t.type)),r=o instanceof Map?Y(s,o):o instanceof t.Vector?q(s,o):Array.isArray(o)?j(s,o):w(s,o);e.type.children.forEach((t,s)=>r(i[s],e.children[s],t,s))},P=(t,e,s)=>{t.type.mode===i.UnionMode.Dense?_(t,e,s):R(t,e,s)},_=(t,e,s)=>{const o=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[o];K.visit(i,t.valueOffsets[e],s)},R=(t,e,s)=>{const o=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[o];K.visit(i,e,s)},W=(t,e,s)=>{var o;null===(o=t.dictionary)||void 0===o||o.set(t.values[e],s)},k=(t,e,s)=>{t.type.unit===i.IntervalUnit.DAY_TIME?G(t,e,s):H(t,e,s)};exports.setIntervalValue=k;const G=({values:t},e,s)=>{t.set(s.subarray(0,2),2*e)};exports.setIntervalDayTime=G;const H=({values:t},e,s)=>{t[e]=12*s[0]+s[1]%12};exports.setIntervalYearMonth=H;const J=(t,e,s)=>{const{stride:o}=t,i=t.children[0],r=K.getVisitFn(i);if(Array.isArray(s))for(let n=-1,p=e*o;++n<o;)r(i,p+n,s[n]);else for(let n=-1,p=e*o;++n<o;)r(i,p+n,s.get(n))};r.prototype.visitBool=n(y),r.prototype.visitInt=n(u),r.prototype.visitInt8=n(u),r.prototype.visitInt16=n(u),r.prototype.visitInt32=n(u),r.prototype.visitInt64=n(u),r.prototype.visitUint8=n(u),r.prototype.visitUint16=n(u),r.prototype.visitUint32=n(u),r.prototype.visitUint64=n(u),r.prototype.visitFloat=n(x),r.prototype.visitFloat16=n(d),r.prototype.visitFloat32=n(m),r.prototype.visitFloat64=n(m),r.prototype.visitUtf8=n(D),r.prototype.visitBinary=n(f),r.prototype.visitFixedSizeBinary=n(h),r.prototype.visitDate=n(I),r.prototype.visitDateDay=n(T),r.prototype.visitDateMillisecond=n(M),r.prototype.visitTimestamp=n(E),r.prototype.visitTimestampSecond=n(S),r.prototype.visitTimestampMillisecond=n(O),r.prototype.visitTimestampMicrosecond=n(U),r.prototype.visitTimestampNanosecond=n(N),r.prototype.visitTime=n(V),r.prototype.visitTimeSecond=n(F),r.prototype.visitTimeMillisecond=n(g),r.prototype.visitTimeMicrosecond=n(L),r.prototype.visitTimeNanosecond=n(A),r.prototype.visitDecimal=n(C),r.prototype.visitList=n(b),r.prototype.visitStruct=n(z),r.prototype.visitUnion=n(P),r.prototype.visitDenseUnion=n(_),r.prototype.visitSparseUnion=n(R),r.prototype.visitDictionary=n(W),r.prototype.visitInterval=n(k),r.prototype.visitIntervalDayTime=n(G),r.prototype.visitIntervalYearMonth=n(H),r.prototype.visitFixedSizeList=n(J),r.prototype.visitMap=n(B);const K=new r;exports.instance=K;
},{"../vector.mjs":"GTAu","../visitor.mjs":"vLL6","../util/utf8.mjs":"gtjj","../util/math.mjs":"Qg3K","../enum.mjs":"KhZo"}],"cEtr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StructRow=void 0;var e=require("../util/pretty.mjs"),t=require("../visitor/get.mjs"),r=require("../visitor/set.mjs");const n=Symbol.for("parent"),i=Symbol.for("rowIndex");class s{constructor(e,t){return this[n]=e,this[i]=t,new Proxy(this,new o)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[i],r=this[n],s=r.type.children,l={};for(let n=-1,i=s.length;++n<i;)l[s[n].name]=t.instance.visit(r.children[n],e);return l}toString(){return`{${[...this].map(([t,r])=>`${(0,e.valueToString)(t)}: ${(0,e.valueToString)(r)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new l(this[n],this[i])}}exports.StructRow=s;class l{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,t.instance.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(s.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[n]:{writable:!0,enumerable:!1,configurable:!1,value:null},[i]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class o{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[n].type.children.map(e=>e.name)}has(e,t){return-1!==e[n].type.children.findIndex(e=>e.name===t)}getOwnPropertyDescriptor(e,t){if(-1!==e[n].type.children.findIndex(e=>e.name===t))return{writable:!0,enumerable:!0,configurable:!0}}get(e,r){if(Reflect.has(e,r))return e[r];const s=e[n].type.children.findIndex(e=>e.name===r);if(-1!==s){const l=t.instance.visit(e[n].children[s],e[i]);return Reflect.set(e,r,l),l}}set(e,t,s){const l=e[n].type.children.findIndex(e=>e.name===t);return-1!==l?(r.instance.visit(e[n].children[l],e[i],s),Reflect.set(e,t,s)):!(!Reflect.has(e,t)&&"symbol"!=typeof t)&&Reflect.set(e,t,s)}}
},{"../util/pretty.mjs":"yBDa","../visitor/get.mjs":"xDBr","../visitor/set.mjs":"F6QY"}],"xDBr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instance=exports.GetVisitor=void 0;var t=require("../util/bn.mjs"),e=require("../vector.mjs"),i=require("../visitor.mjs"),s=require("../row/map.mjs"),r=require("../row/struct.mjs"),o=require("../util/utf8.mjs"),n=require("../util/math.mjs"),p=require("../enum.mjs");class a extends i.Visitor{}function u(t){return(e,i)=>e.getValid(i)?t(e,i):null}exports.GetVisitor=a;const v=(t,e)=>864e5*t[e],l=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),y=(t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3,c=(t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6,d=t=>new Date(t),m=(t,e)=>d(v(t,e)),T=(t,e)=>d(l(t,e)),I=(t,e)=>null,D=(t,e,i)=>{if(i+1>=e.length)return null;const s=e[i],r=e[i+1];return t.subarray(s,r)},U=({offset:t,values:e},i)=>{const s=t+i;return 0!=(e[s>>3]&1<<s%8)},f=({values:t},e)=>m(t,e),O=({values:t},e)=>T(t,2*e),M=({stride:t,values:e},i)=>e[t*i],N=({stride:t,values:e},i)=>(0,n.uint16ToFloat64)(e[t*i]),S=({values:t},e)=>t[e],h=({stride:t,values:e},i)=>e.subarray(t*i,t*(i+1)),w=({values:t,valueOffsets:e},i)=>D(t,e,i),C=({values:t,valueOffsets:e},i)=>{const s=D(t,e,i);return null!==s?(0,o.decodeUtf8)(s):null},x=({values:t},e)=>t[e],j=({type:t,values:e},i)=>t.precision!==p.Precision.HALF?e[i]:(0,n.uint16ToFloat64)(e[i]),E=(t,e)=>t.type.unit===p.DateUnit.DAY?f(t,e):O(t,e),F=({values:t},e)=>1e3*l(t,2*e),q=({values:t},e)=>l(t,2*e),L=({values:t},e)=>y(t,2*e),b=({values:t},e)=>c(t,2*e),A=(t,e)=>{switch(t.type.unit){case p.TimeUnit.SECOND:return F(t,e);case p.TimeUnit.MILLISECOND:return q(t,e);case p.TimeUnit.MICROSECOND:return L(t,e);case p.TimeUnit.NANOSECOND:return b(t,e)}},V=({values:t},e)=>t[e],B=({values:t},e)=>t[e],R=({values:t},e)=>t[e],g=({values:t},e)=>t[e],Y=(t,e)=>{switch(t.type.unit){case p.TimeUnit.SECOND:return V(t,e);case p.TimeUnit.MILLISECOND:return B(t,e);case p.TimeUnit.MICROSECOND:return R(t,e);case p.TimeUnit.NANOSECOND:return g(t,e)}},_=({values:e,stride:i},s)=>t.BN.decimal(e.subarray(i*s,i*(s+1))),z=(t,i)=>{const{valueOffsets:s,stride:r,children:o}=t,{[i*r]:n,[i*r+1]:p}=s,a=o[0].slice(n,p-n);return new e.Vector([a])},G=(t,e)=>{const{valueOffsets:i,children:r}=t,{[e]:o,[e+1]:n}=i,p=r[0];return new s.MapRow(p.slice(o,n-o))},P=(t,e)=>new r.StructRow(t,e),H=(t,e)=>t.type.mode===p.UnionMode.Dense?k(t,e):J(t,e),k=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i];return $.visit(s,t.valueOffsets[e])},J=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],s=t.children[i];return $.visit(s,e)},K=(t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])},Q=(t,e)=>t.type.unit===p.IntervalUnit.DAY_TIME?W(t,e):X(t,e),W=({values:t},e)=>t.subarray(2*e,2*(e+1)),X=({values:t},e)=>{const i=t[e],s=new Int32Array(2);return s[0]=Math.trunc(i/12),s[1]=Math.trunc(i%12),s},Z=(t,i)=>{const{stride:s,children:r}=t,o=r[0].slice(i*s,s);return new e.Vector([o])};a.prototype.visitNull=u(I),a.prototype.visitBool=u(U),a.prototype.visitInt=u(x),a.prototype.visitInt8=u(M),a.prototype.visitInt16=u(M),a.prototype.visitInt32=u(M),a.prototype.visitInt64=u(S),a.prototype.visitUint8=u(M),a.prototype.visitUint16=u(M),a.prototype.visitUint32=u(M),a.prototype.visitUint64=u(S),a.prototype.visitFloat=u(j),a.prototype.visitFloat16=u(N),a.prototype.visitFloat32=u(M),a.prototype.visitFloat64=u(M),a.prototype.visitUtf8=u(C),a.prototype.visitBinary=u(w),a.prototype.visitFixedSizeBinary=u(h),a.prototype.visitDate=u(E),a.prototype.visitDateDay=u(f),a.prototype.visitDateMillisecond=u(O),a.prototype.visitTimestamp=u(A),a.prototype.visitTimestampSecond=u(F),a.prototype.visitTimestampMillisecond=u(q),a.prototype.visitTimestampMicrosecond=u(L),a.prototype.visitTimestampNanosecond=u(b),a.prototype.visitTime=u(Y),a.prototype.visitTimeSecond=u(V),a.prototype.visitTimeMillisecond=u(B),a.prototype.visitTimeMicrosecond=u(R),a.prototype.visitTimeNanosecond=u(g),a.prototype.visitDecimal=u(_),a.prototype.visitList=u(z),a.prototype.visitStruct=u(P),a.prototype.visitUnion=u(H),a.prototype.visitDenseUnion=u(k),a.prototype.visitSparseUnion=u(J),a.prototype.visitDictionary=u(K),a.prototype.visitInterval=u(Q),a.prototype.visitIntervalDayTime=u(W),a.prototype.visitIntervalYearMonth=u(X),a.prototype.visitFixedSizeList=u(Z),a.prototype.visitMap=u(G);const $=new a;exports.instance=$;
},{"../util/bn.mjs":"CURF","../vector.mjs":"GTAu","../visitor.mjs":"vLL6","../row/map.mjs":"Yy3r","../row/struct.mjs":"cEtr","../util/utf8.mjs":"gtjj","../util/math.mjs":"Qg3K","../enum.mjs":"KhZo"}],"Yy3r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.kVals=exports.kKeys=exports.MapRow=void 0;var e=require("../vector.mjs"),t=require("../util/pretty.mjs"),r=require("../visitor/get.mjs"),s=require("../visitor/set.mjs");const n=Symbol.for("keys");exports.kKeys=n;const i=Symbol.for("vals");exports.kVals=i;class o{constructor(t){return this[n]=new e.Vector([t.children[0]]).memoize(),this[i]=t.children[1],new Proxy(this,new u)}[Symbol.iterator](){return new l(this[n],this[i])}get size(){return this[n].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[n],t=this[i],s={};for(let n=-1,i=e.length;++n<i;)s[e.get(n)]=r.instance.visit(t,n);return s}toString(){return`{${[...this].map(([e,r])=>`${(0,t.valueToString)(e)}: ${(0,t.valueToString)(r)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}exports.MapRow=o;class l{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),r.instance.visit(this.vals,e)]})}}class u{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[n].toArray().map(String)}has(e,t){return e[n].includes(t)}getOwnPropertyDescriptor(e,t){if(-1!==e[n].indexOf(t))return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const s=e[n].indexOf(t);if(-1!==s){const n=r.instance.visit(Reflect.get(e,i),s);return Reflect.set(e,t,n),n}}set(e,t,r){const o=e[n].indexOf(t);return-1!==o?(s.instance.visit(Reflect.get(e,i),o,r),Reflect.set(e,t,r)):!!Reflect.has(e,t)&&Reflect.set(e,t,r)}}Object.defineProperties(o.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[n]:{writable:!0,enumerable:!1,configurable:!1,value:null},[i]:{writable:!0,enumerable:!1,configurable:!1,value:null}});
},{"../vector.mjs":"GTAu","../util/pretty.mjs":"yBDa","../visitor/get.mjs":"xDBr","../visitor/set.mjs":"F6QY"}],"DJBt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clampIndex=o,exports.clampRange=c,exports.createElementComparator=a;var e=require("../vector.mjs"),t=require("../row/map.mjs"),r=require("../row/struct.mjs"),n=require("../util/buffer.mjs");function o(e,t,r){const n=e.length,o=t>-1?t:n+t%n;return r?r(e,o):o}let u;function c(e,t,r,n){const{length:o=0}=e;let c="number"!=typeof t?0:t,s="number"!=typeof r?o:r;return c<0&&(c=(c%o+o)%o),s<0&&(s=(s%o+o)%o),s<c&&(u=c,c=s,s=u),s>o&&(s=o),n?n(e,c,s):[c,s]}const s=e=>e!=e;function a(t){if("object"!==typeof t||null===t)return s(t)?s:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&(0,n.compareArrayLike)(t,e):t instanceof Map?i(t):Array.isArray(t)?f(t):t instanceof e.Vector?l(t):p(t,!0)}function f(e){const t=[];for(let r=-1,n=e.length;++r<n;)t[r]=a(e[r]);return y(t)}function i(e){let t=-1;const r=[];for(const n of e.values())r[++t]=a(n);return y(r)}function l(e){const t=[];for(let r=-1,n=e.length;++r<n;)t[r]=a(e.get(r));return y(t)}function p(e,t=!1){const r=Object.keys(e);if(!t&&0===r.length)return()=>!1;const n=[];for(let o=-1,u=r.length;++o<u;)n[o]=a(e[r[o]]);return y(n,r)}function y(n,o){return u=>{if(!u||"object"!=typeof u)return!1;switch(u.constructor){case Array:return m(n,u);case Map:return g(n,u,u.keys());case t.MapRow:case r.StructRow:case Object:case void 0:return g(n,u,o||Object.keys(u))}return u instanceof e.Vector&&b(n,u)}}function m(e,t){const r=e.length;if(t.length!==r)return!1;for(let n=-1;++n<r;)if(!e[n](t[n]))return!1;return!0}function b(e,t){const r=e.length;if(t.length!==r)return!1;for(let n=-1;++n<r;)if(!e[n](t.get(n)))return!1;return!0}function g(e,t,r){const n=r[Symbol.iterator](),o=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),u=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let c=0;const s=e.length;let a=u.next(),f=n.next(),i=o.next();for(;c<s&&!f.done&&!i.done&&!a.done&&(f.value===i.value&&e[c](a.value));++c,f=n.next(),i=o.next(),a=u.next());return!!(c===s&&f.done&&i.done&&a.done)||(n.return&&n.return(),o.return&&o.return(),u.return&&u.return(),!1)}
},{"../vector.mjs":"GTAu","../row/map.mjs":"Yy3r","../row/struct.mjs":"cEtr","../util/buffer.mjs":"C375"}],"wjHF":[function(require,module,exports) {
"use strict";function t(t,e,n,r){return 0!=(n&1<<r)}function e(t,e,n,r){return(n&1<<r)>>r}function n(t,e,n){return n?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}function r(e,n,r){const s=r.byteLength+7&-8;if(e>0||r.byteLength<s){const u=new Uint8Array(s);return u.set(e%8==0?r.subarray(e>>3):i(new o(r,e,n,null,t)).subarray(0,s)),u}return r}function i(t){const e=[];let n=0,r=0,i=0;for(const s of t)s&&(i|=1<<r),8==++r&&(e[n++]=i,i=r=0);(0===n||r>0)&&(e[n++]=i);const o=new Uint8Array(e.length+7&-8);return o.set(e),o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitIterator=void 0,exports.getBit=e,exports.getBool=t,exports.packBools=i,exports.popcnt_array=u,exports.popcnt_bit_range=s,exports.popcnt_uint32=h,exports.setBool=n,exports.truncateBitmap=r;class o{constructor(t,e,n,r,i){this.bytes=t,this.length=n,this.context=r,this.get=i,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function s(t,n,r){if(r-n<=0)return 0;if(r-n<8){let i=0;for(const s of new o(t,n,r-n,t,e))i+=s;return i}const i=r>>3<<3,h=n+(n%8==0?0:8-n%8);return s(t,n,h)+s(t,i,r)+u(t,h>>3,i-h>>3)}function u(t,e,n){let r=0,i=Math.trunc(e);const o=new DataView(t.buffer,t.byteOffset,t.byteLength),s=void 0===n?t.byteLength:i+n;for(;s-i>=4;)r+=h(o.getUint32(i)),i+=4;for(;s-i>=2;)r+=h(o.getUint16(i)),i+=2;for(;s-i>=1;)r+=h(o.getUint8(i)),i+=1;return r}function h(t){let e=Math.trunc(t);return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}exports.BitIterator=o;
},{}],"BsTJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.kUnknownNullCount=exports.Data=void 0,exports.makeData=o;var t=require("./vector.mjs"),e=require("./enum.mjs"),n=require("./type.mjs"),i=require("./util/bit.mjs"),l=require("./visitor.mjs"),r=require("./util/buffer.mjs");const s=-1;exports.kUnknownNullCount=s;class u{constructor(t,e,i,l,r,s=[],a){let o;this.type=t,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(l||0,-1)),r instanceof u?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=(0,n.strideForType)(t),r&&((o=r[0])&&(this.valueOffsets=o),(o=r[1])&&(this.values=o),(o=r[2])&&(this.nullBitmap=o),(o=r[3])&&(this.typeIds=o))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:i,typeIds:l}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),i&&(t+=i.byteLength),l&&(t+=l.byteLength),this.children.reduce((t,e)=>t+e.byteLength,t)}get nullCount(){let t,e=this._nullCount;return e<=s&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-(0,i.popcnt_bit_range)(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!=(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:n,offset:i}=this,l=i+t>>3,r=(i+t)%8,s=n[l]>>r&1;return e?0===s&&(n[l]|=1<<r,this._nullCount=this.nullCount+1):1===s&&(n[l]&=~(1<<r),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,n=this.length,i=this._nullCount,l=this,r=this.children){return new u(t,e,n,i,l,r,this.dictionary)}slice(t,e){const{stride:n,typeId:i,children:l}=this,r=+(0===this._nullCount)-1,s=16===i?n:1,u=this._sliceBuffers(t,e,n,i);return this.clone(this.type,this.offset+t,e,r,u,0===l.length||this.valueOffsets?l:this._sliceChildren(l,s*t,s*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===e.Type.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:l}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);r[n>>3]=(1<<n-(-8&n))-1,l>0&&r.set((0,i.truncateBitmap)(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[e.BufferType.VALIDITY]=r,this.clone(this.type,0,t,l+(t-n),s)}_sliceBuffers(t,n,i,l){let r;const{buffers:s}=this;return(r=s[e.BufferType.TYPE])&&(s[e.BufferType.TYPE]=r.subarray(t,t+n)),(r=s[e.BufferType.OFFSET])&&(s[e.BufferType.OFFSET]=r.subarray(t,t+n+1))||(r=s[e.BufferType.DATA])&&(s[e.BufferType.DATA]=6===l?r:r.subarray(i*t,i*(t+n))),s}_sliceChildren(t,e,n){return t.map(t=>t.slice(e,n))}}exports.Data=u,u.prototype.children=Object.freeze([]);class a extends l.Visitor{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:n=0,length:i=0}=t;return new u(e,n,i,0)}visitBool(t){const{type:e,offset:n=0}=t,i=(0,r.toUint8Array)(t.nullBitmap),l=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:s=l.length>>3,nullCount:a=(t.nullBitmap?-1:0)}=t;return new u(e,n,s,a,[void 0,l,i])}visitInt(t){const{type:e,offset:n=0}=t,i=(0,r.toUint8Array)(t.nullBitmap),l=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:s=l.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new u(e,n,s,a,[void 0,l,i])}visitFloat(t){const{type:e,offset:n=0}=t,i=(0,r.toUint8Array)(t.nullBitmap),l=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:s=l.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new u(e,n,s,a,[void 0,l,i])}visitUtf8(t){const{type:e,offset:n=0}=t,i=(0,r.toUint8Array)(t.data),l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toInt32Array)(t.valueOffsets),{length:a=s.length-1,nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,n,a,o,[s,i,l])}visitBinary(t){const{type:e,offset:n=0}=t,i=(0,r.toUint8Array)(t.data),l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toInt32Array)(t.valueOffsets),{length:a=s.length-1,nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,n,a,o,[s,i,l])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:a=s.length/(0,n.strideForType)(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,i,a,o,[void 0,s,l])}visitDate(t){const{type:e,offset:i=0}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:a=s.length/(0,n.strideForType)(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,i,a,o,[void 0,s,l])}visitTimestamp(t){const{type:e,offset:i=0}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:a=s.length/(0,n.strideForType)(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,i,a,o,[void 0,s,l])}visitTime(t){const{type:e,offset:i=0}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:a=s.length/(0,n.strideForType)(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,i,a,o,[void 0,s,l])}visitDecimal(t){const{type:e,offset:i=0}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:a=s.length/(0,n.strideForType)(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,i,a,o,[void 0,s,l])}visitList(t){const{type:e,offset:n=0,child:i}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toInt32Array)(t.valueOffsets),{length:a=s.length-1,nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,n,a,o,[s,void 0,l],[i])}visitStruct(t){const{type:e,offset:n=0,children:i=[]}=t,l=(0,r.toUint8Array)(t.nullBitmap),{length:s=i.reduce((t,{length:e})=>Math.max(t,e),0),nullCount:a=(t.nullBitmap?-1:0)}=t;return new u(e,n,s,a,[void 0,void 0,l],i)}visitUnion(t){const{type:e,offset:i=0,children:l=[]}=t,s=(0,r.toUint8Array)(t.nullBitmap),a=(0,r.toArrayBufferView)(e.ArrayType,t.typeIds),{length:o=a.length,nullCount:h=(t.nullBitmap?-1:0)}=t;if(n.DataType.isSparseUnion(e))return new u(e,i,o,h,[void 0,void 0,s,a],l);const y=(0,r.toInt32Array)(t.valueOffsets);return new u(e,i,o,h,[y,void 0,s,a],l)}visitDictionary(e){const{type:n,offset:i=0}=e,l=(0,r.toUint8Array)(e.nullBitmap),s=(0,r.toArrayBufferView)(n.indices.ArrayType,e.data),{dictionary:o=new t.Vector([(new a).visit({type:n.dictionary})])}=e,{length:h=s.length,nullCount:y=(e.nullBitmap?-1:0)}=e;return new u(n,i,h,y,[void 0,s,l],[],o)}visitInterval(t){const{type:e,offset:i=0}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toArrayBufferView)(e.ArrayType,t.data),{length:a=s.length/(0,n.strideForType)(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new u(e,i,a,o,[void 0,s,l])}visitFixedSizeList(t){const{type:e,offset:i=0,child:l=(new a).visit({type:e.valueType})}=t,s=(0,r.toUint8Array)(t.nullBitmap),{length:o=l.length/(0,n.strideForType)(e),nullCount:h=(t.nullBitmap?-1:0)}=t;return new u(e,i,o,h,[void 0,void 0,s],[l])}visitMap(t){const{type:e,offset:n=0,child:i=(new a).visit({type:e.childType})}=t,l=(0,r.toUint8Array)(t.nullBitmap),s=(0,r.toInt32Array)(t.valueOffsets),{length:o=s.length-1,nullCount:h=(t.nullBitmap?-1:0)}=t;return new u(e,n,o,h,[s,void 0,l],[i])}}function o(t){return(new a).visit(t)}
},{"./vector.mjs":"GTAu","./enum.mjs":"KhZo","./type.mjs":"Ei7N","./util/bit.mjs":"wjHF","./visitor.mjs":"vLL6","./util/buffer.mjs":"C375"}],"uIZ0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChunkedIterator=void 0,exports.binarySearch=u,exports.computeChunkNullCounts=n,exports.computeChunkOffsets=e,exports.isChunkedValid=o,exports.sliceChunks=r,exports.wrapChunkedCall1=s,exports.wrapChunkedCall2=h,exports.wrapChunkedIndexOf=i;class t{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function n(t){return t.reduce((t,n)=>t+n.nullCount,0)}function e(t){return t.reduce((t,n,e)=>(t[e+1]=t[e]+n.length,t),new Uint32Array(t.length+1))}function r(t,n,e,r){const u=[];for(let o=-1,s=t.length;++o<s;){const s=t[o],h=n[o],{length:i}=s;if(h>=r)break;if(e>=h+i)continue;if(h>=e&&h+i<=r){u.push(s);continue}const c=Math.max(0,e-h),l=Math.min(r-h,i);u.push(s.slice(c,l-c))}return 0===u.length&&u.push(t[0].slice(0,0)),u}function u(t,n,e,r){let u=0,o=0,s=n.length-1;do{if(u>=s-1)return e<n[s]?r(t,u,e-n[u]):null;e<n[o=u+Math.trunc(.5*(s-u))]?s=o:u=o}while(u<s)}function o(t,n){return t.getValid(n)}function s(t){function n(n,e,r){return t(n[e],r)}return function(t){return u(this.data,this._offsets,t,n)}}function h(t){let n;function e(e,r,u){return t(e[r],u,n)}return function(t,r){const o=this.data;n=r;const s=u(o,this._offsets,t,e);return n=void 0,s}}function i(t){let n;function e(e,r,u){let o=u,s=0,h=0;for(let i=r-1,c=e.length;++i<c;){const r=e[i];if(~(s=t(r,n,o)))return h+s;o=0,h+=r.length}return-1}return function(t,r){n=t;const o=this.data,s="number"!=typeof r?e(o,0,0):u(o,this._offsets,r,e);return n=void 0,s}}exports.ChunkedIterator=t;
},{}],"a9n0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instance=exports.IndexOfVisitor=void 0;var t=require("../visitor.mjs"),i=require("./get.mjs"),o=require("../util/bit.mjs"),e=require("../util/vector.mjs");class r extends t.Visitor{}function p(t,i){return null===i&&t.length>0?0:-1}function s(t,i){const{nullBitmap:e}=t;if(!e||t.nullCount<=0)return-1;let r=0;for(const p of new o.BitIterator(e,t.offset+(i||0),t.length,e,o.getBool)){if(!p)return r;++r}return-1}function n(t,o,r){if(void 0===o)return-1;if(null===o)return s(t,r);const p=i.instance.getVisitFn(t),n=(0,e.createElementComparator)(o);for(let i=(r||0)-1,e=t.length;++i<e;)if(n(p(t,i)))return i;return-1}function v(t,o,r){const p=i.instance.getVisitFn(t),s=(0,e.createElementComparator)(o);for(let i=(r||0)-1,e=t.length;++i<e;)if(s(p(t,i)))return i;return-1}exports.IndexOfVisitor=r,r.prototype.visitNull=p,r.prototype.visitBool=n,r.prototype.visitInt=n,r.prototype.visitInt8=n,r.prototype.visitInt16=n,r.prototype.visitInt32=n,r.prototype.visitInt64=n,r.prototype.visitUint8=n,r.prototype.visitUint16=n,r.prototype.visitUint32=n,r.prototype.visitUint64=n,r.prototype.visitFloat=n,r.prototype.visitFloat16=n,r.prototype.visitFloat32=n,r.prototype.visitFloat64=n,r.prototype.visitUtf8=n,r.prototype.visitBinary=n,r.prototype.visitFixedSizeBinary=n,r.prototype.visitDate=n,r.prototype.visitDateDay=n,r.prototype.visitDateMillisecond=n,r.prototype.visitTimestamp=n,r.prototype.visitTimestampSecond=n,r.prototype.visitTimestampMillisecond=n,r.prototype.visitTimestampMicrosecond=n,r.prototype.visitTimestampNanosecond=n,r.prototype.visitTime=n,r.prototype.visitTimeSecond=n,r.prototype.visitTimeMillisecond=n,r.prototype.visitTimeMicrosecond=n,r.prototype.visitTimeNanosecond=n,r.prototype.visitDecimal=n,r.prototype.visitList=n,r.prototype.visitStruct=n,r.prototype.visitUnion=n,r.prototype.visitDenseUnion=v,r.prototype.visitSparseUnion=v,r.prototype.visitDictionary=n,r.prototype.visitInterval=n,r.prototype.visitIntervalDayTime=n,r.prototype.visitIntervalYearMonth=n,r.prototype.visitFixedSizeList=n,r.prototype.visitMap=n;const y=new r;exports.instance=y;
},{"../visitor.mjs":"vLL6","./get.mjs":"xDBr","../util/bit.mjs":"wjHF","../util/vector.mjs":"DJBt"}],"I28h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instance=exports.IteratorVisitor=void 0;var t=require("../visitor.mjs"),i=require("../enum.mjs"),e=require("../type.mjs"),o=require("../util/chunk.mjs");class r extends t.Visitor{}function p(t){const{type:r}=t;if(0===t.nullCount&&1===t.stride&&(r.typeId===i.Type.Timestamp||r instanceof e.Int&&64!==r.bitWidth||r instanceof e.Time&&64!==r.bitWidth||r instanceof e.Float&&r.precision!==i.Precision.HALF))return new o.ChunkedIterator(t.data.length,i=>{const e=t.data[i];return e.values.subarray(0,e.length)[Symbol.iterator]()});let p=0;return new o.ChunkedIterator(t.data.length,i=>{const e=t.data[i].length,o=t.slice(p,p+e);return p+=e,new s(o)})}exports.IteratorVisitor=r;class s{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}r.prototype.visitNull=p,r.prototype.visitBool=p,r.prototype.visitInt=p,r.prototype.visitInt8=p,r.prototype.visitInt16=p,r.prototype.visitInt32=p,r.prototype.visitInt64=p,r.prototype.visitUint8=p,r.prototype.visitUint16=p,r.prototype.visitUint32=p,r.prototype.visitUint64=p,r.prototype.visitFloat=p,r.prototype.visitFloat16=p,r.prototype.visitFloat32=p,r.prototype.visitFloat64=p,r.prototype.visitUtf8=p,r.prototype.visitBinary=p,r.prototype.visitFixedSizeBinary=p,r.prototype.visitDate=p,r.prototype.visitDateDay=p,r.prototype.visitDateMillisecond=p,r.prototype.visitTimestamp=p,r.prototype.visitTimestampSecond=p,r.prototype.visitTimestampMillisecond=p,r.prototype.visitTimestampMicrosecond=p,r.prototype.visitTimestampNanosecond=p,r.prototype.visitTime=p,r.prototype.visitTimeSecond=p,r.prototype.visitTimeMillisecond=p,r.prototype.visitTimeMicrosecond=p,r.prototype.visitTimeNanosecond=p,r.prototype.visitDecimal=p,r.prototype.visitList=p,r.prototype.visitStruct=p,r.prototype.visitUnion=p,r.prototype.visitDenseUnion=p,r.prototype.visitSparseUnion=p,r.prototype.visitDictionary=p,r.prototype.visitInterval=p,r.prototype.visitIntervalDayTime=p,r.prototype.visitIntervalYearMonth=p,r.prototype.visitFixedSizeList=p,r.prototype.visitMap=p;const n=new r;exports.instance=n;
},{"../visitor.mjs":"vLL6","../enum.mjs":"KhZo","../type.mjs":"Ei7N","../util/chunk.mjs":"uIZ0"}],"gkv9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instance=exports.GetByteLengthVisitor=void 0;var t=require("../visitor.mjs"),e=require("../enum.mjs");const i=(t,e)=>t+e;class r extends t.Visitor{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,i){return t.type.unit===e.TimeUnit.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce((t,i)=>t+d.visit(i,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((t,i)=>t+d.visit(i,e),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}exports.GetByteLengthVisitor=r;const s=({valueOffsets:t},e)=>t[e+1]-t[e]+8,n=({valueOffsets:t},e)=>t[e+1]-t[e]+8,o=({valueOffsets:t,stride:e,children:i},r)=>{const s=i[0],{[r*e]:n}=t,{[r*e+1]:o}=t,p=d.getVisitFn(s.type),v=s.slice(n,o-n);let u=8;for(let y=-1,d=o-n;++y<d;)u+=p(v,y);return u},p=({stride:t,children:e},i)=>{const r=e[0],s=r.slice(i*t,t),n=d.getVisitFn(r.type);let o=0;for(let p=-1,v=s.length;++p<v;)o+=n(s,p);return o},v=(t,i)=>t.type.mode===e.UnionMode.Dense?u(t,i):y(t,i),u=({type:t,children:e,typeIds:i,valueOffsets:r},s)=>{const n=t.typeIdToChildIndex[i[s]];return 8+d.visit(e[n],r[s])},y=({children:t},e)=>4+d.visitMany(t,t.map(()=>e)).reduce(i,0);r.prototype.visitUtf8=s,r.prototype.visitBinary=n,r.prototype.visitList=o,r.prototype.visitFixedSizeList=p,r.prototype.visitUnion=v,r.prototype.visitDenseUnion=u,r.prototype.visitSparseUnion=y;const d=new r;exports.instance=d;
},{"../visitor.mjs":"vLL6","../enum.mjs":"KhZo"}],"GTAu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vector=void 0,exports.makeVector=b;var e,t=require("./enum.mjs"),n=require("./util/vector.mjs"),i=d(require("./type.mjs")),r=i,a=require("./data.mjs"),s=require("./util/chunk.mjs"),o=require("./util/compat.mjs"),c=require("./visitor/get.mjs"),u=require("./visitor/set.mjs"),y=require("./visitor/indexof.mjs"),l=require("./visitor/iterator.mjs"),h=require("./visitor/bytelength.mjs");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}const p={},g={};class m{constructor(e){var t,n,r;const o=e[0]instanceof m?e.flatMap(e=>e.data):e;if(0===o.length||o.some(e=>!(e instanceof a.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");const c=null===(t=o[0])||void 0===t?void 0:t.type;switch(o.length){case 0:this._offsets=[0];break;case 1:{const{get:e,set:t,indexOf:n,byteLength:i}=p[c.typeId],r=o[0];this.isValid=(e=>(0,s.isChunkedValid)(r,e)),this.get=(t=>e(r,t)),this.set=((e,n)=>t(r,e,n)),this.indexOf=(e=>n(r,e)),this.getByteLength=(e=>i(r,e)),this._offsets=[0,r.length];break}default:Object.setPrototypeOf(this,g[c.typeId]),this._offsets=(0,s.computeChunkOffsets)(o)}this.data=o,this.type=c,this.stride=(0,i.strideForType)(c),this.numChildren=null!==(r=null===(n=c.children)||void 0===n?void 0:n.length)&&void 0!==r?r:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=(0,s.computeChunkNullCounts)(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${t.Type[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return l.instance.visit(this)}concat(...e){return new m(this.data.concat(e.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new m((0,n.clampRange)(this,e,t,({data:e,_offsets:t},n,i)=>(0,s.sliceChunks)(e,t,n,i)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:i,stride:r,ArrayType:a}=this;switch(e.typeId){case t.Type.Int:case t.Type.Float:case t.Type.Decimal:case t.Type.Time:case t.Type.Timestamp:switch(n.length){case 0:return new a;case 1:return n[0].values.subarray(0,i*r);default:return n.reduce((e,{values:t,length:n})=>(e.array.set(t.subarray(0,n*r),e.offset),e.offset+=n*r,e),{array:new a(i*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt(null===(t=this.type.children)||void 0===t?void 0:t.findIndex(t=>t.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new m(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return!!i.DataType.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(i.DataType.isDictionary(this.type)){const e=new w(this.data[0].dictionary),t=this.data.map(t=>{const n=t.clone();return n.dictionary=e,n});return new m(t)}return new w(this)}unmemoize(){if(i.DataType.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),t=this.data.map(t=>{const n=t.clone();return n.dictionary=e,n});return new m(t)}return this}}exports.Vector=m,e=Symbol.toStringTag,m[e]=(e=>{e.type=i.DataType.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const n=Object.keys(t.Type).map(e=>t.Type[e]).filter(e=>"number"==typeof e&&e!==t.Type.NONE);for(const t of n){const n=c.instance.getVisitFnByTypeId(t),i=u.instance.getVisitFnByTypeId(t),r=y.instance.getVisitFnByTypeId(t),a=h.instance.getVisitFnByTypeId(t);p[t]={get:n,set:i,indexOf:r,byteLength:a},g[t]=Object.create(e,{isValid:{value:(0,s.wrapChunkedCall1)(s.isChunkedValid)},get:{value:(0,s.wrapChunkedCall1)(c.instance.getVisitFnByTypeId(t))},set:{value:(0,s.wrapChunkedCall2)(u.instance.getVisitFnByTypeId(t))},indexOf:{value:(0,s.wrapChunkedIndexOf)(y.instance.getVisitFnByTypeId(t))},getByteLength:{value:(0,s.wrapChunkedCall1)(h.instance.getVisitFnByTypeId(t))}})}return"Vector"})(m.prototype);class w extends m{constructor(e){super(e.data);const t=this.get,n=this.set,i=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(e){const n=r[e];if(void 0!==n)return n;const i=t.call(this,e);return r[e]=i,i}}),Object.defineProperty(this,"set",{value(e,t){n.call(this,e,t),r[e]=t}}),Object.defineProperty(this,"slice",{value:(e,t)=>new w(i.call(this,e,t))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new m(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function b(e){if(e){if(e instanceof a.Data)return new m([e]);if(e instanceof m)return new m(e.data);if(e.type instanceof i.DataType)return new m([(0,a.makeData)(e)]);if(Array.isArray(e))return new m(e.flatMap(e=>O(e)));if(ArrayBuffer.isView(e)){e instanceof DataView&&(e=new Uint8Array(e.buffer));const t={offset:0,length:e.length,nullCount:0,data:e};if(e instanceof Int8Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Int8}))]);if(e instanceof Int16Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Int16}))]);if(e instanceof Int32Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Int32}))]);if(e instanceof o.BigInt64Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Int64}))]);if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Uint8}))]);if(e instanceof Uint16Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Uint16}))]);if(e instanceof Uint32Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Uint32}))]);if(e instanceof o.BigUint64Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Uint64}))]);if(e instanceof Float32Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Float32}))]);if(e instanceof Float64Array)return new m([(0,a.makeData)(Object.assign(Object.assign({},t),{type:new r.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function O(e){return e instanceof a.Data?[e]:e instanceof m?e.data:b(e).data}
},{"./enum.mjs":"KhZo","./util/vector.mjs":"DJBt","./type.mjs":"Ei7N","./data.mjs":"BsTJ","./util/chunk.mjs":"uIZ0","./util/compat.mjs":"mSUP","./visitor/get.mjs":"xDBr","./visitor/set.mjs":"F6QY","./visitor/indexof.mjs":"a9n0","./visitor/iterator.mjs":"I28h","./visitor/bytelength.mjs":"gkv9"}],"UzUi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createIsValidFunction=n;var e=require("../util/pretty.mjs"),t=require("../util/compat.mjs");function n(e){if(!e||e.length<=0)return function(e){return!0};let t="";const n=e.filter(e=>e==e);return n.length>0&&(t=`\n    switch (x) {${n.map(e=>`\n        case ${r(e)}:`).join("")}\n            return false;\n    }`),e.length!==n.length&&(t=`if (x !== x) return false;\n${t}`),new Function("x",`${t}\nreturn true;`)}function r(n){return"bigint"!=typeof n?(0,e.valueToString)(n):t.BigIntAvailable?`${(0,e.valueToString)(n)}n`:`"${(0,e.valueToString)(n)}"`}
},{"../util/pretty.mjs":"yBDa","../util/compat.mjs":"mSUP"}],"sJwc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OffsetsBufferBuilder=exports.DataBufferBuilder=exports.BufferBuilder=exports.BitmapBufferBuilder=void 0;var t=require("../util/buffer.mjs");const e=(t,e)=>(Math.ceil(t)*e+63&-64||64)/e,r=(e,r=0)=>e.length>=r?e.subarray(0,r):(0,t.memcpy)(new e.constructor(r),e,0);class s{constructor(t,e=1){this.buffer=t,this.stride=e,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/e))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const r=this.stride,s=this.length*r,i=this.buffer.length;s>=i&&this._resize(e(0===i?1*s:2*s,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=e(t*this.stride,this.BYTES_PER_ELEMENT);const s=r(this.buffer,t);return this.clear(),s}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=(0,t.memcpy)(new this.ArrayType(e),this.buffer)}}exports.BufferBuilder=s,s.prototype.offset=0;class i extends s{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}}exports.DataBufferBuilder=i;class h extends i{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){const{buffer:r}=this.reserve(t-this.length+1),s=t>>3,i=t%8,h=r[s]>>i&1;return e?0===h&&(r[s]|=1<<i,++this.numValid):1===h&&(r[s]&=~(1<<i),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}exports.BitmapBufferBuilder=h;class u extends i{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,e){const r=this.length-1,s=this.reserve(t-r+1).buffer;return r<t++&&s.fill(s[r],r,t),s[t]=s[t-1]+e,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}exports.OffsetsBufferBuilder=u;
},{"../util/buffer.mjs":"C375"}],"riDd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VariableWidthBuilder=exports.FixedWidthBuilder=exports.Builder=void 0;var e=require("./vector.mjs"),t=require("./data.mjs"),s=require("./row/map.mjs"),i=require("./type.mjs"),n=require("./builder/valid.mjs"),r=require("./builder/buffer.mjs");class l{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=(0,i.strideForType)(e),this._nulls=new r.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=(0,n.createIsValidFunction)(t))}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}toVector(){return new e.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;const{_offsets:t,_values:s,_nulls:i,_typeIds:n,children:r}=this;return t&&(e+=t.byteLength),s&&(e+=s.byteLength),i&&(e+=i.byteLength),n&&(e+=n.byteLength),r.reduce((e,t)=>e+t.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((e,t)=>e+t.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,s,i,n;const{type:r,length:l,nullCount:h,_typeIds:u,_offsets:d,_values:o,_nulls:a}=this;(s=null==u?void 0:u.flush(l))?n=null==d?void 0:d.flush(l):e=(n=null==d?void 0:d.flush(l))?null==o?void 0:o.flush(d.last()):null==o?void 0:o.flush(l),h>0&&(i=null==a?void 0:a.flush(l));const p=this.children.map(e=>e.flush());return this.clear(),(0,t.makeData)({type:r,length:l,nullCount:h,children:p,child:p[0],data:e,typeIds:s,nullBitmap:i,valueOffsets:n})}finish(){this.finished=!0;for(const e of this.children)e.finish();return this}clear(){var e,t,s,i;this.length=0,null===(e=this._nulls)||void 0===e||e.clear(),null===(t=this._values)||void 0===t||t.clear(),null===(s=this._offsets)||void 0===s||s.clear(),null===(i=this._typeIds)||void 0===i||i.clear();for(const n of this.children)n.clear();return this}}exports.Builder=l,l.prototype.length=1,l.prototype.stride=1,l.prototype.children=null,l.prototype.finished=!1,l.prototype.nullValues=null,l.prototype._isValid=(()=>!0);class h extends l{constructor(e){super(e),this._values=new r.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){const s=this._values;return s.reserve(e-s.length+1),super.setValue(e,t)}}exports.FixedWidthBuilder=h;class u extends l{constructor(e){super(e),this._pendingLength=0,this._offsets=new r.OffsetsBufferBuilder}setValue(e,t){const i=this._pending||(this._pending=new Map),n=i.get(e);n&&(this._pendingLength-=n.length),this._pendingLength+=t instanceof s.MapRow?t[s.kKeys].length:t.length,i.set(e,t)}setValid(e,t){return!!super.setValid(e,t)||((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}exports.VariableWidthBuilder=u;
},{"./vector.mjs":"GTAu","./data.mjs":"BsTJ","./row/map.mjs":"Yy3r","./type.mjs":"Ei7N","./builder/valid.mjs":"UzUi","./builder/buffer.mjs":"sJwc"}],"EkT1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Block=void 0;class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,s,r){return t.prep(8,24),t.writeInt64(r),t.pad(4),t.writeInt32(s),t.writeInt64(e),t.offset()}}exports.Block=t;
},{}],"k0dV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SIZE_PREFIX_LENGTH=exports.SIZEOF_SHORT=exports.SIZEOF_INT=exports.FILE_IDENTIFIER_LENGTH=void 0;const E=2;exports.SIZEOF_SHORT=2;const I=4;exports.SIZEOF_INT=4;const e=4;exports.FILE_IDENTIFIER_LENGTH=4;const t=4;exports.SIZE_PREFIX_LENGTH=4;
},{}],"kkYO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isLittleEndian=exports.int32=exports.float64=exports.float32=void 0;const t=new Int32Array(2);exports.int32=t;const e=new Float32Array(t.buffer);exports.float32=e;const r=new Float64Array(t.buffer);exports.float64=r;const o=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];exports.isLittleEndian=o;
},{}],"mHRc":[function(require,module,exports) {
"use strict";function t(t,r){return e.create(t,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Long=void 0,exports.createLong=t;class e{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,r){return 0==t&&0==r?e.ZERO:new e(t,r)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}exports.Long=e,e.ZERO=new e(0,0);
},{}],"KCO6":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Encoding=void 0,exports.Encoding=e,function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"}(e||(exports.Encoding=e={}));
},{}],"jzxF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ByteBuffer=void 0;var t=require("./constants"),e=require("./long"),i=require("./utils"),r=require("./encoding");class n{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new n(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new e.Long(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new e.Long(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return i.int32[0]=this.readInt32(t),i.float32[0]}readFloat64(t){return i.int32[i.isLittleEndian?0:1]=this.readInt32(t),i.int32[i.isLittleEndian?1:0]=this.readInt32(t+4),i.float64[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){i.float32[0]=e,this.writeInt32(t,i.int32[0])}writeFloat64(t,e){i.float64[0]=e,this.writeInt32(t,i.int32[i.isLittleEndian?0:1]),this.writeInt32(t+4,i.int32[i.isLittleEndian?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+t.SIZEOF_INT+t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let i=0;i<t.FILE_IDENTIFIER_LENGTH;i++)e+=String.fromCharCode(this.readInt8(this.position_+t.SIZEOF_INT+i));return e}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(e,i){e+=this.readInt32(e);const n=this.readInt32(e);let s="",h=0;if(e+=t.SIZEOF_INT,i===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;h<n;){let t;const i=this.readUint8(e+h++);if(i<192)t=i;else{const r=this.readUint8(e+h++);if(i<224)t=(31&i)<<6|63&r;else{const n=this.readUint8(e+h++);if(i<240)t=(15&i)<<12|(63&r)<<6|63&n;else{t=(7&i)<<18|(63&r)<<12|(63&n)<<6|63&this.readUint8(e+h++)}}}t<65536?s+=String.fromCharCode(t):(t-=65536,s+=String.fromCharCode(55296+(t>>10),56320+(1023&t)))}return s}__union_with_string(t,e){return"string"==typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(e){return e+this.readInt32(e)+t.SIZEOF_INT}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(e){if(e.length!=t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+t.FILE_IDENTIFIER_LENGTH);for(let i=0;i<t.FILE_IDENTIFIER_LENGTH;i++)if(e.charCodeAt(i)!=this.readInt8(this.position()+t.SIZEOF_INT+i))return!1;return!0}createLong(t,i){return e.Long.create(t,i)}createScalarList(t,e){const i=[];for(let r=0;r<e;++r)null!==t(r)&&i.push(t(r));return i}createObjList(t,e){const i=[];for(let r=0;r<e;++r){const e=t(r);null!==e&&i.push(e.unpack())}return i}}exports.ByteBuffer=n;
},{"./constants":"k0dV","./long":"mHRc","./utils":"kkYO","./encoding":"KCO6"}],"o59j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Builder=void 0;var t=require("./byte-buffer"),s=require("./constants"),e=require("./long");class i{constructor(s){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=s||1024,this.bb=t.ByteBuffer.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,s){t>this.minalign&&(this.minalign=t);const e=1+~(this.bb.capacity()-this.space+s)&t-1;for(;this.space<e+t+s;){const t=this.bb.capacity();this.bb=i.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(e)}pad(t){for(let s=0;s<t;s++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,s,e){(this.force_defaults||s!=e)&&(this.addInt8(s),this.slot(t))}addFieldInt16(t,s,e){(this.force_defaults||s!=e)&&(this.addInt16(s),this.slot(t))}addFieldInt32(t,s,e){(this.force_defaults||s!=e)&&(this.addInt32(s),this.slot(t))}addFieldInt64(t,s,e){!this.force_defaults&&s.equals(e)||(this.addInt64(s),this.slot(t))}addFieldFloat32(t,s,e){(this.force_defaults||s!=e)&&(this.addFloat32(s),this.slot(t))}addFieldFloat64(t,s,e){(this.force_defaults||s!=e)&&(this.addFloat64(s),this.slot(t))}addFieldOffset(t,s,e){(this.force_defaults||s!=e)&&(this.addOffset(s),this.slot(t))}addFieldStruct(t,s,e){s!=e&&(this.nested(s),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(s){const e=s.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,r=t.ByteBuffer.allocate(i);return r.setPosition(i-e),r.bytes().set(s.bytes(),i-e),r}addOffset(t){this.prep(s.SIZEOF_INT,0),this.writeInt32(this.offset()-t+s.SIZEOF_INT)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let s=0;s<t;s++)this.vtable[s]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const r=(i+2)*s.SIZEOF_SHORT;this.addInt16(r);let h=0;const a=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(t)){for(let e=s.SIZEOF_SHORT;e<r;e+=s.SIZEOF_SHORT)if(this.bb.readInt16(a+e)!=this.bb.readInt16(t+e))continue t;h=this.vtables[e];break}}return h?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,h-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const r=i?s.SIZE_PREFIX_LENGTH:0;if(e){const t=e;if(this.prep(this.minalign,s.SIZEOF_INT+s.FILE_IDENTIFIER_LENGTH+r),t.length!=s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+s.FILE_IDENTIFIER_LENGTH);for(let e=s.FILE_IDENTIFIER_LENGTH-1;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,s.SIZEOF_INT+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,s){this.finish(t,s,!0)}requiredField(t,s){const e=this.bb.capacity()-t,i=e-this.bb.readInt32(e);if(!(0!=this.bb.readInt16(i+s)))throw new Error("FlatBuffers: field "+s+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(s.SIZEOF_INT,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const s=this.createString(t);return this.string_maps.set(t,s),s}createString(t){if(!t)return 0;let s;if(t instanceof Uint8Array)s=t;else{s=[];let e=0;for(;e<t.length;){let i;const r=t.charCodeAt(e++);if(r<55296||r>=56320)i=r;else{i=(r<<10)+t.charCodeAt(e++)+-56613888}i<128?s.push(i):(i<2048?s.push(i>>6&31|192):(i<65536?s.push(i>>12&15|224):s.push(i>>18&7|240,i>>12&63|128),s.push(i>>6&63|128)),s.push(63&i|128))}}this.addInt8(0),this.startVector(1,s.length,1),this.bb.setPosition(this.space-=s.length);for(let e=0,i=this.space,r=this.bb.bytes();e<s.length;e++)r[i++]=s[e];return this.endVector()}createLong(t,s){return e.Long.create(t,s)}createObjectOffset(t){return null===t?0:"string"==typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const s=[];for(let e=0;e<t.length;++e){const i=t[e];if(null===i)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");s.push(this.createObjectOffset(i))}return s}createStructOffsetList(t,s){return s(this,t.length),this.createObjectOffsetList(t),this.endVector()}}exports.Builder=i;
},{"./byte-buffer":"jzxF","./constants":"k0dV","./long":"mHRc"}],"nAPf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Builder",{enumerable:!0,get:function(){return o.Builder}}),Object.defineProperty(exports,"ByteBuffer",{enumerable:!0,get:function(){return u.ByteBuffer}}),Object.defineProperty(exports,"Encoding",{enumerable:!0,get:function(){return n.Encoding}}),Object.defineProperty(exports,"FILE_IDENTIFIER_LENGTH",{enumerable:!0,get:function(){return e.FILE_IDENTIFIER_LENGTH}}),Object.defineProperty(exports,"Long",{enumerable:!0,get:function(){return t.Long}}),Object.defineProperty(exports,"SIZEOF_INT",{enumerable:!0,get:function(){return e.SIZEOF_INT}}),Object.defineProperty(exports,"SIZEOF_SHORT",{enumerable:!0,get:function(){return e.SIZEOF_SHORT}}),Object.defineProperty(exports,"SIZE_PREFIX_LENGTH",{enumerable:!0,get:function(){return e.SIZE_PREFIX_LENGTH}}),Object.defineProperty(exports,"createLong",{enumerable:!0,get:function(){return t.createLong}}),Object.defineProperty(exports,"float32",{enumerable:!0,get:function(){return r.float32}}),Object.defineProperty(exports,"float64",{enumerable:!0,get:function(){return r.float64}}),Object.defineProperty(exports,"int32",{enumerable:!0,get:function(){return r.int32}}),Object.defineProperty(exports,"isLittleEndian",{enumerable:!0,get:function(){return r.isLittleEndian}});var e=require("./constants"),r=require("./utils"),t=require("./long"),n=require("./encoding"),o=require("./builder"),u=require("./byte-buffer");
},{"./constants":"k0dV","./utils":"kkYO","./long":"mHRc","./encoding":"KCO6","./builder":"o59j","./byte-buffer":"jzxF"}],"NmqU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyValue=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,i=new WeakMap;return(e=function(t){return t?i:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=e(r);if(i&&i.has(t))return i.get(t);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=t[o]}return s.default=t,i&&i.set(t,s),s}class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new i).__init(e.readInt32(e.position())+e.position(),e)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,r){return i.startKeyValue(t),i.addKey(t,e),i.addValue(t,r),i.endKeyValue(t)}}exports.KeyValue=i;
},{"flatbuffers":"nAPf"}],"t78p":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.MetadataVersion=void 0,exports.MetadataVersion=e,function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"}(e||(exports.MetadataVersion=e={}));
},{}],"uJDZ":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Endianness=void 0,exports.Endianness=e,function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(e||(exports.Endianness=e={}));
},{}],"kutX":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.DictionaryKind=void 0,exports.DictionaryKind=e,function(e){e[e.DenseArray=0]="DenseArray"}(e||(exports.DictionaryKind=e={}));
},{}],"AUNW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Int=void 0;var t=n(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(e=function(t){return t?i:n})(t)}function n(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=e(n);if(i&&i.has(t))return i.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,i&&i.set(t,r),r}class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(n||new i).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return i.startInt(t),i.addBitWidth(t,e),i.addIsSigned(t,n),i.endInt(t)}}exports.Int=i;
},{"flatbuffers":"nAPf"}],"wyc3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DictionaryEncoding=void 0;var t=r(require("flatbuffers")),i=require("./dictionary-kind.mjs"),e=require("./int.mjs");function n(t){if("function"!=typeof WeakMap)return null;var i=new WeakMap,e=new WeakMap;return(n=function(t){return t?e:i})(t)}function r(t,i){if(!i&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n(i);if(e&&e.has(t))return e.get(t);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,e&&e.set(t,r),r}class s{constructor(){this.bb=null,this.bb_pos=0}__init(t,i){return this.bb_pos=t,this.bb=i,this}static getRootAsDictionaryEncoding(t,i){return(i||new s).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(i,e){return i.setPosition(i.position()+t.SIZE_PREFIX_LENGTH),(e||new s).__init(i.readInt32(i.position())+i.position(),i)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new e.Int).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):i.DictionaryKind.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,i){t.addFieldInt64(0,i,t.createLong(0,0))}static addIndexType(t,i){t.addFieldOffset(1,i,0)}static addIsOrdered(t,i){t.addFieldInt8(2,+i,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,i.DictionaryKind.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}exports.DictionaryEncoding=s;
},{"flatbuffers":"nAPf","./dictionary-kind.mjs":"kutX","./int.mjs":"AUNW"}],"iybm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Binary=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return n.startBinary(t),n.endBinary(t)}}exports.Binary=n;
},{"flatbuffers":"nAPf"}],"VlX1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bool=void 0;var t=o(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var o=new WeakMap,r=new WeakMap;return(e=function(t){return t?r:o})(t)}function o(t,o){if(!o&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(o);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(e,o){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(o||new r).__init(e.readInt32(e.position())+e.position(),e)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return r.startBool(t),r.endBool(t)}}exports.Bool=r;
},{"flatbuffers":"nAPf"}],"llxx":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateUnit=void 0,exports.DateUnit=e,function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"}(e||(exports.DateUnit=e={}));
},{}],"FUo1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Date=void 0;var t=i(require("flatbuffers")),e=require("./date-unit.mjs");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(r=function(t){return t?i:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=r(e);if(i&&i.has(t))return i.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,i&&i.set(t,n),n}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.DateUnit.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,r){t.addFieldInt16(0,r,e.DateUnit.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return n.startDate(t),n.addUnit(t,e),n.endDate(t)}}exports.Date=n;
},{"flatbuffers":"nAPf","./date-unit.mjs":"llxx"}],"Unii":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Decimal=void 0;var t=i(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var i=new WeakMap,r=new WeakMap;return(e=function(t){return t?r:i})(t)}function i(t,i){if(!i&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(i);if(r&&r.has(t))return r.get(t);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=t[o]}return s.default=t,r&&r.set(t,s),s}class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new r).__init(e.readInt32(e.position())+e.position(),e)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,s){return r.startDecimal(t),r.addPrecision(t,e),r.addScale(t,i),r.addBitWidth(t,s),r.endDecimal(t)}}exports.Decimal=r;
},{"flatbuffers":"nAPf"}],"j2Zc":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeUnit=void 0,exports.TimeUnit=e,function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"}(e||(exports.TimeUnit=e={}));
},{}],"X8ru":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Duration=void 0;var t=i(require("flatbuffers")),e=require("./time-unit.mjs");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(r=function(t){return t?i:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=r(e);if(i&&i.has(t))return i.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,i&&i.set(t,n),n}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDuration(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDuration(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.TimeUnit.MILLISECOND}static startDuration(t){t.startObject(1)}static addUnit(t,r){t.addFieldInt16(0,r,e.TimeUnit.MILLISECOND)}static endDuration(t){return t.endObject()}static createDuration(t,e){return n.startDuration(t),n.addUnit(t,e),n.endDuration(t)}}exports.Duration=n;
},{"flatbuffers":"nAPf","./time-unit.mjs":"j2Zc"}],"Sqvc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedSizeBinary=void 0;var t=i(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var i=new WeakMap,r=new WeakMap;return(e=function(t){return t?r:i})(t)}function i(t,i){if(!i&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(i);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new r).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return r.startFixedSizeBinary(t),r.addByteWidth(t,e),r.endFixedSizeBinary(t)}}exports.FixedSizeBinary=r;
},{"flatbuffers":"nAPf"}],"TNiE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedSizeList=void 0;var t=i(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var i=new WeakMap,r=new WeakMap;return(e=function(t){return t?r:i})(t)}function i(t,i){if(!i&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=e(i);if(r&&r.has(t))return r.get(t);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=t[o]}return s.default=t,r&&r.set(t,s),s}class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new r).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return r.startFixedSizeList(t),r.addListSize(t,e),r.endFixedSizeList(t)}}exports.FixedSizeList=r;
},{"flatbuffers":"nAPf"}],"OLZm":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Precision=void 0,exports.Precision=e,function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"}(e||(exports.Precision=e={}));
},{}],"sux3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FloatingPoint=void 0;var t=n(require("flatbuffers")),e=require("./precision.mjs");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(i=function(t){return t?n:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=i(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}class r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new r).__init(e.readInt32(e.position())+e.position(),e)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.Precision.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,i){t.addFieldInt16(0,i,e.Precision.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return r.startFloatingPoint(t),r.addPrecision(t,e),r.endFloatingPoint(t)}}exports.FloatingPoint=r;
},{"flatbuffers":"nAPf","./precision.mjs":"OLZm"}],"krq4":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntervalUnit=void 0,exports.IntervalUnit=e,function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(e||(exports.IntervalUnit=e={}));
},{}],"n7OQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Interval=void 0;var t=n(require("flatbuffers")),e=require("./interval-unit.mjs");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new i).__init(e.readInt32(e.position())+e.position(),e)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.IntervalUnit.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,r){t.addFieldInt16(0,r,e.IntervalUnit.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return i.startInterval(t),i.addUnit(t,e),i.endInterval(t)}}exports.Interval=i;
},{"flatbuffers":"nAPf","./interval-unit.mjs":"krq4"}],"mCuI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LargeBinary=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeBinary(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeBinary(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(t){t.startObject(0)}static endLargeBinary(t){return t.endObject()}static createLargeBinary(t){return n.startLargeBinary(t),n.endLargeBinary(t)}}exports.LargeBinary=n;
},{"flatbuffers":"nAPf"}],"ZQDQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LargeList=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,i=new WeakMap;return(e=function(t){return t?i:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=e(r);if(i&&i.has(t))return i.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,i&&i.set(t,n),n}class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeList(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeList(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new i).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(t){t.startObject(0)}static endLargeList(t){return t.endObject()}static createLargeList(t){return i.startLargeList(t),i.endLargeList(t)}}exports.LargeList=i;
},{"flatbuffers":"nAPf"}],"f86w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LargeUtf8=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsLargeUtf8(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsLargeUtf8(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(t){t.startObject(0)}static endLargeUtf8(t){return t.endObject()}static createLargeUtf8(t){return n.startLargeUtf8(t),n.endLargeUtf8(t)}}exports.LargeUtf8=n;
},{"flatbuffers":"nAPf"}],"owRV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.List=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,i=new WeakMap;return(e=function(t){return t?i:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=e(r);if(i&&i.has(t))return i.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,i&&i.set(t,n),n}class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new i).__init(e.readInt32(e.position())+e.position(),e)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return i.startList(t),i.endList(t)}}exports.List=i;
},{"flatbuffers":"nAPf"}],"MDyI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Map=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return n.startMap(t),n.addKeysSorted(t,e),n.endMap(t)}}exports.Map=n;
},{"flatbuffers":"nAPf"}],"VX86":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Null=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return n.startNull(t),n.endNull(t)}}exports.Null=n;
},{"flatbuffers":"nAPf"}],"RO99":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Struct_=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return n.startStruct_(t),n.endStruct_(t)}}exports.Struct_=n;
},{"flatbuffers":"nAPf"}],"MeAV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Time=void 0;var t=r(require("flatbuffers")),e=require("./time-unit.mjs");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new n).__init(e.readInt32(e.position())+e.position(),e)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.TimeUnit.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,i){t.addFieldInt16(0,i,e.TimeUnit.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return n.startTime(t),n.addUnit(t,e),n.addBitWidth(t,i),n.endTime(t)}}exports.Time=n;
},{"flatbuffers":"nAPf","./time-unit.mjs":"j2Zc"}],"Qo9x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Timestamp=void 0;var t=r(require("flatbuffers")),e=require("./time-unit.mjs");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=t[o]}return s.default=t,r&&r.set(t,s),s}class s{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new s).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new s).__init(e.readInt32(e.position())+e.position(),e)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.TimeUnit.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,i){t.addFieldInt16(0,i,e.TimeUnit.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return s.startTimestamp(t),s.addUnit(t,e),s.addTimezone(t,i),s.endTimestamp(t)}}exports.Timestamp=s;
},{"flatbuffers":"nAPf","./time-unit.mjs":"j2Zc"}],"GczX":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnionMode=void 0,exports.UnionMode=e,function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"}(e||(exports.UnionMode=e={}));
},{}],"ZzEh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Union=void 0;var t=r(require("flatbuffers")),e=require("./union-mode.mjs");function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(s=function(t){return t?r:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=s(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var b=o?Object.getOwnPropertyDescriptor(t,i):null;b&&(b.get||b.set)?Object.defineProperty(n,i,b):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new n).__init(e.readInt32(e.position())+e.position(),e)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.UnionMode.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,s){t.addFieldInt16(0,s,e.UnionMode.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addInt32(e[s]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,s){return n.startUnion(t),n.addMode(t,e),n.addTypeIds(t,s),n.endUnion(t)}}exports.Union=n;
},{"flatbuffers":"nAPf","./union-mode.mjs":"GczX"}],"vR0E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utf8=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var f=o?Object.getOwnPropertyDescriptor(t,s):null;f&&(f.get||f.set)?Object.defineProperty(i,s,f):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new n).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return n.startUtf8(t),n.endUtf8(t)}}exports.Utf8=n;
},{"flatbuffers":"nAPf"}],"jgEA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Type=void 0,exports.unionListToType=T,exports.unionToType=x;var e,r=require("./binary.mjs"),n=require("./bool.mjs"),t=require("./date.mjs"),i=require("./decimal.mjs"),a=require("./duration.mjs"),s=require("./fixed-size-binary.mjs"),u=require("./fixed-size-list.mjs"),c=require("./floating-point.mjs"),l=require("./int.mjs"),o=require("./interval.mjs"),m=require("./large-binary.mjs"),w=require("./large-list.mjs"),L=require("./large-utf8.mjs"),g=require("./list.mjs"),p=require("./map.mjs"),y=require("./null.mjs"),B=require("./struct_.mjs"),f=require("./time.mjs"),d=require("./timestamp.mjs"),j=require("./union.mjs"),q=require("./utf8.mjs");function x(x,T){switch(e[x]){case"NONE":return null;case"Null":return T(new y.Null);case"Int":return T(new l.Int);case"FloatingPoint":return T(new c.FloatingPoint);case"Binary":return T(new r.Binary);case"Utf8":return T(new q.Utf8);case"Bool":return T(new n.Bool);case"Decimal":return T(new i.Decimal);case"Date":return T(new t.Date);case"Time":return T(new f.Time);case"Timestamp":return T(new d.Timestamp);case"Interval":return T(new o.Interval);case"List":return T(new g.List);case"Struct_":return T(new B.Struct_);case"Union":return T(new j.Union);case"FixedSizeBinary":return T(new s.FixedSizeBinary);case"FixedSizeList":return T(new u.FixedSizeList);case"Map":return T(new p.Map);case"Duration":return T(new a.Duration);case"LargeBinary":return T(new m.LargeBinary);case"LargeUtf8":return T(new L.LargeUtf8);case"LargeList":return T(new w.LargeList);default:return null}}function T(x,T,D){switch(e[x]){case"NONE":return null;case"Null":return T(D,new y.Null);case"Int":return T(D,new l.Int);case"FloatingPoint":return T(D,new c.FloatingPoint);case"Binary":return T(D,new r.Binary);case"Utf8":return T(D,new q.Utf8);case"Bool":return T(D,new n.Bool);case"Decimal":return T(D,new i.Decimal);case"Date":return T(D,new t.Date);case"Time":return T(D,new f.Time);case"Timestamp":return T(D,new d.Timestamp);case"Interval":return T(D,new o.Interval);case"List":return T(D,new g.List);case"Struct_":return T(D,new B.Struct_);case"Union":return T(D,new j.Union);case"FixedSizeBinary":return T(D,new s.FixedSizeBinary);case"FixedSizeList":return T(D,new u.FixedSizeList);case"Map":return T(D,new p.Map);case"Duration":return T(D,new a.Duration);case"LargeBinary":return T(D,new m.LargeBinary);case"LargeUtf8":return T(D,new L.LargeUtf8);case"LargeList":return T(D,new w.LargeList);default:return null}}exports.Type=e,function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"}(e||(exports.Type=e={}));
},{"./binary.mjs":"iybm","./bool.mjs":"VlX1","./date.mjs":"FUo1","./decimal.mjs":"Unii","./duration.mjs":"X8ru","./fixed-size-binary.mjs":"Sqvc","./fixed-size-list.mjs":"TNiE","./floating-point.mjs":"sux3","./int.mjs":"AUNW","./interval.mjs":"n7OQ","./large-binary.mjs":"mCuI","./large-list.mjs":"ZQDQ","./large-utf8.mjs":"f86w","./list.mjs":"owRV","./map.mjs":"MDyI","./null.mjs":"VX86","./struct_.mjs":"RO99","./time.mjs":"MeAV","./timestamp.mjs":"Qo9x","./union.mjs":"ZzEh","./utf8.mjs":"vR0E"}],"GSeZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Field=void 0;var t=n(require("flatbuffers")),e=require("./dictionary-encoding.mjs"),s=require("./key-value.mjs"),i=require("./type.mjs");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(r=function(t){return t?s:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=r(e);if(s&&s.has(t))return s.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var b=n?Object.getOwnPropertyDescriptor(t,o):null;b&&(b.get||b.set)?Object.defineProperty(i,o,b):i[o]=t[o]}return i.default=t,s&&s.set(t,i),i}class o{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new o).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new o).__init(e.readInt32(e.position())+e.position(),e)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):i.Type.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const s=this.bb.__offset(this.bb_pos,12);return s?(t||new e.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}children(t,e){const s=this.bb.__offset(this.bb_pos,14);return s?(e||new o).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new s.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,i.Type.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}exports.Field=o;
},{"flatbuffers":"nAPf","./dictionary-encoding.mjs":"wyc3","./key-value.mjs":"NmqU","./type.mjs":"jgEA"}],"wuAi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Schema=void 0;var t=n(require("flatbuffers")),e=require("./endianness.mjs"),s=require("./field.mjs"),r=require("./key-value.mjs");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(i=function(t){return t?s:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=i(e);if(s&&s.has(t))return s.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var o=n?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,s&&s.set(t,r),r}class a{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new a).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new a).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.Endianness.Little}fields(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new s.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const s=this.bb.__offset(this.bb_pos,8);return s?(e||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,s){t.addFieldInt16(0,s,e.Endianness.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addInt64(e[s]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,s,r,i){return a.startSchema(t),a.addEndianness(t,e),a.addFields(t,s),a.addCustomMetadata(t,r),a.addFeatures(t,i),a.endSchema(t)}}exports.Schema=a;
},{"flatbuffers":"nAPf","./endianness.mjs":"uJDZ","./field.mjs":"GSeZ","./key-value.mjs":"NmqU"}],"GM9Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Footer=void 0;var t=n(require("flatbuffers")),e=require("./block.mjs"),s=require("./key-value.mjs"),i=require("./metadata-version.mjs"),r=require("./schema.mjs");function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(o=function(t){return t?s:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=o(e);if(s&&s.has(t))return s.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var a=r?Object.getOwnPropertyDescriptor(t,n):null;a&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=t[n]}return i.default=t,s&&s.set(t,i),i}class a{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new a).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new a).__init(e.readInt32(e.position())+e.position(),e)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):i.MetadataVersion.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new r.Schema).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,s){const i=this.bb.__offset(this.bb_pos,8);return i?(s||new e.Block).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,s){const i=this.bb.__offset(this.bb_pos,10);return i?(s||new e.Block).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new s.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,i.MetadataVersion.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}exports.Footer=a;
},{"flatbuffers":"nAPf","./block.mjs":"EkT1","./key-value.mjs":"NmqU","./metadata-version.mjs":"t78p","./schema.mjs":"wuAi"}],"Xwqk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Schema=exports.Field=void 0;var t=require("./type.mjs");class e{constructor(t=[],e,a){this.fields=t||[],this.metadata=e||new Map,a||(a=i(t)),this.dictionaries=a}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const a=new Set(t),n=this.fields.filter(t=>a.has(t.name));return new e(n,this.metadata)}selectAt(t){const a=t.map(t=>this.fields[t]).filter(Boolean);return new e(a,this.metadata)}assign(...t){const a=t[0]instanceof e?t[0]:Array.isArray(t[0])?new e(t[0]):new e(t),r=[...this.fields],s=n(n(new Map,this.metadata),a.metadata),l=a.fields.filter(t=>{const e=r.findIndex(e=>e.name===t.name);return!~e||(r[e]=t.clone({metadata:n(n(new Map,r[e].metadata),t.metadata)}))&&!1}),o=i(l,new Map);return new e([...r,...l],s,new Map([...this.dictionaries,...o]))}}exports.Schema=e,e.prototype.fields=null,e.prototype.metadata=null,e.prototype.dictionaries=null;class a{constructor(t,e,a=!1,n){this.name=t,this.type=e,this.nullable=a,this.metadata=n||new Map}static new(...t){let[e,n,i,r]=t;return t[0]&&"object"==typeof t[0]&&(({name:e}=t[0]),void 0===n&&(n=t[0].type),void 0===i&&(i=t[0].nullable),void 0===r&&(r=t[0].metadata)),new a(`${e}`,n,i,r)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,i,r]=t;return t[0]&&"object"==typeof t[0]?({name:e=this.name,type:n=this.type,nullable:i=this.nullable,metadata:r=this.metadata}=t[0]):[e=this.name,n=this.type,i=this.nullable,r=this.metadata]=t,a.new(e,n,i,r)}}function n(t,e){return new Map([...t||new Map,...e||new Map])}function i(e,a=new Map){for(let n=-1,r=e.length;++n<r;){const r=e[n].type;if(t.DataType.isDictionary(r))if(a.has(r.id)){if(a.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else a.set(r.id,r.dictionary);r.children&&r.children.length>0&&i(r.children,a)}return a}exports.Field=a,a.prototype.type=null,a.prototype.name=null,a.prototype.nullable=null,a.prototype.metadata=null;
},{"./type.mjs":"Ei7N"}],"AxpH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Footer=exports.FileBlock=void 0;var e=require("../../fb/block.mjs"),t=require("../../fb/footer.mjs"),r=i(require("flatbuffers")),o=require("../../schema.mjs"),c=require("../../enum.mjs"),n=require("../../util/buffer.mjs");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=c?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]}return o.default=e,r&&r.set(e,o),o}var a=r.Long,u=r.Builder,h=r.ByteBuffer;class d{constructor(e,t=c.MetadataVersion.V4,r,o){this.schema=e,this.version=t,r&&(this._recordBatches=r),o&&(this._dictionaryBatches=o)}static decode(e){e=new h((0,n.toUint8Array)(e));const r=t.Footer.getRootAsFooter(e),c=o.Schema.decode(r.schema());return new f(c,r)}static encode(e){const r=new u,n=o.Schema.encode(r,e.schema);t.Footer.startRecordBatchesVector(r,e.numRecordBatches);for(const t of[...e.recordBatches()].slice().reverse())l.encode(r,t);const s=r.endVector();t.Footer.startDictionariesVector(r,e.numDictionaries);for(const t of[...e.dictionaryBatches()].slice().reverse())l.encode(r,t);const i=r.endVector();return t.Footer.startFooter(r),t.Footer.addSchema(r,n),t.Footer.addVersion(r,c.MetadataVersion.V4),t.Footer.addRecordBatches(r,s),t.Footer.addDictionaries(r,i),t.Footer.finishFooterBuffer(r,t.Footer.endFooter(r)),r.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}exports.Footer=d;class f extends d{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const t=this._footer.recordBatches(e);if(t)return l.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const t=this._footer.dictionaries(e);if(t)return l.decode(t)}return null}}class l{constructor(e,t,r){this.metaDataLength=e,this.offset="number"==typeof r?r:r.low,this.bodyLength="number"==typeof t?t:t.low}static decode(e){return new l(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(t,r){const{metaDataLength:o}=r,c=new a(r.offset,0),n=new a(r.bodyLength,0);return e.Block.createBlock(t,c,o,n)}}exports.FileBlock=l;
},{"../../fb/block.mjs":"EkT1","../../fb/footer.mjs":"GM9Q","flatbuffers":"nAPf","../../schema.mjs":"Xwqk","../../enum.mjs":"KhZo","../../util/buffer.mjs":"C375"}],"RZsN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReadableInterop=exports.ITERATOR_DONE=exports.AsyncQueue=exports.ArrowJSON=void 0;var e=require("tslib"),r=t(require("./adapters.mjs"));function t(e){return e&&e.__esModule?e:{default:e}}const s=Object.freeze({done:!0,value:void 0});exports.ITERATOR_DONE=s;class o{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}exports.ArrowJSON=o;class i{tee(){return this._getDOMStream().tee()}pipe(e,r){return this._getNodeStream().pipe(e,r)}pipeTo(e,r){return this._getDOMStream().pipeTo(e,r)}pipeThrough(e,r){return this._getDOMStream().pipeThrough(e,r)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}exports.ReadableInterop=i;class n extends i{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield this.return(r)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(s);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return r.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return r.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this.abort(r),s})}return(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this.close(),s})}read(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){return(yield this.next(r,"read")).value})}peek(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){return(yield this.next(r,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,r)=>{this.resolvers.push({resolve:e,reject:r})}):Promise.resolve(s)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}exports.AsyncQueue=n;
},{"tslib":"vCxL","./adapters.mjs":"DQHq"}],"bi5c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ByteStream=exports.AsyncByteStream=exports.AsyncByteQueue=void 0;var e=require("tslib"),r=n(require("./adapters.mjs")),t=require("../util/utf8.mjs"),s=require("./interfaces.mjs"),o=require("../util/buffer.mjs"),i=require("../util/compat.mjs");function n(e){return e&&e.__esModule?e:{default:e}}class u extends s.AsyncQueue{write(e){if((e=(0,o.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,t.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(t.decodeUtf8)}toUint8Array(r=!1){return r?(0,o.joinUint8Arrays)(this._values)[0]:(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){var r,t;const s=[];let i=0;try{for(var n,u=(0,e.__asyncValues)(this);!(n=yield u.next()).done;){const e=n.value;s.push(e),i+=e.byteLength}}catch(c){r={error:c}}finally{try{n&&!n.done&&(t=u.return)&&(yield t.call(u))}finally{if(r)throw r.error}}return(0,o.joinUint8Arrays)(s,i)[0]}))()}}exports.AsyncByteQueue=u;class c{constructor(e){e&&(this.source=new h(r.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}exports.ByteStream=c;class a{constructor(e){e instanceof a?this.source=e.source:e instanceof u?this.source=new l(r.default.fromAsyncIterable(e)):(0,i.isReadableNodeStream)(e)?this.source=new l(r.default.fromNodeStream(e)):(0,i.isReadableDOMStream)(e)?this.source=new l(r.default.fromDOMStream(e)):(0,i.isFetchResponse)(e)?this.source=new l(r.default.fromDOMStream(e.body)):(0,i.isIterable)(e)?this.source=new l(r.default.fromIterable(e)):(0,i.isPromise)(e)?this.source=new l(r.default.fromAsyncIterable(e)):(0,i.isAsyncIterable)(e)&&(this.source=new l(r.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}exports.AsyncByteStream=a;class h{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,r="read"){return this.source.next({cmd:r,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||s.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||s.ITERATOR_DONE)}}class l{constructor(e){this.source=e,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield this.return(r)})}get closed(){return this._closedPromise}read(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){return(yield this.next(r,"read")).value})}peek(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){return(yield this.next(r,"peek")).value})}next(r,t="read"){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:r})})}throw(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(r))||s.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(r))||s.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}
},{"tslib":"vCxL","./adapters.mjs":"DQHq","../util/utf8.mjs":"gtjj","./interfaces.mjs":"RZsN","../util/buffer.mjs":"C375","../util/compat.mjs":"mSUP"}],"cAFn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RandomAccessFile=exports.AsyncRandomAccessFile=void 0;var e=require("tslib"),t=require("./stream.mjs"),i=require("../util/buffer.mjs");class n extends t.ByteStream{constructor(e,t){super(),this.position=0,this.buffer=(0,i.toUint8Array)(e),this.size=void 0===t?this.buffer.byteLength:t}readInt32(e){const{buffer:t,byteOffset:i}=this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:t,size:i,position:n}=this;return t&&n<i?("number"!=typeof e&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,e)),t.subarray(n,this.position)):null}readAt(e,t){const i=this.buffer,n=Math.min(this.size,e+t);return i?i.subarray(e,n):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}exports.RandomAccessFile=n;class s extends t.AsyncByteStream{constructor(t,i){super(),this.position=0,this._handle=t,"number"==typeof i?this.size=i:this._pending=(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)})}seek(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!=typeof t&&(t=Number.POSITIVE_INFINITY);let s=n,r=0,o=0;const a=Math.min(i,s+Math.min(i-s,t)),h=new Uint8Array(Math.max(0,(this.position=a)-s));for(;(s+=o)<a&&(r+=o)<h.byteLength;)({bytesRead:o}=yield e.read(h,r,h.byteLength-r,s));return h}return null})}readAt(t,i){return(0,e.__awaiter)(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:n}=this;if(e&&t+i<n){const s=Math.min(n,t+i),r=new Uint8Array(s-t);return(yield e.read(r,0,i,t)).buffer}return new Uint8Array(i)})}close(){return(0,e.__awaiter)(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}exports.AsyncRandomAccessFile=s;
},{"tslib":"vCxL","./stream.mjs":"bi5c","../util/buffer.mjs":"C375"}],"wuZS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Uint64=exports.Int64=exports.Int128=exports.BaseInt64=void 0;const t=65536;function r(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const e=8,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class n{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(r){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),f=new Uint32Array([r.buffer[1]>>>16,65535&r.buffer[1],r.buffer[0]>>>16,65535&r.buffer[0]]);let n=e[3]*f[3];this.buffer[0]=65535&n;let s=n>>>16;return s+=n=e[2]*f[3],s+=n=e[3]*f[2]>>>0,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<n?t:0,this.buffer[1]+=s>>>16,this.buffer[1]+=e[1]*f[3]+e[2]*f[2]+e[3]*f[1],this.buffer[1]+=e[0]*f[3]+e[1]*f[2]+e[2]*f[1]+e[3]*f[0]<<16,this}_plus(t){const r=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],r<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=r}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${r(this.buffer[1])} ${r(this.buffer[0])}`}}exports.BaseInt64=n;class s extends n{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,r=new Uint32Array(2)){return s.fromString("string"==typeof t?t:t.toString(),r)}static fromNumber(t,r=new Uint32Array(2)){return s.fromString(t.toString(),r)}static fromString(t,r=new Uint32Array(2)){const n=t.length,i=new s(r);for(let u=0;u<n;){const r=e<n-u?e:n-u,b=new s(new Uint32Array([Number.parseInt(t.slice(u,u+r),10),0])),h=new s(new Uint32Array([f[r],0]));i.times(h),i.plus(b),u+=r}return i}static convertArray(t){const r=new Uint32Array(2*t.length);for(let e=-1,f=t.length;++e<f;)s.from(t[e],new Uint32Array(r.buffer,r.byteOffset+2*e*4,2));return r}static multiply(t,r){return new s(new Uint32Array(t.buffer)).times(r)}static add(t,r){return new s(new Uint32Array(t.buffer)).plus(r)}}exports.Uint64=s;class i extends n{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const r=this.buffer[1]<<0,e=t.buffer[1]<<0;return r<e||r===e&&this.buffer[0]<t.buffer[0]}static from(t,r=new Uint32Array(2)){return i.fromString("string"==typeof t?t:t.toString(),r)}static fromNumber(t,r=new Uint32Array(2)){return i.fromString(t.toString(),r)}static fromString(t,r=new Uint32Array(2)){const n=t.startsWith("-"),s=t.length,u=new i(r);for(let b=n?1:0;b<s;){const r=e<s-b?e:s-b,n=new i(new Uint32Array([Number.parseInt(t.slice(b,b+r),10),0])),h=new i(new Uint32Array([f[r],0]));u.times(h),u.plus(n),b+=r}return n?u.negate():u}static convertArray(t){const r=new Uint32Array(2*t.length);for(let e=-1,f=t.length;++e<f;)i.from(t[e],new Uint32Array(r.buffer,r.byteOffset+2*e*4,2));return r}static multiply(t,r){return new i(new Uint32Array(t.buffer)).times(r)}static add(t,r){return new i(new Uint32Array(t.buffer)).plus(r)}}exports.Int64=i;class u{constructor(t){this.buffer=t}high(){return new i(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new i(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const r=new s(new Uint32Array([this.buffer[3],0])),e=new s(new Uint32Array([this.buffer[2],0])),f=new s(new Uint32Array([this.buffer[1],0])),n=new s(new Uint32Array([this.buffer[0],0])),i=new s(new Uint32Array([t.buffer[3],0])),u=new s(new Uint32Array([t.buffer[2],0])),b=new s(new Uint32Array([t.buffer[1],0])),h=new s(new Uint32Array([t.buffer[0],0]));let a=s.multiply(n,h);this.buffer[0]=a.low();const l=new s(new Uint32Array([a.high(),0]));return a=s.multiply(f,h),l.plus(a),a=s.multiply(n,b),l.plus(a),this.buffer[1]=l.low(),this.buffer[3]=l.lessThan(a)?1:0,this.buffer[2]=l.high(),new s(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(s.multiply(e,h)).plus(s.multiply(f,b)).plus(s.multiply(n,u)),this.buffer[3]+=s.multiply(r,h).plus(s.multiply(e,b)).plus(s.multiply(f,u)).plus(s.multiply(n,i)).low(),this}plus(t){const r=new Uint32Array(4);return r[3]=this.buffer[3]+t.buffer[3]>>>0,r[2]=this.buffer[2]+t.buffer[2]>>>0,r[1]=this.buffer[1]+t.buffer[1]>>>0,r[0]=this.buffer[0]+t.buffer[0]>>>0,r[0]<this.buffer[0]>>>0&&++r[1],r[1]<this.buffer[1]>>>0&&++r[2],r[2]<this.buffer[2]>>>0&&++r[3],this.buffer[3]=r[3],this.buffer[2]=r[2],this.buffer[1]=r[1],this.buffer[0]=r[0],this}hex(){return`${r(this.buffer[3])} ${r(this.buffer[2])} ${r(this.buffer[1])} ${r(this.buffer[0])}`}static multiply(t,r){return new u(new Uint32Array(t.buffer)).times(r)}static add(t,r){return new u(new Uint32Array(t.buffer)).plus(r)}static from(t,r=new Uint32Array(4)){return u.fromString("string"==typeof t?t:t.toString(),r)}static fromNumber(t,r=new Uint32Array(4)){return u.fromString(t.toString(),r)}static fromString(t,r=new Uint32Array(4)){const n=t.startsWith("-"),s=t.length,i=new u(r);for(let b=n?1:0;b<s;){const r=e<s-b?e:s-b,n=new u(new Uint32Array([Number.parseInt(t.slice(b,b+r),10),0,0,0])),h=new u(new Uint32Array([f[r],0,0,0]));i.times(h),i.plus(n),b+=r}return n?i.negate():i}static convertArray(t){const r=new Uint32Array(4*t.length);for(let e=-1,f=t.length;++e<f;)u.from(t[e],new Uint32Array(r.buffer,r.byteOffset+16*e,4));return r}}exports.Int128=u;
},{}],"w4EZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VectorLoader=exports.JSONVectorLoader=void 0;var t=require("../data.mjs"),e=require("../schema.mjs"),i=require("../type.mjs"),a=require("../visitor.mjs"),n=require("../util/bit.mjs"),r=require("../util/utf8.mjs"),l=require("../util/int.mjs"),s=require("../enum.mjs"),u=require("../util/buffer.mjs");class d extends a.Visitor{constructor(t,e,i,a){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=a}visit(t){return super.visit(t instanceof e.Field?t.type:t)}visitNull(e,{length:i}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i})}visitBool(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitInt(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitFloat(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitUtf8(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitDate(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitTimestamp(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitTime(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitDecimal(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitList(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),children:this.visitMany(e.children)})}visitUnion(t){return t.mode===s.UnionMode.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),data:this.readData(e)})}visitFixedSizeList(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),child:this.visit(e.children[0])})}visitMap(e,{length:i,nullCount:a}=this.nextFieldNode()){return(0,t.makeData)({type:e,length:i,nullCount:a,nullBitmap:this.readNullBitmap(e,a),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,i=this.nextBufferRange()){return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}exports.VectorLoader=d;class h extends d{constructor(t,e,i,a){super(new Uint8Array(0),e,i,a),this.sources=t}readNullBitmap(t,e,{offset:i}=this.nextBufferRange()){return e<=0?new Uint8Array(0):(0,n.packBools)(this.sources[i])}readOffsets(t,{offset:e}=this.nextBufferRange()){return(0,u.toArrayBufferView)(Uint8Array,(0,u.toArrayBufferView)(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return(0,u.toArrayBufferView)(Uint8Array,(0,u.toArrayBufferView)(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:a}=this;return i.DataType.isTimestamp(t)?(0,u.toArrayBufferView)(Uint8Array,l.Int64.convertArray(a[e])):(i.DataType.isInt(t)||i.DataType.isTime(t))&&64===t.bitWidth?(0,u.toArrayBufferView)(Uint8Array,l.Int64.convertArray(a[e])):i.DataType.isDate(t)&&t.unit===s.DateUnit.MILLISECOND?(0,u.toArrayBufferView)(Uint8Array,l.Int64.convertArray(a[e])):i.DataType.isDecimal(t)?(0,u.toArrayBufferView)(Uint8Array,l.Int128.convertArray(a[e])):i.DataType.isBinary(t)||i.DataType.isFixedSizeBinary(t)?o(a[e]):i.DataType.isBool(t)?(0,n.packBools)(a[e]):i.DataType.isUtf8(t)?(0,r.encodeUtf8)(a[e].join("")):(0,u.toArrayBufferView)(Uint8Array,(0,u.toArrayBufferView)(t.ArrayType,a[e].map(t=>+t)))}}function o(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let a=0;a<e.length;a+=2)i[a>>1]=Number.parseInt(e.slice(a,a+2),16);return i}exports.JSONVectorLoader=h;
},{"../data.mjs":"BsTJ","../schema.mjs":"Xwqk","../type.mjs":"Ei7N","../visitor.mjs":"vLL6","../util/bit.mjs":"wjHF","../util/utf8.mjs":"gtjj","../util/int.mjs":"wuZS","../enum.mjs":"KhZo","../util/buffer.mjs":"C375"}],"biww":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BinaryBuilder=void 0;var e=require("../util/buffer.mjs"),t=require("./buffer.mjs"),s=require("../builder.mjs");class r extends s.VariableWidthBuilder{constructor(e){super(e),this._values=new t.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(t,s){return super.setValue(t,(0,e.toUint8Array)(s))}_flushPending(e,t){const s=this._offsets,r=this._values.reserve(t).buffer;let i=0;for(const[u,n]of e)if(void 0===n)s.set(u,0);else{const e=n.length;r.set(n,i),s.set(u,e),i+=e}}}exports.BinaryBuilder=r;
},{"../util/buffer.mjs":"C375","./buffer.mjs":"sJwc","../builder.mjs":"riDd"}],"PpJB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BoolBuilder=void 0;var e=require("./buffer.mjs"),r=require("../builder.mjs");class s extends r.Builder{constructor(r){super(r),this._values=new e.BitmapBufferBuilder}setValue(e,r){this._values.set(e,+r)}}exports.BoolBuilder=s;
},{"./buffer.mjs":"sJwc","../builder.mjs":"riDd"}],"Wyfz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateMillisecondBuilder=exports.DateDayBuilder=exports.DateBuilder=void 0;var e=require("../builder.mjs"),t=require("../visitor/set.mjs");class s extends e.FixedWidthBuilder{}exports.DateBuilder=s,s.prototype._setValue=t.setDate;class r extends s{}exports.DateDayBuilder=r,r.prototype._setValue=t.setDateDay;class i extends s{}exports.DateMillisecondBuilder=i,i.prototype._setValue=t.setDateMillisecond;
},{"../builder.mjs":"riDd","../visitor/set.mjs":"F6QY"}],"uqDH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DecimalBuilder=void 0;var e=require("../builder.mjs"),r=require("../visitor/set.mjs");class i extends e.FixedWidthBuilder{}exports.DecimalBuilder=i,i.prototype._setValue=r.setDecimal;
},{"../builder.mjs":"riDd","../visitor/set.mjs":"F6QY"}],"xHRK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DictionaryBuilder=void 0;var e=require("../type.mjs"),i=require("../builder.mjs"),t=require("../factories.mjs");class s extends i.Builder{constructor({type:i,nullValues:s,dictionaryHashFunction:n}){super({type:new e.Dictionary(i.dictionary,i.indices,i.id,i.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,t.makeBuilder)({type:this.type.indices,nullValues:s}),this.dictionary=(0,t.makeBuilder)({type:this.type.dictionary,nullValues:null}),"function"==typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,i){const t=this.indices;return i=t.setValid(e,i),this.length=t.length,i}setValue(e,i){const t=this._keysToIndices,s=this.valueToKey(i);let n=t[s];return void 0===n&&(t[s]=n=this._dictionaryOffset+this.dictionary.append(i).length-1),this.indices.setValue(e,n)}flush(){const e=this.type,i=this._dictionary,t=this.dictionary.toVector(),s=this.indices.flush().clone(e);return s.dictionary=i?i.concat(t):t,this.finished||(this._dictionaryOffset+=t.length),this._dictionary=s.dictionary,this.clear(),s}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return"string"==typeof e?e:`${e}`}}exports.DictionaryBuilder=s;
},{"../type.mjs":"Ei7N","../builder.mjs":"riDd","../factories.mjs":"XgxV"}],"nBOp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedSizeBinaryBuilder=void 0;var e=require("../builder.mjs"),i=require("../visitor/set.mjs");class r extends e.FixedWidthBuilder{}exports.FixedSizeBinaryBuilder=r,r.prototype._setValue=i.setFixedSizeBinary;
},{"../builder.mjs":"riDd","../visitor/set.mjs":"F6QY"}],"Pwn4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedSizeListBuilder=void 0;var e=require("../schema.mjs"),i=require("../builder.mjs"),t=require("../type.mjs");class s extends i.Builder{setValue(e,i){const[t]=this.children,s=e*this.stride;for(let r=-1,d=i.length;++r<d;)t.set(s+r,i[r])}addChild(i,s="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(i);return this.type=new t.FixedSizeList(this.type.listSize,new e.Field(s,i.type,!0)),r}}exports.FixedSizeListBuilder=s;
},{"../schema.mjs":"Xwqk","../builder.mjs":"riDd","../type.mjs":"Ei7N"}],"S72t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FloatBuilder=exports.Float64Builder=exports.Float32Builder=exports.Float16Builder=void 0;var e=require("../util/math.mjs"),t=require("../builder.mjs");class s extends t.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}}exports.FloatBuilder=s;class l extends s{setValue(t,s){super.setValue(t,(0,e.float64ToUint16)(s))}}exports.Float16Builder=l;class r extends s{}exports.Float32Builder=r;class o extends s{}exports.Float64Builder=o;
},{"../util/math.mjs":"Qg3K","../builder.mjs":"riDd"}],"D3Ur":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntervalYearMonthBuilder=exports.IntervalDayTimeBuilder=exports.IntervalBuilder=void 0;var e=require("../builder.mjs"),t=require("../visitor/set.mjs");class r extends e.FixedWidthBuilder{}exports.IntervalBuilder=r,r.prototype._setValue=t.setIntervalValue;class s extends r{}exports.IntervalDayTimeBuilder=s,s.prototype._setValue=t.setIntervalDayTime;class l extends r{}exports.IntervalYearMonthBuilder=l,l.prototype._setValue=t.setIntervalYearMonth;
},{"../builder.mjs":"riDd","../visitor/set.mjs":"F6QY"}],"byH5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Uint8Builder=exports.Uint64Builder=exports.Uint32Builder=exports.Uint16Builder=exports.IntBuilder=exports.Int8Builder=exports.Int64Builder=exports.Int32Builder=exports.Int16Builder=void 0;var e=require("../builder.mjs");class s extends e.FixedWidthBuilder{setValue(e,s){this._values.set(e,s)}}exports.IntBuilder=s;class t extends s{}exports.Int8Builder=t;class r extends s{}exports.Int16Builder=r;class i extends s{}exports.Int32Builder=i;class d extends s{}exports.Int64Builder=d;class l extends s{}exports.Uint8Builder=l;class x extends s{}exports.Uint16Builder=x;class n extends s{}exports.Uint32Builder=n;class u extends s{}exports.Uint64Builder=u;
},{"../builder.mjs":"riDd"}],"Xhvi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListBuilder=void 0;var e=require("../schema.mjs"),s=require("../type.mjs"),r=require("./buffer.mjs"),i=require("../builder.mjs");class t extends i.VariableWidthBuilder{constructor(e){super(e),this._offsets=new r.OffsetsBufferBuilder}addChild(r,i="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=r,this.type=new s.List(new e.Field(i,r.type,!0)),this.numChildren-1}_flushPending(e){const s=this._offsets,[r]=this.children;for(const[i,t]of e)if(void 0===t)s.set(i,0);else{const e=t.length,n=s.set(i,e).buffer[i];for(let s=-1;++s<e;)r.set(n+s,t[s])}}}exports.ListBuilder=t;
},{"../schema.mjs":"Xwqk","../type.mjs":"Ei7N","./buffer.mjs":"sJwc","../builder.mjs":"riDd"}],"JTwr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapBuilder=void 0;var e=require("../schema.mjs"),i=require("../type.mjs"),t=require("../builder.mjs");class s extends t.VariableWidthBuilder{set(e,i){return super.set(e,i)}setValue(e,i){const t=i instanceof Map?i:new Map(Object.entries(i)),s=this._pending||(this._pending=new Map),n=s.get(e);n&&(this._pendingLength-=n.size),this._pendingLength+=t.size,s.set(e,t)}addChild(t,s=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new i.Map_(new e.Field(s,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){const i=this._offsets,[t]=this.children;for(const[s,n]of e)if(void 0===n)i.set(s,0);else{let{[s]:e,[s+1]:r}=i.set(s,n.size).buffer;for(const i of n.entries())if(t.set(e,i),++e>=r)break}}}exports.MapBuilder=s;
},{"../schema.mjs":"Xwqk","../type.mjs":"Ei7N","../builder.mjs":"riDd"}],"rZJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NullBuilder=void 0;var e=require("../builder.mjs");class t extends e.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}}exports.NullBuilder=t;
},{"../builder.mjs":"riDd"}],"qhnM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StructBuilder=void 0;var e=require("../schema.mjs"),r=require("../builder.mjs"),t=require("../type.mjs");class s extends r.Builder{setValue(e,r){const{children:t,type:s}=this;switch(Array.isArray(r)||r.constructor){case!0:return s.children.forEach((s,i)=>t[i].set(e,r[i]));case Map:return s.children.forEach((s,i)=>t[i].set(e,r.get(s.name)));default:return s.children.forEach((s,i)=>t[i].set(e,r[s.name]))}}setValid(e,r){return super.setValid(e,r)||this.children.forEach(t=>t.setValid(e,r)),r}addChild(r,s=`${this.numChildren}`){const i=this.children.push(r);return this.type=new t.Struct([...this.type.children,new e.Field(s,r.type,!0)]),i}}exports.StructBuilder=s;
},{"../schema.mjs":"Xwqk","../builder.mjs":"riDd","../type.mjs":"Ei7N"}],"rZnk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimestampSecondBuilder=exports.TimestampNanosecondBuilder=exports.TimestampMillisecondBuilder=exports.TimestampMicrosecondBuilder=exports.TimestampBuilder=void 0;var e=require("../builder.mjs"),s=require("../visitor/set.mjs");class t extends e.FixedWidthBuilder{}exports.TimestampBuilder=t,t.prototype._setValue=s.setTimestamp;class i extends t{}exports.TimestampSecondBuilder=i,i.prototype._setValue=s.setTimestampSecond;class o extends t{}exports.TimestampMillisecondBuilder=o,o.prototype._setValue=s.setTimestampMillisecond;class r extends t{}exports.TimestampMicrosecondBuilder=r,r.prototype._setValue=s.setTimestampMicrosecond;class p extends t{}exports.TimestampNanosecondBuilder=p,p.prototype._setValue=s.setTimestampNanosecond;
},{"../builder.mjs":"riDd","../visitor/set.mjs":"F6QY"}],"qFn8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeSecondBuilder=exports.TimeNanosecondBuilder=exports.TimeMillisecondBuilder=exports.TimeMicrosecondBuilder=exports.TimeBuilder=void 0;var e=require("../builder.mjs"),s=require("../visitor/set.mjs");class i extends e.FixedWidthBuilder{}exports.TimeBuilder=i,i.prototype._setValue=s.setTime;class o extends i{}exports.TimeSecondBuilder=o,o.prototype._setValue=s.setTimeSecond;class t extends i{}exports.TimeMillisecondBuilder=t,t.prototype._setValue=s.setTimeMillisecond;class r extends i{}exports.TimeMicrosecondBuilder=r,r.prototype._setValue=s.setTimeMicrosecond;class d extends i{}exports.TimeNanosecondBuilder=d,d.prototype._setValue=s.setTimeNanosecond;
},{"../builder.mjs":"riDd","../visitor/set.mjs":"F6QY"}],"gMNM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnionBuilder=exports.SparseUnionBuilder=exports.DenseUnionBuilder=void 0;var e=require("../schema.mjs"),t=require("./buffer.mjs"),s=require("../builder.mjs"),i=require("../type.mjs");class r extends s.Builder{constructor(e){super(e),this._typeIds=new t.DataBufferBuilder(new Int8Array(0),1),"function"==typeof e.valueToChildTypeId&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,s){return void 0===s&&(s=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,s),this}setValue(e,t,s){this._typeIds.set(e,s);const i=this.type.typeIdToChildIndex[s],r=this.children[i];null==r||r.set(e,t)}addChild(t,s=`${this.children.length}`){const r=this.children.push(t),{type:{children:n,mode:d,typeIds:l}}=this,o=[...n,new e.Field(s,t.type)];return this.type=new i.Union(d,[...l,r],o),r}_valueToChildTypeId(e,t,s){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}exports.UnionBuilder=r;class n extends r{}exports.SparseUnionBuilder=n;class d extends r{constructor(e){super(e),this._offsets=new t.DataBufferBuilder(new Int32Array(0))}setValue(e,t,s){const i=this._typeIds.set(e,s).buffer[e],r=this.getChildAt(this.type.typeIdToChildIndex[i]),n=this._offsets.set(e,r.length).buffer[e];null==r||r.set(n,t)}}exports.DenseUnionBuilder=d;
},{"../schema.mjs":"Xwqk","./buffer.mjs":"sJwc","../builder.mjs":"riDd","../type.mjs":"Ei7N"}],"yZTD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utf8Builder=void 0;var e=require("../util/utf8.mjs"),t=require("./binary.mjs"),s=require("./buffer.mjs"),r=require("../builder.mjs");class i extends r.VariableWidthBuilder{constructor(e){super(e),this._values=new s.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(t,s){return super.setValue(t,(0,e.encodeUtf8)(s))}_flushPending(e,t){}}exports.Utf8Builder=i,i.prototype._flushPending=t.BinaryBuilder.prototype._flushPending;
},{"../util/utf8.mjs":"gtjj","./binary.mjs":"biww","./buffer.mjs":"sJwc","../builder.mjs":"riDd"}],"qadr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instance=exports.GetBuilderCtor=void 0;var i=require("../visitor.mjs"),e=require("../builder/binary.mjs"),r=require("../builder/bool.mjs"),t=require("../builder/date.mjs"),u=require("../builder/decimal.mjs"),n=require("../builder/dictionary.mjs"),s=require("../builder/fixedsizebinary.mjs"),l=require("../builder/fixedsizelist.mjs"),d=require("../builder/float.mjs"),a=require("../builder/interval.mjs"),o=require("../builder/int.mjs"),m=require("../builder/list.mjs"),v=require("../builder/map.mjs"),B=require("../builder/null.mjs"),c=require("../builder/struct.mjs"),b=require("../builder/timestamp.mjs"),p=require("../builder/time.mjs"),T=require("../builder/union.mjs"),j=require("../builder/utf8.mjs");class q extends i.Visitor{visitNull(){return B.NullBuilder}visitBool(){return r.BoolBuilder}visitInt(){return o.IntBuilder}visitInt8(){return o.Int8Builder}visitInt16(){return o.Int16Builder}visitInt32(){return o.Int32Builder}visitInt64(){return o.Int64Builder}visitUint8(){return o.Uint8Builder}visitUint16(){return o.Uint16Builder}visitUint32(){return o.Uint32Builder}visitUint64(){return o.Uint64Builder}visitFloat(){return d.FloatBuilder}visitFloat16(){return d.Float16Builder}visitFloat32(){return d.Float32Builder}visitFloat64(){return d.Float64Builder}visitUtf8(){return j.Utf8Builder}visitBinary(){return e.BinaryBuilder}visitFixedSizeBinary(){return s.FixedSizeBinaryBuilder}visitDate(){return t.DateBuilder}visitDateDay(){return t.DateDayBuilder}visitDateMillisecond(){return t.DateMillisecondBuilder}visitTimestamp(){return b.TimestampBuilder}visitTimestampSecond(){return b.TimestampSecondBuilder}visitTimestampMillisecond(){return b.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return b.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return b.TimestampNanosecondBuilder}visitTime(){return p.TimeBuilder}visitTimeSecond(){return p.TimeSecondBuilder}visitTimeMillisecond(){return p.TimeMillisecondBuilder}visitTimeMicrosecond(){return p.TimeMicrosecondBuilder}visitTimeNanosecond(){return p.TimeNanosecondBuilder}visitDecimal(){return u.DecimalBuilder}visitList(){return m.ListBuilder}visitStruct(){return c.StructBuilder}visitUnion(){return T.UnionBuilder}visitDenseUnion(){return T.DenseUnionBuilder}visitSparseUnion(){return T.SparseUnionBuilder}visitDictionary(){return n.DictionaryBuilder}visitInterval(){return a.IntervalBuilder}visitIntervalDayTime(){return a.IntervalDayTimeBuilder}visitIntervalYearMonth(){return a.IntervalYearMonthBuilder}visitFixedSizeList(){return l.FixedSizeListBuilder}visitMap(){return v.MapBuilder}}exports.GetBuilderCtor=q;const D=new q;exports.instance=D;
},{"../visitor.mjs":"vLL6","../builder/binary.mjs":"biww","../builder/bool.mjs":"PpJB","../builder/date.mjs":"Wyfz","../builder/decimal.mjs":"uqDH","../builder/dictionary.mjs":"xHRK","../builder/fixedsizebinary.mjs":"nBOp","../builder/fixedsizelist.mjs":"Pwn4","../builder/float.mjs":"S72t","../builder/interval.mjs":"D3Ur","../builder/int.mjs":"byH5","../builder/list.mjs":"Xhvi","../builder/map.mjs":"JTwr","../builder/null.mjs":"rZJv","../builder/struct.mjs":"qhnM","../builder/timestamp.mjs":"rZnk","../builder/time.mjs":"qFn8","../builder/union.mjs":"gMNM","../builder/utf8.mjs":"yZTD"}],"t4gF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TypeComparator=void 0,exports.compareFields=M,exports.compareSchemas=F,exports.compareTypes=S,exports.instance=void 0;var t=require("../visitor.mjs");class i extends t.Visitor{compareSchemas(t,i){return t===i||i instanceof t.constructor&&this.compareManyFields(t.fields,i.fields)}compareManyFields(t,i){return t===i||Array.isArray(t)&&Array.isArray(i)&&t.length===i.length&&t.every((t,e)=>this.compareFields(t,i[e]))}compareFields(t,i){return t===i||i instanceof t.constructor&&t.name===i.name&&t.nullable===i.nullable&&this.visit(t.type,i.type)}}function e(t,i){return i instanceof t.constructor}function o(t,i){return t===i||e(t,i)}function r(t,i){return t===i||e(t,i)&&t.bitWidth===i.bitWidth&&t.isSigned===i.isSigned}function n(t,i){return t===i||e(t,i)&&t.precision===i.precision}function p(t,i){return t===i||e(t,i)&&t.byteWidth===i.byteWidth}function s(t,i){return t===i||e(t,i)&&t.unit===i.unit}function c(t,i){return t===i||e(t,i)&&t.unit===i.unit&&t.timezone===i.timezone}function y(t,i){return t===i||e(t,i)&&t.unit===i.unit&&t.bitWidth===i.bitWidth}function a(t,i){return t===i||e(t,i)&&t.children.length===i.children.length&&f.compareManyFields(t.children,i.children)}function d(t,i){return t===i||e(t,i)&&t.children.length===i.children.length&&f.compareManyFields(t.children,i.children)}function l(t,i){return t===i||e(t,i)&&t.mode===i.mode&&t.typeIds.every((t,e)=>t===i.typeIds[e])&&f.compareManyFields(t.children,i.children)}function u(t,i){return t===i||e(t,i)&&t.id===i.id&&t.isOrdered===i.isOrdered&&f.visit(t.indices,i.indices)&&f.visit(t.dictionary,i.dictionary)}function v(t,i){return t===i||e(t,i)&&t.unit===i.unit}function m(t,i){return t===i||e(t,i)&&t.listSize===i.listSize&&t.children.length===i.children.length&&f.compareManyFields(t.children,i.children)}function h(t,i){return t===i||e(t,i)&&t.keysSorted===i.keysSorted&&t.children.length===i.children.length&&f.compareManyFields(t.children,i.children)}exports.TypeComparator=i,i.prototype.visitNull=o,i.prototype.visitBool=o,i.prototype.visitInt=r,i.prototype.visitInt8=r,i.prototype.visitInt16=r,i.prototype.visitInt32=r,i.prototype.visitInt64=r,i.prototype.visitUint8=r,i.prototype.visitUint16=r,i.prototype.visitUint32=r,i.prototype.visitUint64=r,i.prototype.visitFloat=n,i.prototype.visitFloat16=n,i.prototype.visitFloat32=n,i.prototype.visitFloat64=n,i.prototype.visitUtf8=o,i.prototype.visitBinary=o,i.prototype.visitFixedSizeBinary=p,i.prototype.visitDate=s,i.prototype.visitDateDay=s,i.prototype.visitDateMillisecond=s,i.prototype.visitTimestamp=c,i.prototype.visitTimestampSecond=c,i.prototype.visitTimestampMillisecond=c,i.prototype.visitTimestampMicrosecond=c,i.prototype.visitTimestampNanosecond=c,i.prototype.visitTime=y,i.prototype.visitTimeSecond=y,i.prototype.visitTimeMillisecond=y,i.prototype.visitTimeMicrosecond=y,i.prototype.visitTimeNanosecond=y,i.prototype.visitDecimal=o,i.prototype.visitList=a,i.prototype.visitStruct=d,i.prototype.visitUnion=l,i.prototype.visitDenseUnion=l,i.prototype.visitSparseUnion=l,i.prototype.visitDictionary=u,i.prototype.visitInterval=v,i.prototype.visitIntervalDayTime=v,i.prototype.visitIntervalYearMonth=v,i.prototype.visitFixedSizeList=m,i.prototype.visitMap=h;const f=new i;function F(t,i){return f.compareSchemas(t,i)}function M(t,i){return f.compareFields(t,i)}function S(t,i){return f.visit(t,i)}exports.instance=f;
},{"../visitor.mjs":"vLL6"}],"XgxV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.builderThroughAsyncIterable=b,exports.builderThroughIterable=d,exports.makeBuilder=f,exports.tableFromJSON=p,exports.vectorFromArray=y;var e=require("tslib"),t=require("./schema.mjs"),r=s(require("./type.mjs")),n=require("./data.mjs"),o=require("./vector.mjs"),i=require("./visitor/builderctor.mjs"),a=require("./table.mjs"),c=require("./recordbatch.mjs"),l=require("./visitor/typecomparator.mjs");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function f(e){const t=e.type,r=new(i.instance.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const n=e.children||[],o={nullValues:e.nullValues},i=Array.isArray(n)?(e,t)=>n[t]||o:({name:e})=>n[e]||o;for(const[e,a]of t.children.entries()){const{type:t}=a,n=i(a,e);r.children.push(f(Object.assign(Object.assign({},n),{type:t})))}}return r}function y(e,t){if(e instanceof n.Data||e instanceof o.Vector||e.type instanceof r.DataType||ArrayBuffer.isView(e))return(0,o.makeVector)(e);const i=[...d({type:null!=t?t:h(e),nullValues:[null]})(e)],a=1===i.length?i[0]:i.reduce((e,t)=>e.concat(t));return r.DataType.isDictionary(a.type)?a.memoize():a}function p(e){const r=y(e),n=new c.RecordBatch(new t.Schema(r.type.children),r.data[0]);return new a.Table(n)}function h(e){if(0===e.length)return new r.Null;let n=0,o=0,i=0,a=0,c=0,u=0,s=0,f=0;for(const t of e){if(null!=t){switch(typeof t){case"bigint":++u;continue;case"boolean":++s;continue;case"number":++a;continue;case"string":++c;continue;case"object":Array.isArray(t)?++o:"[object Date]"===Object.prototype.toString.call(t)?++f:++i;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}++n}if(a+n===e.length)return new r.Float64;if(c+n===e.length)return new r.Dictionary(new r.Utf8,new r.Int32);if(u+n===e.length)return new r.Int64;if(s+n===e.length)return new r.Bool;if(f+n===e.length)return new r.DateMillisecond;if(o+n===e.length){const n=e,o=h(n[n.findIndex(e=>null!=e)]);if(n.every(e=>null==e||(0,l.compareTypes)(o,h(e))))return new r.List(new t.Field("",o,!0))}else if(i+n===e.length){const n=new Map;for(const r of e)for(const e of Object.keys(r))n.has(e)||null==r[e]||n.set(e,new t.Field(e,h([r[e]]),!0));return new r.Struct([...n.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function d(e){const{queueingStrategy:t="count"}=e,{highWaterMark:r=("bytes"!==t?Number.POSITIVE_INFINITY:Math.pow(2,14))}=e,n="bytes"!==t?"length":"byteLength";return function*(t){let o=0;const i=f(e);for(const e of t)i.append(e)[n]>=r&&++o&&(yield i.toVector());(i.finish().length>0||0===o)&&(yield i.toVector())}}function b(t){const{queueingStrategy:r="count"}=t,{highWaterMark:n=("bytes"!==r?Number.POSITIVE_INFINITY:Math.pow(2,14))}=t,o="bytes"!==r?"length":"byteLength";return function(r){return(0,e.__asyncGenerator)(this,arguments,function*(){var i,a;let c=0;const l=f(t);try{for(var u,s=(0,e.__asyncValues)(r);!(u=yield(0,e.__await)(s.next())).done;){const t=u.value;l.append(t)[o]>=n&&++c&&(yield yield(0,e.__await)(l.toVector()))}}catch(y){i={error:y}}finally{try{u&&!u.done&&(a=s.return)&&(yield(0,e.__await)(a.call(s)))}finally{if(i)throw i.error}}(l.finish().length>0||0===c)&&(yield yield(0,e.__await)(l.toVector()))})}}
},{"tslib":"vCxL","./schema.mjs":"Xwqk","./type.mjs":"Ei7N","./data.mjs":"BsTJ","./vector.mjs":"GTAu","./visitor/builderctor.mjs":"qadr","./table.mjs":"QqYB","./recordbatch.mjs":"FPMH","./visitor/typecomparator.mjs":"t4gF"}],"JtQd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distributeVectorsIntoRecordBatches=l;var e=require("../data.mjs"),t=require("../type.mjs"),n=require("../recordbatch.mjs");function l(e,t){return a(e,t.map(e=>e.data.concat()))}function a(l,a){const c=[...l.fields],u=[],i={numBatches:a.reduce((e,t)=>Math.max(e,t.length),0)};let s=0,o=0,h=-1;const m=a.length;let d,f=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,h=-1;++h<m;)f[h]=d=a[h].shift(),o=Math.min(o,d?d.length:o);Number.isFinite(o)&&(f=r(c,o,f,a,i),o>0&&(u[s++]=(0,e.makeData)({type:new t.Struct(c),length:o,nullCount:0,children:f.slice()})))}return[l=l.assign(c),u.map(e=>new n.RecordBatch(l,e))]}function r(t,n,l,a,r){var c;const u=(n+63&-64)>>3;for(let i=-1,s=a.length;++i<s;){const s=l[i],o=null==s?void 0:s.length;if(o>=n)o===n?l[i]=s:(l[i]=s.slice(0,n),r.numBatches=Math.max(r.numBatches,a[i].unshift(s.slice(n,o-n))));else{const a=t[i];t[i]=a.clone({nullable:!0}),l[i]=null!==(c=null==s?void 0:s._changeLengthAndBackfillNullBitmap(n))&&void 0!==c?c:(0,e.makeData)({type:a.type,length:n,nullCount:n,nullBitmap:new Uint8Array(u)})}}return l}
},{"../data.mjs":"BsTJ","../type.mjs":"Ei7N","../recordbatch.mjs":"FPMH"}],"QqYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Table=void 0,exports.makeTable=y,exports.tableFromArrays=b;var e,t=require("./enum.mjs"),r=require("./data.mjs"),s=require("./factories.mjs"),n=require("./vector.mjs"),i=require("./schema.mjs"),a=require("./type.mjs"),c=require("./visitor/typecomparator.mjs"),o=require("./util/recordbatch.mjs"),h=require("./util/chunk.mjs"),l=require("./visitor/get.mjs"),u=require("./visitor/set.mjs"),m=require("./visitor/indexof.mjs"),d=require("./visitor/iterator.mjs"),f=require("./visitor/bytelength.mjs"),p=require("./util/vector.mjs"),g=require("./recordbatch.mjs");class w{constructor(...e){var t,s;if(0===e.length)return this.batches=[],this.schema=new i.Schema([]),this._offsets=[0],this;let l,u;e[0]instanceof i.Schema&&(l=e.shift()),e[e.length-1]instanceof Uint32Array&&(u=e.pop());const m=e=>{if(e){if(e instanceof g.RecordBatch)return[e];if(e instanceof w)return e.batches;if(e instanceof r.Data){if(e.type instanceof a.Struct)return[new g.RecordBatch(new i.Schema(e.type.children),e)]}else{if(Array.isArray(e))return e.flatMap(e=>m(e));if("function"==typeof e[Symbol.iterator])return[...e].flatMap(e=>m(e));if("object"==typeof e){const t=Object.keys(e),r=t.map(t=>new n.Vector([e[t]])),s=new i.Schema(t.map((e,t)=>new i.Field(String(e),r[t].type))),[,a]=(0,o.distributeVectorsIntoRecordBatches)(s,r);return 0===a.length?[new g.RecordBatch(e)]:a}}}return[]},d=e.flatMap(e=>m(e));if(!((l=null!==(s=null!=l?l:null===(t=d[0])||void 0===t?void 0:t.schema)&&void 0!==s?s:new i.Schema([]))instanceof i.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const r of d){if(!(r instanceof g.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,c.compareSchemas)(l,r.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=l,this.batches=d,this._offsets=null!=u?u:(0,h.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=(0,h.computeChunkNullCounts)(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?d.instance.visit(new n.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(...e){const t=this.schema,r=this.data.concat(e.flatMap(({data:e})=>e));return new w(t,r.map(e=>new g.RecordBatch(t,e)))}slice(e,t){const r=this.schema;[e,t]=(0,p.clampRange)({length:this.numRows},e,t);const s=(0,h.sliceChunks)(this.data,this._offsets,e,t);return new w(r,s.map(e=>new g.RecordBatch(r,e)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const t=this.data.map(t=>t.children[e]);if(0===t.length){const{type:s}=this.schema.fields[e],n=(0,r.makeData)({type:s,length:0,nullCount:0});t.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new n.Vector(t)}return null}setChild(e,t){var r;return this.setChildAt(null===(r=this.schema.fields)||void 0===r?void 0:r.findIndex(t=>t.name===e),t)}setChildAt(e,t){let s=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new n.Vector([(0,r.makeData)({type:new a.Null,length:this.numRows})]));const c=s.fields.slice(),h=c[e].clone({type:t.type}),l=this.schema.fields.map((e,t)=>this.getChildAt(t));[c[e],l[e]]=[h,t],[s,i]=(0,o.distributeVectorsIntoRecordBatches)(s,l)}return new w(s,i)}select(e){const t=this.schema.fields.reduce((e,t,r)=>e.set(t.name,r),new Map);return this.selectAt(e.map(e=>t.get(e)).filter(e=>e>-1))}selectAt(e){const t=this.schema.selectAt(e),r=this.batches.map(t=>t.selectAt(e));return new w(t,r)}assign(e){const t=this.schema.fields,[r,s]=e.schema.fields.reduce((e,r,s)=>{const[n,i]=e,a=t.findIndex(e=>e.name===r.name);return~a?i[a]=s:n.push(s),e},[[],[]]),n=this.schema.assign(e.schema),i=[...t.map((e,t)=>[t,s[t]]).map(([t,r])=>void 0===r?this.getChildAt(t):e.getChildAt(r)),...r.map(t=>e.getChildAt(t))].filter(Boolean);return new w(...(0,o.distributeVectorsIntoRecordBatches)(n,i))}}function y(e){const t={},r=Object.entries(e);for(const[s,i]of r)t[s]=(0,n.makeVector)(i);return new w(t)}function b(e){const t={},r=Object.entries(e);for(const[n,i]of r)t[n]=(0,s.vectorFromArray)(i);return new w(t)}exports.Table=w,e=Symbol.toStringTag,w[e]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=(0,h.wrapChunkedCall1)(h.isChunkedValid),e.get=(0,h.wrapChunkedCall1)(l.instance.getVisitFn(t.Type.Struct)),e.set=(0,h.wrapChunkedCall2)(u.instance.getVisitFn(t.Type.Struct)),e.indexOf=(0,h.wrapChunkedIndexOf)(m.instance.getVisitFn(t.Type.Struct)),e.getByteLength=(0,h.wrapChunkedCall1)(f.instance.getVisitFn(t.Type.Struct)),"Table"))(w.prototype);
},{"./enum.mjs":"KhZo","./data.mjs":"BsTJ","./factories.mjs":"XgxV","./vector.mjs":"GTAu","./schema.mjs":"Xwqk","./type.mjs":"Ei7N","./visitor/typecomparator.mjs":"t4gF","./util/recordbatch.mjs":"JtQd","./util/chunk.mjs":"uIZ0","./visitor/get.mjs":"xDBr","./visitor/set.mjs":"F6QY","./visitor/indexof.mjs":"a9n0","./visitor/iterator.mjs":"I28h","./visitor/bytelength.mjs":"gkv9","./util/vector.mjs":"DJBt","./recordbatch.mjs":"FPMH"}],"FPMH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._InternalEmptyPlaceholderRecordBatch=exports.RecordBatch=void 0;var e,t=require("./data.mjs"),a=require("./table.mjs"),i=require("./vector.mjs"),n=require("./schema.mjs"),r=require("./type.mjs"),s=require("./visitor/get.mjs"),c=require("./visitor/set.mjs"),h=require("./visitor/indexof.mjs"),l=require("./visitor/iterator.mjs"),d=require("./visitor/bytelength.mjs");class o{constructor(...e){switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof n.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,t.makeData)({nullCount:0,type:new r.Struct(this.schema.fields),children:this.schema.fields.map(e=>(0,t.makeData)({type:e.type,nullCount:0}))})]=e,!(this.data instanceof t.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=u(this.schema,this.data.children);break;case 1:{const[a]=e,{fields:i,children:s,length:c}=Object.keys(a).reduce((e,t,i)=>(e.children[i]=a[t],e.length=Math.max(e.length,a[t].length),e.fields[i]=n.Field.new({name:t,type:a[t].type,nullable:!0}),e),{length:0,fields:new Array,children:new Array}),h=new n.Schema(i),l=(0,t.makeData)({type:new r.Struct(i),length:c,children:s,nullCount:0});[this.schema,this.data]=u(h,l.children,c);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=m(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return s.instance.visit(this.data,e)}set(e,t){return c.instance.visit(this.data,e,t)}indexOf(e,t){return h.instance.visit(this.data,e,t)}getByteLength(e){return d.instance.visit(this.data,e)}[Symbol.iterator](){return l.instance.visit(new i.Vector([this.data]))}toArray(){return[...this]}concat(...e){return new a.Table(this.schema,[this,...e])}slice(e,t){const[a]=new i.Vector([this.data]).slice(e,t).data;return new o(this.schema,a)}getChild(e){var t;return this.getChildAt(null===(t=this.schema.fields)||void 0===t?void 0:t.findIndex(t=>t.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new i.Vector([this.data.children[e]]):null}setChild(e,t){var a;return this.setChildAt(null===(a=this.schema.fields)||void 0===a?void 0:a.findIndex(t=>t.name===e),t)}setChildAt(e,a){let s=this.schema,c=this.data;if(e>-1&&e<this.numCols){a||(a=new i.Vector([(0,t.makeData)({type:new r.Null,length:this.numRows})]));const h=s.fields.slice(),l=c.children.slice(),d=h[e].clone({type:a.type});[h[e],l[e]]=[d,a.data[0]],s=new n.Schema(h,new Map(this.schema.metadata)),c=(0,t.makeData)({type:new r.Struct(h),children:l})}return new o(s,c)}select(e){const a=this.schema.select(e),i=new r.Struct(a.fields),n=[];for(const t of e){const e=this.schema.fields.findIndex(e=>e.name===t);~e&&(n[e]=this.data.children[e])}return new o(a,(0,t.makeData)({type:i,length:this.numRows,children:n}))}selectAt(e){const a=this.schema.selectAt(e),i=e.map(e=>this.data.children[e]).filter(Boolean),n=(0,t.makeData)({type:new r.Struct(a.fields),length:this.numRows,children:i});return new o(a,n)}}function u(e,a,i=a.reduce((e,t)=>Math.max(e,t.length),0)){var n;const s=[...e.fields],c=[...a],h=(i+63&-64)>>3;for(const[r,l]of e.fields.entries()){const e=a[r];e&&e.length===i||(s[r]=l.clone({nullable:!0}),c[r]=null!==(n=null==e?void 0:e._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:(0,t.makeData)({type:l.type,length:i,nullCount:i,nullBitmap:new Uint8Array(h)}))}return[e.assign(s),(0,t.makeData)({type:new r.Struct(s),length:i,children:c})]}function m(e,t,a=new Map){for(let i=-1,n=e.length;++i<n;){const n=e[i].type,s=t[i];if(r.DataType.isDictionary(n))if(a.has(n.id)){if(a.get(n.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&a.set(n.id,s.dictionary);n.children&&n.children.length>0&&m(n.children,s.children,a)}return a}exports.RecordBatch=o,e=Symbol.toStringTag,o[e]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(o.prototype);class p extends o{constructor(e){const a=e.fields.map(e=>(0,t.makeData)({type:e.type}));super(e,(0,t.makeData)({type:new r.Struct(e.fields),nullCount:0,children:a}))}}exports._InternalEmptyPlaceholderRecordBatch=p;
},{"./data.mjs":"BsTJ","./table.mjs":"QqYB","./vector.mjs":"GTAu","./schema.mjs":"Xwqk","./type.mjs":"Ei7N","./visitor/get.mjs":"xDBr","./visitor/set.mjs":"F6QY","./visitor/indexof.mjs":"a9n0","./visitor/iterator.mjs":"I28h","./visitor/bytelength.mjs":"gkv9"}],"fuxv":[function(require,module,exports) {
"use strict";var o;Object.defineProperty(exports,"__esModule",{value:!0}),exports.BodyCompressionMethod=void 0,exports.BodyCompressionMethod=o,function(o){o[o.BUFFER=0]="BUFFER"}(o||(exports.BodyCompressionMethod=o={}));
},{}],"BQiG":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompressionType=void 0,exports.CompressionType=e,function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"}(e||(exports.CompressionType=e={}));
},{}],"unX6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BodyCompression=void 0;var t=r(require("flatbuffers")),e=require("./body-compression-method.mjs"),o=require("./compression-type.mjs");function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(s=function(t){return t?o:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var o=s(e);if(o&&o.has(t))return o.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var d=i?Object.getOwnPropertyDescriptor(t,n):null;d&&(d.get||d.set)?Object.defineProperty(r,n,d):r[n]=t[n]}return r.default=t,o&&o.set(t,r),r}class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(e,o){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(o||new i).__init(e.readInt32(e.position())+e.position(),e)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):o.CompressionType.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):e.BodyCompressionMethod.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,o.CompressionType.LZ4_FRAME)}static addMethod(t,o){t.addFieldInt8(1,o,e.BodyCompressionMethod.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,o){return i.startBodyCompression(t),i.addCodec(t,e),i.addMethod(t,o),i.endBodyCompression(t)}}exports.BodyCompression=i;
},{"flatbuffers":"nAPf","./body-compression-method.mjs":"fuxv","./compression-type.mjs":"BQiG"}],"D2Ja":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Buffer=void 0;class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(e),t.offset()}}exports.Buffer=t;
},{}],"GNUq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldNode=void 0;class t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,s){return t.prep(8,16),t.writeInt64(s),t.writeInt64(e),t.offset()}}exports.FieldNode=t;
},{}],"g05L":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordBatch=void 0;var t=o(require("flatbuffers")),e=require("./body-compression.mjs"),s=require("./buffer.mjs"),r=require("./field-node.mjs");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(i=function(t){return t?s:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=i(e);if(s&&s.has(t))return s.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var b=o?Object.getOwnPropertyDescriptor(t,n):null;b&&(b.get||b.set)?Object.defineProperty(r,n,b):r[n]=t[n]}return r.default=t,s&&s.set(t,r),r}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new n).__init(e.readInt32(e.position())+e.position(),e)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const s=this.bb.__offset(this.bb_pos,6);return s?(e||new r.FieldNode).__init(this.bb.__vector(this.bb_pos+s)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new s.Buffer).__init(this.bb.__vector(this.bb_pos+r)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const s=this.bb.__offset(this.bb_pos,10);return s?(t||new e.BodyCompression).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}exports.RecordBatch=n;
},{"flatbuffers":"nAPf","./body-compression.mjs":"unX6","./buffer.mjs":"D2Ja","./field-node.mjs":"GNUq"}],"BAbq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DictionaryBatch=void 0;var t=r(require("flatbuffers")),e=require("./record-batch.mjs");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new n).__init(e.readInt32(e.position())+e.position(),e)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new e.RecordBatch).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}exports.DictionaryBatch=n;
},{"flatbuffers":"nAPf","./record-batch.mjs":"g05L"}],"zvo1":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SparseMatrixCompressedAxis=void 0,exports.SparseMatrixCompressedAxis=e,function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(e||(exports.SparseMatrixCompressedAxis=e={}));
},{}],"mYjM":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SparseMatrixIndexCSX=void 0;var t=n(require("flatbuffers")),e=require("./buffer.mjs"),i=require("./int.mjs"),r=require("./sparse-matrix-compressed-axis.mjs");function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(s=function(t){return t?i:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=s(e);if(i&&i.has(t))return i.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var d=n?Object.getOwnPropertyDescriptor(t,o):null;d&&(d.get||d.set)?Object.defineProperty(r,o,d):r[o]=t[o]}return r.default=t,i&&i.set(t,r),r}class o{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSparseMatrixIndexCSX(t,e){return(e||new o).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,i){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(i||new o).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):r.SparseMatrixCompressedAxis.Row}indptrType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new i.Int).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indptrBuffer(t){const i=this.bb.__offset(this.bb_pos,8);return i?(t||new e.Buffer).__init(this.bb_pos+i,this.bb):null}indicesType(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new i.Int).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indicesBuffer(t){const i=this.bb.__offset(this.bb_pos,12);return i?(t||new e.Buffer).__init(this.bb_pos+i,this.bb):null}static startSparseMatrixIndexCSX(t){t.startObject(5)}static addCompressedAxis(t,e){t.addFieldInt16(0,e,r.SparseMatrixCompressedAxis.Row)}static addIndptrType(t,e){t.addFieldOffset(1,e,0)}static addIndptrBuffer(t,e){t.addFieldStruct(2,e,0)}static addIndicesType(t,e){t.addFieldOffset(3,e,0)}static addIndicesBuffer(t,e){t.addFieldStruct(4,e,0)}static endSparseMatrixIndexCSX(t){const e=t.endObject();return t.requiredField(e,6),t.requiredField(e,8),t.requiredField(e,10),t.requiredField(e,12),e}}exports.SparseMatrixIndexCSX=o;
},{"flatbuffers":"nAPf","./buffer.mjs":"D2Ja","./int.mjs":"AUNW","./sparse-matrix-compressed-axis.mjs":"zvo1"}],"m9Ng":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SparseTensorIndexCOO=void 0;var t=i(require("flatbuffers")),e=require("./buffer.mjs"),s=require("./int.mjs");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(r=function(t){return t?s:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=r(e);if(s&&s.has(t))return s.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var b=n?Object.getOwnPropertyDescriptor(t,o):null;b&&(b.get||b.set)?Object.defineProperty(i,o,b):i[o]=t[o]}return i.default=t,s&&s.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSparseTensorIndexCOO(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new n).__init(e.readInt32(e.position())+e.position(),e)}indicesType(t){const e=this.bb.__offset(this.bb_pos,4);return e?(t||new s.Int).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indicesStrides(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}indicesStridesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesBuffer(t){const s=this.bb.__offset(this.bb_pos,8);return s?(t||new e.Buffer).__init(this.bb_pos+s,this.bb):null}isCanonical(){const t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startSparseTensorIndexCOO(t){t.startObject(4)}static addIndicesType(t,e){t.addFieldOffset(0,e,0)}static addIndicesStrides(t,e){t.addFieldOffset(1,e,0)}static createIndicesStridesVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addInt64(e[s]);return t.endVector()}static startIndicesStridesVector(t,e){t.startVector(8,e,8)}static addIndicesBuffer(t,e){t.addFieldStruct(2,e,0)}static addIsCanonical(t,e){t.addFieldInt8(3,+e,0)}static endSparseTensorIndexCOO(t){const e=t.endObject();return t.requiredField(e,4),t.requiredField(e,8),e}}exports.SparseTensorIndexCOO=n;
},{"flatbuffers":"nAPf","./buffer.mjs":"D2Ja","./int.mjs":"AUNW"}],"Q865":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SparseTensorIndexCSF=void 0;var t=i(require("flatbuffers")),e=require("./buffer.mjs"),s=require("./int.mjs");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(r=function(t){return t?s:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=r(e);if(s&&s.has(t))return s.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in t)if("default"!==b&&Object.prototype.hasOwnProperty.call(t,b)){var o=n?Object.getOwnPropertyDescriptor(t,b):null;o&&(o.get||o.set)?Object.defineProperty(i,b,o):i[b]=t[b]}return i.default=t,s&&s.set(t,i),i}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSparseTensorIndexCSF(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new n).__init(e.readInt32(e.position())+e.position(),e)}indptrType(t){const e=this.bb.__offset(this.bb_pos,4);return e?(t||new s.Int).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indptrBuffers(t,s){const r=this.bb.__offset(this.bb_pos,6);return r?(s||new e.Buffer).__init(this.bb.__vector(this.bb_pos+r)+16*t,this.bb):null}indptrBuffersLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesType(t){const e=this.bb.__offset(this.bb_pos,8);return e?(t||new s.Int).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indicesBuffers(t,s){const r=this.bb.__offset(this.bb_pos,10);return r?(s||new e.Buffer).__init(this.bb.__vector(this.bb_pos+r)+16*t,this.bb):null}indicesBuffersLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}axisOrder(t){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}axisOrderLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}axisOrderArray(){const t=this.bb.__offset(this.bb_pos,12);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startSparseTensorIndexCSF(t){t.startObject(5)}static addIndptrType(t,e){t.addFieldOffset(0,e,0)}static addIndptrBuffers(t,e){t.addFieldOffset(1,e,0)}static startIndptrBuffersVector(t,e){t.startVector(16,e,8)}static addIndicesType(t,e){t.addFieldOffset(2,e,0)}static addIndicesBuffers(t,e){t.addFieldOffset(3,e,0)}static startIndicesBuffersVector(t,e){t.startVector(16,e,8)}static addAxisOrder(t,e){t.addFieldOffset(4,e,0)}static createAxisOrderVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addInt32(e[s]);return t.endVector()}static startAxisOrderVector(t,e){t.startVector(4,e,4)}static endSparseTensorIndexCSF(t){const e=t.endObject();return t.requiredField(e,4),t.requiredField(e,6),t.requiredField(e,8),t.requiredField(e,10),t.requiredField(e,12),e}}exports.SparseTensorIndexCSF=n;
},{"flatbuffers":"nAPf","./buffer.mjs":"D2Ja","./int.mjs":"AUNW"}],"EYQG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SparseTensorIndex=void 0,exports.unionListToSparseTensorIndex=x,exports.unionToSparseTensorIndex=a;var e,r=require("./sparse-matrix-index-c-s-x.mjs"),n=require("./sparse-tensor-index-c-o-o.mjs"),s=require("./sparse-tensor-index-c-s-f.mjs");function a(a,x){switch(e[a]){case"NONE":return null;case"SparseTensorIndexCOO":return x(new n.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return x(new r.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return x(new s.SparseTensorIndexCSF);default:return null}}function x(a,x,o){switch(e[a]){case"NONE":return null;case"SparseTensorIndexCOO":return x(o,new n.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return x(o,new r.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return x(o,new s.SparseTensorIndexCSF);default:return null}}exports.SparseTensorIndex=e,function(e){e[e.NONE=0]="NONE",e[e.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",e[e.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",e[e.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"}(e||(exports.SparseTensorIndex=e={}));
},{"./sparse-matrix-index-c-s-x.mjs":"mYjM","./sparse-tensor-index-c-o-o.mjs":"m9Ng","./sparse-tensor-index-c-s-f.mjs":"Q865"}],"gXXW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TensorDim=void 0;var t=r(require("flatbuffers"));function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,i=new WeakMap;return(e=function(t){return t?i:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=e(r);if(i&&i.has(t))return i.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=s?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n.default=t,i&&i.set(t,n),n}class i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTensorDim(t,e){return(e||new i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTensorDim(e,r){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(r||new i).__init(e.readInt32(e.position())+e.position(),e)}size(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}name(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTensorDim(t){t.startObject(2)}static addSize(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addName(t,e){t.addFieldOffset(1,e,0)}static endTensorDim(t){return t.endObject()}static createTensorDim(t,e,r){return i.startTensorDim(t),i.addSize(t,e),i.addName(t,r),i.endTensorDim(t)}}exports.TensorDim=i;
},{"flatbuffers":"nAPf"}],"ZBJ4":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SparseTensor=void 0;var t=o(require("flatbuffers")),e=require("./buffer.mjs"),s=require("./sparse-tensor-index.mjs"),r=require("./tensor-dim.mjs"),i=require("./type.mjs");function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(n=function(t){return t?s:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=n(e);if(s&&s.has(t))return s.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var b=i?Object.getOwnPropertyDescriptor(t,o):null;b&&(b.get||b.set)?Object.defineProperty(r,o,b):r[o]=t[o]}return r.default=t,s&&s.set(t,r),r}class b{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSparseTensor(t,e){return(e||new b).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSparseTensor(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new b).__init(e.readInt32(e.position())+e.position(),e)}typeType(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint8(this.bb_pos+t):i.Type.NONE}type(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__union(t,this.bb_pos+e):null}shape(t,e){const s=this.bb.__offset(this.bb_pos,8);return s?(e||new r.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+4*t),this.bb):null}shapeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}nonZeroLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}sparseIndexType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb_pos+t):s.SparseTensorIndex.NONE}sparseIndex(t){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__union(t,this.bb_pos+e):null}data(t){const s=this.bb.__offset(this.bb_pos,16);return s?(t||new e.Buffer).__init(this.bb_pos+s,this.bb):null}static startSparseTensor(t){t.startObject(7)}static addTypeType(t,e){t.addFieldInt8(0,e,i.Type.NONE)}static addType(t,e){t.addFieldOffset(1,e,0)}static addShape(t,e){t.addFieldOffset(2,e,0)}static createShapeVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startShapeVector(t,e){t.startVector(4,e,4)}static addNonZeroLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addSparseIndexType(t,e){t.addFieldInt8(4,e,s.SparseTensorIndex.NONE)}static addSparseIndex(t,e){t.addFieldOffset(5,e,0)}static addData(t,e){t.addFieldStruct(6,e,0)}static endSparseTensor(t){const e=t.endObject();return t.requiredField(e,6),t.requiredField(e,8),t.requiredField(e,14),t.requiredField(e,16),e}static finishSparseTensorBuffer(t,e){t.finish(e)}static finishSizePrefixedSparseTensorBuffer(t,e){t.finish(e,void 0,!0)}}exports.SparseTensor=b;
},{"flatbuffers":"nAPf","./buffer.mjs":"D2Ja","./sparse-tensor-index.mjs":"EYQG","./tensor-dim.mjs":"gXXW","./type.mjs":"jgEA"}],"MAhv":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tensor=void 0;var t=n(require("flatbuffers")),e=require("./buffer.mjs"),s=require("./tensor-dim.mjs"),r=require("./type.mjs");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(i=function(t){return t?s:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=i(e);if(s&&s.has(t))return s.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var b=n?Object.getOwnPropertyDescriptor(t,o):null;b&&(b.get||b.set)?Object.defineProperty(r,o,b):r[o]=t[o]}return r.default=t,s&&s.set(t,r),r}class o{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTensor(t,e){return(e||new o).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTensor(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new o).__init(e.readInt32(e.position())+e.position(),e)}typeType(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint8(this.bb_pos+t):r.Type.NONE}type(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__union(t,this.bb_pos+e):null}shape(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new s.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}shapeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}strides(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}stridesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}data(t){const s=this.bb.__offset(this.bb_pos,12);return s?(t||new e.Buffer).__init(this.bb_pos+s,this.bb):null}static startTensor(t){t.startObject(5)}static addTypeType(t,e){t.addFieldInt8(0,e,r.Type.NONE)}static addType(t,e){t.addFieldOffset(1,e,0)}static addShape(t,e){t.addFieldOffset(2,e,0)}static createShapeVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startShapeVector(t,e){t.startVector(4,e,4)}static addStrides(t,e){t.addFieldOffset(3,e,0)}static createStridesVector(t,e){t.startVector(8,e.length,8);for(let s=e.length-1;s>=0;s--)t.addInt64(e[s]);return t.endVector()}static startStridesVector(t,e){t.startVector(8,e,8)}static addData(t,e){t.addFieldStruct(4,e,0)}static endTensor(t){const e=t.endObject();return t.requiredField(e,6),t.requiredField(e,8),t.requiredField(e,12),e}static finishTensorBuffer(t,e){t.finish(e)}static finishSizePrefixedTensorBuffer(t,e){t.finish(e,void 0,!0)}}exports.Tensor=o;
},{"flatbuffers":"nAPf","./buffer.mjs":"D2Ja","./tensor-dim.mjs":"gXXW","./type.mjs":"jgEA"}],"O61F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageHeader=void 0,exports.unionListToMessageHeader=o,exports.unionToMessageHeader=c;var e,r=require("./dictionary-batch.mjs"),s=require("./record-batch.mjs"),a=require("./schema.mjs"),n=require("./sparse-tensor.mjs"),t=require("./tensor.mjs");function c(c,o){switch(e[c]){case"NONE":return null;case"Schema":return o(new a.Schema);case"DictionaryBatch":return o(new r.DictionaryBatch);case"RecordBatch":return o(new s.RecordBatch);case"Tensor":return o(new t.Tensor);case"SparseTensor":return o(new n.SparseTensor);default:return null}}function o(c,o,u){switch(e[c]){case"NONE":return null;case"Schema":return o(u,new a.Schema);case"DictionaryBatch":return o(u,new r.DictionaryBatch);case"RecordBatch":return o(u,new s.RecordBatch);case"Tensor":return o(u,new t.Tensor);case"SparseTensor":return o(u,new n.SparseTensor);default:return null}}exports.MessageHeader=e,function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"}(e||(exports.MessageHeader=e={}));
},{"./dictionary-batch.mjs":"BAbq","./record-batch.mjs":"g05L","./schema.mjs":"wuAi","./sparse-tensor.mjs":"ZBJ4","./tensor.mjs":"MAhv"}],"aFHp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Message=void 0;var t=i(require("flatbuffers")),e=require("./key-value.mjs"),s=require("./message-header.mjs"),r=require("./metadata-version.mjs");function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,s=new WeakMap;return(a=function(t){return t?s:e})(t)}function i(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var s=a(e);if(s&&s.has(t))return s.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if("default"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}return r.default=t,s&&s.set(t,r),r}class n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(e,s){return e.setPosition(e.position()+t.SIZE_PREFIX_LENGTH),(s||new n).__init(e.readInt32(e.position())+e.position(),e)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):r.MetadataVersion.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):s.MessageHeader.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,s){const r=this.bb.__offset(this.bb_pos,12);return r?(s||new e.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,r.MetadataVersion.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,s.MessageHeader.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let s=e.length-1;s>=0;s--)t.addOffset(e[s]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,s,r,a,i){return n.startMessage(t),n.addVersion(t,e),n.addHeaderType(t,s),n.addHeader(t,r),n.addBodyLength(t,a),n.addCustomMetadata(t,i),n.endMessage(t)}}exports.Message=n;
},{"flatbuffers":"nAPf","./key-value.mjs":"NmqU","./message-header.mjs":"O61F","./metadata-version.mjs":"t78p"}],"cMgp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instance=exports.TypeAssembler=void 0;var i=g(require("flatbuffers")),t=require("../visitor.mjs"),e=require("../fb/null.mjs"),r=require("../fb/int.mjs"),n=require("../fb/floating-point.mjs"),s=require("../fb/binary.mjs"),a=require("../fb/bool.mjs"),d=require("../fb/utf8.mjs"),o=require("../fb/decimal.mjs"),u=require("../fb/date.mjs"),l=require("../fb/time.mjs"),c=require("../fb/timestamp.mjs"),m=require("../fb/interval.mjs"),f=require("../fb/list.mjs"),p=require("../fb/struct_.mjs"),y=require("../fb/union.mjs"),v=require("../fb/dictionary-encoding.mjs"),b=require("../fb/fixed-size-binary.mjs"),j=require("../fb/fixed-size-list.mjs"),S=require("../fb/map.mjs");function D(i){if("function"!=typeof WeakMap)return null;var t=new WeakMap,e=new WeakMap;return(D=function(i){return i?e:t})(i)}function g(i,t){if(!t&&i&&i.__esModule)return i;if(null===i||"object"!=typeof i&&"function"!=typeof i)return{default:i};var e=D(t);if(e&&e.has(i))return e.get(i);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in i)if("default"!==s&&Object.prototype.hasOwnProperty.call(i,s)){var a=n?Object.getOwnPropertyDescriptor(i,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=i[s]}return r.default=i,e&&e.set(i,r),r}var I=i.Long;class x extends t.Visitor{visit(i,t){return null==i||null==t?void 0:super.visit(i,t)}visitNull(i,t){return e.Null.startNull(t),e.Null.endNull(t)}visitInt(i,t){return r.Int.startInt(t),r.Int.addBitWidth(t,i.bitWidth),r.Int.addIsSigned(t,i.isSigned),r.Int.endInt(t)}visitFloat(i,t){return n.FloatingPoint.startFloatingPoint(t),n.FloatingPoint.addPrecision(t,i.precision),n.FloatingPoint.endFloatingPoint(t)}visitBinary(i,t){return s.Binary.startBinary(t),s.Binary.endBinary(t)}visitBool(i,t){return a.Bool.startBool(t),a.Bool.endBool(t)}visitUtf8(i,t){return d.Utf8.startUtf8(t),d.Utf8.endUtf8(t)}visitDecimal(i,t){return o.Decimal.startDecimal(t),o.Decimal.addScale(t,i.scale),o.Decimal.addPrecision(t,i.precision),o.Decimal.addBitWidth(t,i.bitWidth),o.Decimal.endDecimal(t)}visitDate(i,t){return u.Date.startDate(t),u.Date.addUnit(t,i.unit),u.Date.endDate(t)}visitTime(i,t){return l.Time.startTime(t),l.Time.addUnit(t,i.unit),l.Time.addBitWidth(t,i.bitWidth),l.Time.endTime(t)}visitTimestamp(i,t){const e=i.timezone&&t.createString(i.timezone)||void 0;return c.Timestamp.startTimestamp(t),c.Timestamp.addUnit(t,i.unit),void 0!==e&&c.Timestamp.addTimezone(t,e),c.Timestamp.endTimestamp(t)}visitInterval(i,t){return m.Interval.startInterval(t),m.Interval.addUnit(t,i.unit),m.Interval.endInterval(t)}visitList(i,t){return f.List.startList(t),f.List.endList(t)}visitStruct(i,t){return p.Struct_.startStruct_(t),p.Struct_.endStruct_(t)}visitUnion(i,t){y.Union.startTypeIdsVector(t,i.typeIds.length);const e=y.Union.createTypeIdsVector(t,i.typeIds);return y.Union.startUnion(t),y.Union.addMode(t,i.mode),y.Union.addTypeIds(t,e),y.Union.endUnion(t)}visitDictionary(i,t){const e=this.visit(i.indices,t);return v.DictionaryEncoding.startDictionaryEncoding(t),v.DictionaryEncoding.addId(t,new I(i.id,0)),v.DictionaryEncoding.addIsOrdered(t,i.isOrdered),void 0!==e&&v.DictionaryEncoding.addIndexType(t,e),v.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(i,t){return b.FixedSizeBinary.startFixedSizeBinary(t),b.FixedSizeBinary.addByteWidth(t,i.byteWidth),b.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(i,t){return j.FixedSizeList.startFixedSizeList(t),j.FixedSizeList.addListSize(t,i.listSize),j.FixedSizeList.endFixedSizeList(t)}visitMap(i,t){return S.Map.startMap(t),S.Map.addKeysSorted(t,i.keysSorted),S.Map.endMap(t)}}exports.TypeAssembler=x;const T=new x;exports.instance=T;
},{"flatbuffers":"nAPf","../visitor.mjs":"vLL6","../fb/null.mjs":"VX86","../fb/int.mjs":"AUNW","../fb/floating-point.mjs":"sux3","../fb/binary.mjs":"iybm","../fb/bool.mjs":"VlX1","../fb/utf8.mjs":"vR0E","../fb/decimal.mjs":"Unii","../fb/date.mjs":"FUo1","../fb/time.mjs":"MeAV","../fb/timestamp.mjs":"Qo9x","../fb/interval.mjs":"n7OQ","../fb/list.mjs":"owRV","../fb/struct_.mjs":"RO99","../fb/union.mjs":"ZzEh","../fb/dictionary-encoding.mjs":"wyc3","../fb/fixed-size-binary.mjs":"Sqvc","../fb/fixed-size-list.mjs":"TNiE","../fb/map.mjs":"MDyI"}],"GVtp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dictionaryBatchFromJSON=s,exports.fieldFromJSON=m,exports.recordBatchFromJSON=c,exports.schemaFromJSON=i;var e=require("../../schema.mjs"),n=require("../../type.mjs"),t=require("./message.mjs"),r=require("../../enum.mjs");function i(n,t=new Map){return new e.Schema(o(n,t),w(n.customMetadata),t)}function c(e){return new t.RecordBatch(e.count,u(e.columns),l(e.columns))}function s(e){return new t.DictionaryBatch(c(e.data),e.id,e.isDelta)}function o(n,t){return(n.fields||[]).filter(Boolean).map(n=>e.Field.fromJSON(n,t))}function a(n,t){return(n.children||[]).filter(Boolean).map(n=>e.Field.fromJSON(n,t))}function u(e){return(e||[]).reduce((e,n)=>[...e,new t.FieldNode(n.count,d(n.VALIDITY)),...u(n.children)],[])}function l(e,n=[]){for(let r=-1,i=(e||[]).length;++r<i;){const i=e[r];i.VALIDITY&&n.push(new t.BufferRegion(n.length,i.VALIDITY.length)),i.TYPE&&n.push(new t.BufferRegion(n.length,i.TYPE.length)),i.OFFSET&&n.push(new t.BufferRegion(n.length,i.OFFSET.length)),i.DATA&&n.push(new t.BufferRegion(n.length,i.DATA.length)),n=l(i.children,n)}return n}function d(e){return(e||[]).reduce((e,n)=>e+ +(0===n),0)}function m(t,r){let i,c,s,o,u,l;return r&&(o=t.dictionary)?r.has(i=o.id)?(c=(c=o.indexType)?p(c):new n.Int32,l=new n.Dictionary(r.get(i),c,i,o.isOrdered),s=new e.Field(t.name,l,t.nullable,w(t.customMetadata))):(c=(c=o.indexType)?p(c):new n.Int32,r.set(i,u=f(t,a(t,r))),l=new n.Dictionary(u,c,i,o.isOrdered),s=new e.Field(t.name,l,t.nullable,w(t.customMetadata))):(u=f(t,a(t,r)),s=new e.Field(t.name,u,t.nullable,w(t.customMetadata))),s||null}function w(e){return new Map(Object.entries(e||{}))}function p(e){return new n.Int(e.isSigned,e.bitWidth)}function f(e,t){const i=e.type.name;switch(i){case"NONE":case"null":return new n.Null;case"binary":return new n.Binary;case"utf8":return new n.Utf8;case"bool":return new n.Bool;case"list":return new n.List((t||[])[0]);case"struct":case"struct_":return new n.Struct(t||[])}switch(i){case"int":{const t=e.type;return new n.Int(t.isSigned,t.bitWidth)}case"floatingpoint":{const t=e.type;return new n.Float(r.Precision[t.precision])}case"decimal":{const t=e.type;return new n.Decimal(t.scale,t.precision,t.bitWidth)}case"date":{const t=e.type;return new n.Date_(r.DateUnit[t.unit])}case"time":{const t=e.type;return new n.Time(r.TimeUnit[t.unit],t.bitWidth)}case"timestamp":{const t=e.type;return new n.Timestamp(r.TimeUnit[t.unit],t.timezone)}case"interval":{const t=e.type;return new n.Interval(r.IntervalUnit[t.unit])}case"union":{const i=e.type;return new n.Union(r.UnionMode[i.mode],i.typeIds||[],t||[])}case"fixedsizebinary":{const t=e.type;return new n.FixedSizeBinary(t.byteWidth)}case"fixedsizelist":{const r=e.type;return new n.FixedSizeList(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new n.Map_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}
},{"../../schema.mjs":"Xwqk","../../type.mjs":"Ei7N","./message.mjs":"SJKJ","../../enum.mjs":"KhZo"}],"SJKJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordBatch=exports.Message=exports.FieldNode=exports.DictionaryBatch=exports.BufferRegion=void 0;var e=q(require("flatbuffers")),t=require("../../fb/schema.mjs"),r=require("../../fb/int.mjs"),n=require("../../fb/record-batch.mjs"),a=require("../../fb/dictionary-batch.mjs"),s=require("../../fb/buffer.mjs"),i=require("../../fb/field.mjs"),o=require("../../fb/field-node.mjs"),c=require("../../fb/type.mjs"),d=require("../../fb/key-value.mjs"),u=require("../../fb/endianness.mjs"),l=require("../../fb/floating-point.mjs"),h=require("../../fb/decimal.mjs"),f=require("../../fb/date.mjs"),y=require("../../fb/time.mjs"),m=require("../../fb/timestamp.mjs"),p=require("../../fb/interval.mjs"),g=require("../../fb/union.mjs"),w=require("../../fb/fixed-size-binary.mjs"),b=require("../../fb/fixed-size-list.mjs"),B=require("../../fb/map.mjs"),M=require("../../fb/message.mjs"),S=require("../../schema.mjs"),F=require("../../util/buffer.mjs"),T=require("../../enum.mjs"),V=require("../../visitor/typeassembler.mjs"),D=require("./json.mjs"),j=require("../../type.mjs");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var v=e.Long,N=e.Builder,O=e.ByteBuffer;class R{constructor(e,t,r,n){this._version=t,this._headerType=r,this.body=new Uint8Array(0),n&&(this._createHeader=(()=>n)),this._bodyLength="number"==typeof e?e:e.low}static fromJSON(e,t){const r=new R(0,T.MetadataVersion.V4,t);return r._createHeader=I(e,t),r}static decode(e){e=new O((0,F.toUint8Array)(e));const t=M.Message.getRootAsMessage(e),r=t.bodyLength(),n=t.version(),a=t.headerType(),s=new R(r,n,a);return s._createHeader=K(t,a),s}static encode(e){const t=new N;let r=-1;return e.isSchema()?r=S.Schema.encode(t,e.header()):e.isRecordBatch()?r=x.encode(t,e.header()):e.isDictionaryBatch()&&(r=H.encode(t,e.header())),M.Message.startMessage(t),M.Message.addVersion(t,T.MetadataVersion.V4),M.Message.addHeader(t,r),M.Message.addHeaderType(t,e.headerType),M.Message.addBodyLength(t,new v(e.bodyLength,0)),M.Message.finishMessageBuffer(t,M.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof S.Schema)return new R(0,T.MetadataVersion.V4,T.MessageHeader.Schema,e);if(e instanceof x)return new R(t,T.MetadataVersion.V4,T.MessageHeader.RecordBatch,e);if(e instanceof H)return new R(t,T.MetadataVersion.V4,T.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===T.MessageHeader.Schema}isRecordBatch(){return this.headerType===T.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===T.MessageHeader.DictionaryBatch}}exports.Message=R;class x{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length="number"==typeof e?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}exports.RecordBatch=x;class H{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id="number"==typeof t?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}exports.DictionaryBatch=H;class L{constructor(e,t){this.offset="number"==typeof e?e:e.low,this.length="number"==typeof t?t:t.low}}exports.BufferRegion=L;class z{constructor(e,t){this.length="number"==typeof e?e:e.low,this.nullCount="number"==typeof t?t:t.low}}function I(e,t){return()=>{switch(t){case T.MessageHeader.Schema:return S.Schema.fromJSON(e);case T.MessageHeader.RecordBatch:return x.fromJSON(e);case T.MessageHeader.DictionaryBatch:return H.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${T.MessageHeader[t]}, type: ${t} }`)}}function K(e,r){return()=>{switch(r){case T.MessageHeader.Schema:return S.Schema.decode(e.header(new t.Schema));case T.MessageHeader.RecordBatch:return x.decode(e.header(new n.RecordBatch),e.version());case T.MessageHeader.DictionaryBatch:return H.decode(e.header(new a.DictionaryBatch),e.version())}throw new Error(`Unrecognized Message type: { name: ${T.MessageHeader[r]}, type: ${r} }`)}}function J(e,t=new Map){const r=A(e,t);return new S.Schema(r,Q(e),t)}function U(e,t=T.MetadataVersion.V4){if(null!==e.compression())throw new Error("Record batch compression not implemented");return new x(e.length(),P(e),W(e,t))}function $(e,t=T.MetadataVersion.V4){return new H(x.decode(e.data(),t),e.id(),e.isDelta())}function C(e){return new L(e.offset(),e.length())}function E(e){return new z(e.length(),e.nullCount())}function P(e){const t=[];for(let r,n=-1,a=-1,s=e.nodesLength();++n<s;)(r=e.nodes(n))&&(t[++a]=z.decode(r));return t}function W(e,t){const r=[];for(let n,a=-1,s=-1,i=e.buffersLength();++a<i;)(n=e.buffers(a))&&(t<T.MetadataVersion.V4&&(n.bb_pos+=8*(a+1)),r[++s]=L.decode(n));return r}function A(e,t){const r=[];for(let n,a=-1,s=-1,i=e.fieldsLength();++a<i;)(n=e.fields(a))&&(r[++s]=S.Field.decode(n,t));return r}function k(e,t){const r=[];for(let n,a=-1,s=-1,i=e.childrenLength();++a<i;)(n=e.children(a))&&(r[++s]=S.Field.decode(n,t));return r}function G(e,t){let r,n,a,s,i,o;return t&&(o=e.dictionary())?t.has(r=o.id().low)?(s=(s=o.indexType())?X(s):new j.Int32,i=new j.Dictionary(t.get(r),s,r,o.isOrdered()),n=new S.Field(e.name(),i,e.nullable(),Q(e))):(s=(s=o.indexType())?X(s):new j.Int32,t.set(r,a=Y(e,k(e,t))),i=new j.Dictionary(a,s,r,o.isOrdered()),n=new S.Field(e.name(),i,e.nullable(),Q(e))):(a=Y(e,k(e,t)),n=new S.Field(e.name(),a,e.nullable(),Q(e))),n||null}function Q(e){const t=new Map;if(e)for(let r,n,a=-1,s=Math.trunc(e.customMetadataLength());++a<s;)(r=e.customMetadata(a))&&null!=(n=r.key())&&t.set(n,r.value());return t}function X(e){return new j.Int(e.isSigned(),e.bitWidth())}function Y(e,t){const n=e.typeType();switch(n){case c.Type.NONE:case c.Type.Null:return new j.Null;case c.Type.Binary:return new j.Binary;case c.Type.Utf8:return new j.Utf8;case c.Type.Bool:return new j.Bool;case c.Type.List:return new j.List((t||[])[0]);case c.Type.Struct_:return new j.Struct(t||[])}switch(n){case c.Type.Int:{const t=e.type(new r.Int);return new j.Int(t.isSigned(),t.bitWidth())}case c.Type.FloatingPoint:{const t=e.type(new l.FloatingPoint);return new j.Float(t.precision())}case c.Type.Decimal:{const t=e.type(new h.Decimal);return new j.Decimal(t.scale(),t.precision(),t.bitWidth())}case c.Type.Date:{const t=e.type(new f.Date);return new j.Date_(t.unit())}case c.Type.Time:{const t=e.type(new y.Time);return new j.Time(t.unit(),t.bitWidth())}case c.Type.Timestamp:{const t=e.type(new m.Timestamp);return new j.Timestamp(t.unit(),t.timezone())}case c.Type.Interval:{const t=e.type(new p.Interval);return new j.Interval(t.unit())}case c.Type.Union:{const r=e.type(new g.Union);return new j.Union(r.mode(),r.typeIdsArray()||[],t||[])}case c.Type.FixedSizeBinary:{const t=e.type(new w.FixedSizeBinary);return new j.FixedSizeBinary(t.byteWidth())}case c.Type.FixedSizeList:{const r=e.type(new b.FixedSizeList);return new j.FixedSizeList(r.listSize(),(t||[])[0])}case c.Type.Map:{const r=e.type(new B.Map);return new j.Map_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${c.Type[n]}" (${n})`)}function Z(e,r){const n=r.fields.map(t=>S.Field.encode(e,t));t.Schema.startFieldsVector(e,n.length);const a=t.Schema.createFieldsVector(e,n),s=r.metadata&&r.metadata.size>0?t.Schema.createCustomMetadataVector(e,[...r.metadata].map(([t,r])=>{const n=e.createString(`${t}`),a=e.createString(`${r}`);return d.KeyValue.startKeyValue(e),d.KeyValue.addKey(e,n),d.KeyValue.addValue(e,a),d.KeyValue.endKeyValue(e)})):-1;return t.Schema.startSchema(e),t.Schema.addFields(e,a),t.Schema.addEndianness(e,se?u.Endianness.Little:u.Endianness.Big),-1!==s&&t.Schema.addCustomMetadata(e,s),t.Schema.endSchema(e)}function ee(e,t){let r=-1,n=-1,a=-1;const s=t.type;let o=t.typeId;j.DataType.isDictionary(s)?(o=s.dictionary.typeId,a=V.instance.visit(s,e),n=V.instance.visit(s.dictionary,e)):n=V.instance.visit(s,e);const c=(s.children||[]).map(t=>S.Field.encode(e,t)),u=i.Field.createChildrenVector(e,c),l=t.metadata&&t.metadata.size>0?i.Field.createCustomMetadataVector(e,[...t.metadata].map(([t,r])=>{const n=e.createString(`${t}`),a=e.createString(`${r}`);return d.KeyValue.startKeyValue(e),d.KeyValue.addKey(e,n),d.KeyValue.addValue(e,a),d.KeyValue.endKeyValue(e)})):-1;return t.name&&(r=e.createString(t.name)),i.Field.startField(e),i.Field.addType(e,n),i.Field.addTypeType(e,o),i.Field.addChildren(e,u),i.Field.addNullable(e,!!t.nullable),-1!==r&&i.Field.addName(e,r),-1!==a&&i.Field.addDictionary(e,a),-1!==l&&i.Field.addCustomMetadata(e,l),i.Field.endField(e)}function te(e,t){const r=t.nodes||[],a=t.buffers||[];n.RecordBatch.startNodesVector(e,r.length);for(const n of r.slice().reverse())z.encode(e,n);const s=e.endVector();n.RecordBatch.startBuffersVector(e,a.length);for(const n of a.slice().reverse())L.encode(e,n);const i=e.endVector();return n.RecordBatch.startRecordBatch(e),n.RecordBatch.addLength(e,new v(t.length,0)),n.RecordBatch.addNodes(e,s),n.RecordBatch.addBuffers(e,i),n.RecordBatch.endRecordBatch(e)}function re(e,t){const r=x.encode(e,t.data);return a.DictionaryBatch.startDictionaryBatch(e),a.DictionaryBatch.addId(e,new v(t.id,0)),a.DictionaryBatch.addIsDelta(e,t.isDelta),a.DictionaryBatch.addData(e,r),a.DictionaryBatch.endDictionaryBatch(e)}function ne(e,t){return o.FieldNode.createFieldNode(e,new v(t.length,0),new v(t.nullCount,0))}function ae(e,t){return s.Buffer.createBuffer(e,new v(t.offset,0),new v(t.length,0))}exports.FieldNode=z,S.Field.encode=ee,S.Field.decode=G,S.Field.fromJSON=D.fieldFromJSON,S.Schema.encode=Z,S.Schema.decode=J,S.Schema.fromJSON=D.schemaFromJSON,x.encode=te,x.decode=U,x.fromJSON=D.recordBatchFromJSON,H.encode=re,H.decode=$,H.fromJSON=D.dictionaryBatchFromJSON,z.encode=ne,z.decode=E,L.encode=ae,L.decode=C;const se=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]})();
},{"flatbuffers":"nAPf","../../fb/schema.mjs":"wuAi","../../fb/int.mjs":"AUNW","../../fb/record-batch.mjs":"g05L","../../fb/dictionary-batch.mjs":"BAbq","../../fb/buffer.mjs":"D2Ja","../../fb/field.mjs":"GSeZ","../../fb/field-node.mjs":"GNUq","../../fb/type.mjs":"jgEA","../../fb/key-value.mjs":"NmqU","../../fb/endianness.mjs":"uJDZ","../../fb/floating-point.mjs":"sux3","../../fb/decimal.mjs":"Unii","../../fb/date.mjs":"FUo1","../../fb/time.mjs":"MeAV","../../fb/timestamp.mjs":"Qo9x","../../fb/interval.mjs":"n7OQ","../../fb/union.mjs":"ZzEh","../../fb/fixed-size-binary.mjs":"Sqvc","../../fb/fixed-size-list.mjs":"TNiE","../../fb/map.mjs":"MDyI","../../fb/message.mjs":"aFHp","../../schema.mjs":"Xwqk","../../util/buffer.mjs":"C375","../../enum.mjs":"KhZo","../../visitor/typeassembler.mjs":"cMgp","./json.mjs":"GVtp","../../type.mjs":"Ei7N"}],"RmdA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PADDING=exports.MessageReader=exports.MAGIC_STR=exports.MAGIC=exports.JSONMessageReader=exports.AsyncMessageReader=void 0,exports.checkForMagicArrowString=_,exports.magicX2AndPadding=exports.magicLength=exports.magicAndPadding=void 0;var e=require("tslib"),t=require("../enum.mjs"),r=require("flatbuffers"),n=require("./metadata/message.mjs"),s=require("../util/compat.mjs"),a=require("../io/file.mjs"),o=require("../util/buffer.mjs"),i=require("../io/stream.mjs"),d=require("../io/interfaces.mjs");const u=e=>`Expected ${t.MessageHeader[e]} Message in stream, but was null or length 0.`,h=e=>`Header pointer of flatbuffer-encoded ${t.MessageHeader[e]} Message is null or length 0.`,c=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,l=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class g{constructor(e){this.source=e instanceof i.ByteStream?e:new i.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done?d.ITERATOR_DONE:-1===e.value&&(e=this.readMetadataLength()).done?d.ITERATOR_DONE:(e=this.readMetadata(e.value)).done?d.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(u(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const t=(0,o.toUint8Array)(this.source.read(e));if(t.byteLength<e)throw new Error(l(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){const r=t.MessageHeader.Schema,n=this.readMessage(r),s=null==n?void 0:n.header();if(e&&!s)throw new Error(h(r));return s}readMetadataLength(){const e=this.source.read(w),t=e&&new r.ByteBuffer(e),n=(null==t?void 0:t.readInt32(0))||0;return{done:0===n,value:n}}readMetadata(e){const t=this.source.read(e);if(!t)return d.ITERATOR_DONE;if(t.byteLength<e)throw new Error(c(e,t.byteLength));return{done:!1,value:n.Message.decode(t)}}}exports.MessageReader=g;class f{constructor(e,t){this.source=e instanceof i.AsyncByteStream?e:(0,s.isFileHandle)(e)?new a.AsyncRandomAccessFile(e,t):new i.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return(0,e.__awaiter)(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done?d.ITERATOR_DONE:-1===e.value&&(e=yield this.readMetadataLength()).done?d.ITERATOR_DONE:(e=yield this.readMetadata(e.value)).done?d.ITERATOR_DONE:e})}throw(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(u(t));return e.value})}readMessageBody(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=(0,o.toUint8Array)(yield this.source.read(t));if(e.byteLength<t)throw new Error(l(t,e.byteLength));return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(r=!1){return(0,e.__awaiter)(this,void 0,void 0,function*(){const e=t.MessageHeader.Schema,n=yield this.readMessage(e),s=null==n?void 0:n.header();if(r&&!s)throw new Error(h(e));return s})}readMetadataLength(){return(0,e.__awaiter)(this,void 0,void 0,function*(){const e=yield this.source.read(w),t=e&&new r.ByteBuffer(e),n=(null==t?void 0:t.readInt32(0))||0;return{done:0===n,value:n}})}readMetadata(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return d.ITERATOR_DONE;if(e.byteLength<t)throw new Error(c(t,e.byteLength));return{done:!1,value:n.Message.decode(e)}})}}exports.AsyncMessageReader=f;class y extends g{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof d.ArrowJSON?e:new d.ArrowJSON(e)}next(){const{_json:e}=this;if(!this._schema){return this._schema=!0,{done:!1,value:n.Message.fromJSON(e.schema,t.MessageHeader.Schema)}}if(this._dictionaryIndex<e.dictionaries.length){const r=e.dictionaries[this._dictionaryIndex++];return this._body=r.data.columns,{done:!1,value:n.Message.fromJSON(r,t.MessageHeader.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const r=e.batches[this._batchIndex++];return this._body=r.columns,{done:!1,value:n.Message.fromJSON(r,t.MessageHeader.RecordBatch)}}return this._body=[],d.ITERATOR_DONE}readMessageBody(e){return function e(t){return(t||[]).reduce((t,r)=>[...t,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE&&[r.TYPE]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...e(r.children)],[])}(this._body)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(u(e));return t.value}readSchema(){const e=t.MessageHeader.Schema,r=this.readMessage(e),n=null==r?void 0:r.header();if(!r||!n)throw new Error(h(e));return n}}exports.JSONMessageReader=y;const w=4;exports.PADDING=w;const A="ARROW1";exports.MAGIC_STR="ARROW1";const M=new Uint8Array("ARROW1".length);exports.MAGIC=M;for(let R=0;R<"ARROW1".length;R+=1)M[R]="ARROW1".codePointAt(R);function _(e,t=0){for(let r=-1,n=M.length;++r<n;)if(M[r]!==e[t+r])return!1;return!0}const m=M.length;exports.magicLength=m;const v=m+w;exports.magicAndPadding=v;const b=2*m+w;exports.magicX2AndPadding=b;
},{"tslib":"vCxL","../enum.mjs":"KhZo","flatbuffers":"nAPf","./metadata/message.mjs":"SJKJ","../util/compat.mjs":"mSUP","../io/file.mjs":"cAFn","../util/buffer.mjs":"C375","../io/stream.mjs":"bi5c","../io/interfaces.mjs":"RZsN"}],"yCaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordBatchStreamReader=exports.RecordBatchReader=exports.RecordBatchFileReader=exports.AsyncRecordBatchStreamReader=exports.AsyncRecordBatchFileReader=void 0;var e=require("tslib"),t=require("../data.mjs"),r=require("../vector.mjs"),i=require("../type.mjs"),s=require("../enum.mjs"),o=require("./metadata/file.mjs"),n=y(require("../io/adapters.mjs")),a=require("../io/stream.mjs"),d=require("../io/file.mjs"),c=require("../visitor/vectorloader.mjs"),h=require("../recordbatch.mjs"),l=require("../io/interfaces.mjs"),u=require("./message.mjs"),_=require("../util/compat.mjs");function y(e){return e&&e.__esModule?e:{default:e}}class m extends l.ReadableInterop{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const t=this._impl.open(e);return(0,_.isPromise)(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return n.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return n.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof m?t:(0,_.isArrowJSON)(t)?I(t):(0,_.isFileHandle)(t)?N(t):(0,_.isPromise)(t)?(()=>(0,e.__awaiter)(this,void 0,void 0,function*(){return yield m.from(yield t)}))():(0,_.isFetchResponse)(t)||(0,_.isReadableDOMStream)(t)||(0,_.isReadableNodeStream)(t)||(0,_.isAsyncIterable)(t)?O(new a.AsyncByteStream(t)):F(new a.ByteStream(t))}static readAll(e){return e instanceof m?e.isSync()?M(e):b(e):(0,_.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,_.isIterable)(e)||(0,_.isIteratorResult)(e)?M(e):b(e)}}exports.RecordBatchReader=m;class f extends m{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return(0,e.__asyncGenerator)(this,arguments,function*(){yield(0,e.__await)(yield*(0,e.__asyncDelegator)((0,e.__asyncValues)(this[Symbol.iterator]())))})}}exports.RecordBatchStreamReader=f;class g extends m{constructor(e){super(e),this._impl=e}readAll(){var t,r;return(0,e.__awaiter)(this,void 0,void 0,function*(){const i=new Array;try{for(var s,o=(0,e.__asyncValues)(this);!(s=yield o.next()).done;){const e=s.value;i.push(e)}}catch(n){t={error:n}}finally{try{s&&!s.done&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}exports.AsyncRecordBatchStreamReader=g;class p extends f{constructor(e){super(e),this._impl=e}}exports.RecordBatchFileReader=p;class B extends g{constructor(e){super(e),this._impl=e}}exports.AsyncRecordBatchFileReader=B;class w{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,r){const s=this._loadVectors(e,r,this.schema.fields),o=(0,t.makeData)({type:new i.Struct(this.schema.fields),length:e.length,children:s});return new h.RecordBatch(this.schema,o)}_loadDictionaryBatch(e,t){const{id:i,isDelta:s}=e,{dictionaries:o,schema:n}=this,a=o.get(i);if(s||!a){const o=n.dictionaries.get(i),d=this._loadVectors(e.data,t,[o]);return(a&&s?a.concat(new r.Vector(d)):new r.Vector(d)).memoize()}return a.memoize()}_loadVectors(e,t,r){return new c.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}}class R extends w{constructor(e,t){super(t),this._reader=(0,_.isArrowJSON)(e)?new u.JSONMessageReader(this._handle=e):new u.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=A(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):l.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):l.ITERATOR_DONE}next(){if(this.closed)return l.ITERATOR_DONE;let e;const{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new h._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class v extends w{constructor(e,t){super(t),this._reader=new u.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return(0,e.__awaiter)(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=A(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):l.ITERATOR_DONE})}return(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):l.ITERATOR_DONE})}next(){return(0,e.__awaiter)(this,void 0,void 0,function*(){if(this.closed)return l.ITERATOR_DONE;let e;const{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=yield t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new h._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class S extends R{constructor(e,t){super(e instanceof d.RandomAccessFile?e:new d.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();const r=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){const e=this._reader.readMessage(s.MessageHeader.RecordBatch);if(null==e?void 0:e.isRecordBatch()){const t=e.header(),r=this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null}_readDictionaryBatch(e){var t;const r=null===(t=this._footer)||void 0===t?void 0:t.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){const e=this._reader.readMessage(s.MessageHeader.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){const t=e.header(),r=this._reader.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,i)}}}_readFooter(){const{_handle:e}=this,t=e.size-u.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return o.Footer.decode(i)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}}class D extends v{constructor(e,...t){const r="number"!=typeof t[0]?t.shift():void 0,i=t[0]instanceof Map?t.shift():void 0;super(e instanceof d.AsyncRandomAccessFile?e:new d.AsyncRandomAccessFile(e,r),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const r=Object.create(null,{open:{get:()=>super.open}});return(0,e.__awaiter)(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield r.open.call(this,t)})}readRecordBatch(t){var r;return(0,e.__awaiter)(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const e=null===(r=this._footer)||void 0===r?void 0:r.getRecordBatch(t);if(e&&(yield this._handle.seek(e.offset))){const e=yield this._reader.readMessage(s.MessageHeader.RecordBatch);if(null==e?void 0:e.isRecordBatch()){const t=e.header(),r=yield this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null})}_readDictionaryBatch(t){var r;return(0,e.__awaiter)(this,void 0,void 0,function*(){const e=null===(r=this._footer)||void 0===r?void 0:r.getDictionaryBatch(t);if(e&&(yield this._handle.seek(e.offset))){const e=yield this._reader.readMessage(s.MessageHeader.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){const t=e.header(),r=yield this._reader.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,i)}}})}_readFooter(){return(0,e.__awaiter)(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const t=e.size-u.magicAndPadding,r=yield e.readInt32(t),i=yield e.readAt(t-r,r);return o.Footer.decode(i)})}_readNextMessageAndValidate(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class x extends R{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new c.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}}function A(e,t){return t&&"boolean"==typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function*M(e){const t=m.from(e);try{if(!t.open({autoDestroy:!1}).closed)do{yield t}while(!t.reset().open().closed)}finally{t.cancel()}}function b(t){return(0,e.__asyncGenerator)(this,arguments,function*(){const r=yield(0,e.__await)(m.from(t));try{if(!(yield(0,e.__await)(r.open({autoDestroy:!1}))).closed)do{yield yield(0,e.__await)(r)}while(!(yield(0,e.__await)(r.reset().open())).closed)}finally{yield(0,e.__await)(r.cancel())}})}function I(e){return new f(new x(e))}function F(e){const t=e.peek(u.magicLength+7&-8);return t&&t.byteLength>=4?(0,u.checkForMagicArrowString)(t)?new p(new S(e.read())):new f(new R(e)):new f(new R(function*(){}()))}function O(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){const r=yield t.peek(u.magicLength+7&-8);return r&&r.byteLength>=4?(0,u.checkForMagicArrowString)(r)?new p(new S(yield t.read())):new g(new v(t)):new g(new v(function(){return(0,e.__asyncGenerator)(this,arguments,function*(){})}()))})}function N(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),r=new d.AsyncRandomAccessFile(t,e);return e>=u.magicX2AndPadding&&(0,u.checkForMagicArrowString)(yield r.readAt(0,u.magicLength+7&-8))?new B(new D(r)):new g(new v(r))})}
},{"tslib":"vCxL","../data.mjs":"BsTJ","../vector.mjs":"GTAu","../type.mjs":"Ei7N","../enum.mjs":"KhZo","./metadata/file.mjs":"AxpH","../io/adapters.mjs":"DQHq","../io/stream.mjs":"bi5c","../io/file.mjs":"cAFn","../visitor/vectorloader.mjs":"w4EZ","../recordbatch.mjs":"FPMH","../io/interfaces.mjs":"RZsN","./message.mjs":"RmdA","../util/compat.mjs":"mSUP"}],"wWQN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VectorAssembler=void 0;var t=require("../vector.mjs"),e=require("../visitor.mjs"),i=require("../enum.mjs"),s=require("../recordbatch.mjs"),r=require("../util/buffer.mjs"),n=require("../util/bit.mjs"),o=require("../ipc/metadata/message.mjs"),a=require("../type.mjs");class l extends e.Visitor{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=t=>t.flatMap(t=>Array.isArray(t)?e(t):t instanceof s.RecordBatch?t.data.children:t.data),i=new l;return i.visitMany(e(t)),i}visit(e){if(e instanceof t.Vector)return this.visitMany(e.data),this;const{type:i}=e;if(!a.DataType.isDictionary(i)){const{length:t,nullCount:s}=e;if(t>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");a.DataType.isNull(i)||u.call(this,s<=0?new Uint8Array(0):(0,n.truncateBitmap)(e.offset,t,e.nullBitmap)),this.nodes.push(new o.FieldNode(t,s))}return super.visit(e)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function u(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new o.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function h(t){const{type:e,length:s,typeIds:n,valueOffsets:o}=t;if(u.call(this,n),e.mode===i.UnionMode.Sparse)return v.call(this,t);if(e.mode===i.UnionMode.Dense){if(t.offset<=0)return u.call(this,o),v.call(this,t);{const i=n.reduce((t,e)=>Math.max(t,e),n[0]),a=new Int32Array(i+1),l=new Int32Array(i+1).fill(-1),h=new Int32Array(s),c=(0,r.rebaseValueOffsets)(-o[0],s,o);for(let t,e,r=-1;++r<s;)-1===(e=l[t=n[r]])&&(e=l[t]=c[t]),h[r]=c[r]-e,++a[t];u.call(this,h);for(let r,n=-1,o=e.children.length;++n<o;)if(r=t.children[n]){const t=e.typeIds[n],i=Math.min(s,a[t]);this.visit(r.slice(l[t],i))}}}return this}function c(t){let e;return t.nullCount>=t.length?u.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?u.call(this,(0,n.truncateBitmap)(t.offset,t.length,e)):u.call(this,(0,n.packBools)(t.values))}function f(t){return u.call(this,t.values.subarray(0,t.length*t.stride))}function p(t){const{length:e,values:i,valueOffsets:s}=t,n=s[0],o=s[e],a=Math.min(o-n,i.byteLength-n);return u.call(this,(0,r.rebaseValueOffsets)(-s[0],e,s)),u.call(this,i.subarray(n,n+a)),this}function y(t){const{length:e,valueOffsets:i}=t;return i&&u.call(this,(0,r.rebaseValueOffsets)(i[0],e,i)),this.visit(t.children[0])}function v(t){return this.visitMany(t.type.children.map((e,i)=>t.children[i]).filter(Boolean))[0]}exports.VectorAssembler=l,l.prototype.visitBool=c,l.prototype.visitInt=f,l.prototype.visitFloat=f,l.prototype.visitUtf8=p,l.prototype.visitBinary=p,l.prototype.visitFixedSizeBinary=f,l.prototype.visitDate=f,l.prototype.visitTimestamp=f,l.prototype.visitTime=f,l.prototype.visitDecimal=f,l.prototype.visitList=y,l.prototype.visitStruct=v,l.prototype.visitUnion=h,l.prototype.visitInterval=f,l.prototype.visitFixedSizeList=y,l.prototype.visitMap=y;
},{"../vector.mjs":"GTAu","../visitor.mjs":"vLL6","../enum.mjs":"KhZo","../recordbatch.mjs":"FPMH","../util/buffer.mjs":"C375","../util/bit.mjs":"wjHF","../ipc/metadata/message.mjs":"SJKJ","../type.mjs":"Ei7N"}],"crCB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JSONTypeAssembler=void 0;var e=require("../visitor.mjs"),t=require("../fb/type.mjs"),i=require("../enum.mjs");class r extends e.Visitor{visit(e){return null==e?void 0:super.visit(e)}visitNull({typeId:e}){return{name:t.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:i,isSigned:r}){return{name:t.Type[e].toLowerCase(),bitWidth:i,isSigned:r}}visitFloat({typeId:e,precision:r}){return{name:t.Type[e].toLowerCase(),precision:i.Precision[r]}}visitBinary({typeId:e}){return{name:t.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:t.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:t.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:i,precision:r,bitWidth:s}){return{name:t.Type[e].toLowerCase(),scale:i,precision:r,bitWidth:s}}visitDate({typeId:e,unit:r}){return{name:t.Type[e].toLowerCase(),unit:i.DateUnit[r]}}visitTime({typeId:e,unit:r,bitWidth:s}){return{name:t.Type[e].toLowerCase(),unit:i.TimeUnit[r],bitWidth:s}}visitTimestamp({typeId:e,timezone:r,unit:s}){return{name:t.Type[e].toLowerCase(),unit:i.TimeUnit[s],timezone:r}}visitInterval({typeId:e,unit:r}){return{name:t.Type[e].toLowerCase(),unit:i.IntervalUnit[r]}}visitList({typeId:e}){return{name:t.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:t.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:r,typeIds:s}){return{name:t.Type[e].toLowerCase(),mode:i.UnionMode[r],typeIds:[...s]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:i}){return{name:t.Type[e].toLowerCase(),byteWidth:i}}visitFixedSizeList({typeId:e,listSize:i}){return{name:t.Type[e].toLowerCase(),listSize:i}}visitMap({typeId:e,keysSorted:i}){return{name:t.Type[e].toLowerCase(),keysSorted:i}}}exports.JSONTypeAssembler=r;
},{"../visitor.mjs":"vLL6","../fb/type.mjs":"jgEA","../enum.mjs":"KhZo"}],"bAoQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JSONVectorAssembler=void 0;var e=require("../util/bn.mjs"),t=require("../vector.mjs"),i=require("../visitor.mjs"),r=require("../enum.mjs"),s=require("../util/bit.mjs"),n=require("../type.mjs");class l extends i.Visitor{static assemble(...e){const t=new l;return e.map(({schema:e,data:i})=>t.visitMany(e.fields,i.children))}visit({name:e},t){const{length:i}=t,{offset:l,nullCount:u,nullBitmap:a}=t,v=n.DataType.isDictionary(t.type)?t.type.indices:t.type,o=Object.assign([],t.buffers,{[r.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:i,VALIDITY:n.DataType.isNull(v)?void 0:u<=0?Array.from({length:i},()=>1):[...new s.BitIterator(a,l,i,null,s.getBit)]},super.visit(t.clone(v,l,i,0,o)))}visitNull(){return{}}visitBool({values:e,offset:t,length:i}){return{DATA:[...new s.BitIterator(e,t,i,null,s.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...a(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new t.Vector([e])],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...u(new t.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...u(new t.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===r.DateUnit.DAY?[...e.values]:[...a(e.values,2)]}}visitTimestamp(e){return{DATA:[...a(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<r.TimeUnit.MICROSECOND?[...e.values]:[...a(e.values,2)]}}visitDecimal(e){return{DATA:[...a(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===r.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}}function*u(e){for(const t of e)yield t.reduce((e,t)=>`${e}${("0"+(255&t).toString(16)).slice(-2)}`,"").toUpperCase()}function*a(t,i){const r=new Uint32Array(t.buffer);for(let s=-1,n=r.length/i;++s<n;)yield`${e.BN.new(r.subarray((s+0)*i,(s+1)*i),!1)}`}exports.JSONVectorAssembler=l;
},{"../util/bn.mjs":"CURF","../vector.mjs":"GTAu","../visitor.mjs":"vLL6","../enum.mjs":"KhZo","../util/bit.mjs":"wjHF","../type.mjs":"Ei7N"}],"zl4D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RecordBatchWriter=exports.RecordBatchStreamWriter=exports.RecordBatchJSONWriter=exports.RecordBatchFileWriter=void 0;var t=require("tslib"),e=require("../table.mjs"),r=require("./message.mjs"),i=require("../vector.mjs"),s=require("../type.mjs"),o=g(require("./metadata/message.mjs")),n=o,a=require("./metadata/file.mjs"),c=require("../enum.mjs"),h=require("../visitor/typecomparator.mjs"),l=require("../io/stream.mjs"),u=require("../visitor/vectorassembler.mjs"),_=require("../visitor/jsontypeassembler.mjs"),d=require("../visitor/jsonvectorassembler.mjs"),f=require("../util/buffer.mjs"),w=require("../recordbatch.mjs"),y=require("../io/interfaces.mjs"),m=require("../util/compat.mjs");function p(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(p=function(t){return t?r:e})(t)}function g(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=p(e);if(r&&r.has(t))return r.get(t);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var n=s?Object.getOwnPropertyDescriptor(t,o):null;n&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o]}return i.default=t,r&&r.set(t,i),i}class b extends y.ReadableInterop{constructor(t){super(),this._position=0,this._started=!1,this._sink=new l.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,m.isObject)(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return(0,m.isPromise)(t)?t.then(t=>this.writeAll(t)):(0,m.isAsyncIterable)(t)?v(this,t):O(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof l.AsyncByteQueue?this._sink=t:(this._sink=new l.AsyncByteQueue,t&&(0,m.isWritableDOMStream)(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(0,m.isWritableNodeStream)(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&(0,h.compareSchemas)(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let r=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof e.Table&&!(r=t.schema))return this.finish()&&void 0;if(t instanceof w.RecordBatch&&!(r=t.schema))return this.finish()&&void 0;if(r&&!(0,h.compareSchemas)(r,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,r)}t instanceof w.RecordBatch?t instanceof w._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(t):t instanceof e.Table?this.writeAll(t.batches):(0,m.isIterable)(t)&&this.writeAll(t)}_writeMessage(t,e=8){const r=e-1,i=o.Message.encode(t),s=i.byteLength,n=this._writeLegacyIpcFormat?4:8,h=s+n+r&~r,l=h-s-n;return t.headerType===c.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new a.FileBlock(h,t.bodyLength,this._position)):t.headerType===c.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new a.FileBlock(h,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(h-n)),s>0&&this._write(i),this._writePadding(l)}_write(t){if(this._started){const e=(0,f.toUint8Array)(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(o.Message.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(r.MAGIC)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:r,bufferRegions:i,buffers:s}=u.VectorAssembler.assemble(t),a=new n.RecordBatch(t.numRows,r,i),c=o.Message.from(a,e);return this._writeDictionaries(t)._writeMessage(c)._writeBodyBuffers(s)}_writeDictionaryBatch(t,e,r=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:s,nodes:a,bufferRegions:c,buffers:h}=u.VectorAssembler.assemble(new i.Vector([t])),l=new n.RecordBatch(t.length,a,c),_=new n.DictionaryBatch(l,e,r),d=o.Message.from(_,s);return this._writeMessage(d)._writeBodyBuffers(h)}_writeBodyBuffers(t){let e,r,i;for(let s=-1,o=t.length;++s<o;)(e=t[s])&&(r=e.byteLength)>0&&(this._write(e),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[e,r]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(r=null==r?void 0:r.slice(t)).length>0)for(const i of r.data)this._writeDictionaryBatch(i,e,t>0),t+=i.length}return this}}exports.RecordBatchWriter=b;class B extends b{static writeAll(t,e){const r=new B(e);return(0,m.isPromise)(t)?t.then(t=>r.writeAll(t)):(0,m.isAsyncIterable)(t)?v(r,t):O(r,t)}}exports.RecordBatchStreamWriter=B;class D extends b{static writeAll(t){const e=new D;return(0,m.isPromise)(t)?t.then(t=>e.writeAll(t)):(0,m.isAsyncIterable)(t)?v(e,t):O(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=a.Footer.encode(new a.Footer(t,c.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}exports.RecordBatchFileWriter=D;class k extends b{constructor(){super(),this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(t){return(new k).writeAll(t)}_writeMessage(){return this}_writeFooter(t){return this}_writeSchema(t){return this._write(`{\n  "schema": ${JSON.stringify({fields:t.fields.map(t=>A(t))},null,2)}`)}_writeDictionaries(t){return t.dictionaries.size>0&&this._dictionaries.push(t),this}_writeDictionaryBatch(t,e,r=!1){return this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0)),this._write(0===this._dictionaryBlocks.length?"    ":",\n    "),this._write(`${M(t,e,r)}`),this._dictionaryBlocks.push(new a.FileBlock(0,0,0)),this}_writeRecordBatch(t){return this._writeDictionaries(t),this._recordBatches.push(t),this}close(){if(this._dictionaries.length>0){this._write(',\n  "dictionaries": [\n');for(const t of this._dictionaries)super._writeDictionaries(t);this._write("\n  ]")}if(this._recordBatches.length>0){for(let t=-1,e=this._recordBatches.length;++t<e;)this._write(0===t?',\n  "batches": [\n    ':",\n    "),this._write(`${S(this._recordBatches[t])}`),this._recordBatchBlocks.push(new a.FileBlock(0,0,0));this._write("\n  ]")}return this._schema&&this._write("\n}"),this._dictionaries=[],this._recordBatches=[],super.close()}}function O(t,r){let i=r;r instanceof e.Table&&(i=r.batches,t.reset(void 0,r.schema));for(const e of i)t.write(e);return t.finish()}function v(e,r){var i,s,o,n;return(0,t.__awaiter)(this,void 0,void 0,function*(){try{for(i=(0,t.__asyncValues)(r);!(s=yield i.next()).done;){const t=s.value;e.write(t)}}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=i.return)&&(yield n.call(i))}finally{if(o)throw o.error}}return e.finish()})}function A({name:t,type:e,nullable:r}){const i=new _.JSONTypeAssembler;return{name:t,nullable:r,type:i.visit(e),children:(e.children||[]).map(t=>A(t)),dictionary:s.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:i.visit(e.indices)}:void 0}}function M(t,e,r=!1){const[i]=d.JSONVectorAssembler.assemble(new w.RecordBatch({[e]:t}));return JSON.stringify({id:e,isDelta:r,data:{count:t.length,columns:i}},null,2)}function S(t){const[e]=d.JSONVectorAssembler.assemble(t);return JSON.stringify({count:t.numRows,columns:e},null,2)}exports.RecordBatchJSONWriter=k;
},{"tslib":"vCxL","../table.mjs":"QqYB","./message.mjs":"RmdA","../vector.mjs":"GTAu","../type.mjs":"Ei7N","./metadata/message.mjs":"SJKJ","./metadata/file.mjs":"AxpH","../enum.mjs":"KhZo","../visitor/typecomparator.mjs":"t4gF","../io/stream.mjs":"bi5c","../visitor/vectorassembler.mjs":"wWQN","../visitor/jsontypeassembler.mjs":"crCB","../visitor/jsonvectorassembler.mjs":"bAoQ","../util/buffer.mjs":"C375","../recordbatch.mjs":"FPMH","../io/interfaces.mjs":"RZsN","../util/compat.mjs":"mSUP"}],"FJm3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toDOMStream=l;var e=require("tslib"),t=require("../../util/buffer.mjs"),r=require("../../util/compat.mjs");function l(e,t){if((0,r.isAsyncIterable)(e))return i(e,t);if((0,r.isIterable)(e))return n(e,t);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}function n(e,r){let l=null;const n="bytes"===(null==r?void 0:r.type)||!1,i=(null==r?void 0:r.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},r),{start(t){u(t,l||(l=e[Symbol.iterator]()))},pull(e){l?u(e,l):e.close()},cancel(){(null==l?void 0:l.return)&&l.return(),l=null}}),Object.assign({highWaterMark:n?i:void 0},r));function u(e,r){let l,i=null,u=e.desiredSize||null;for(;!(i=r.next(n?u:null)).done;)if(ArrayBuffer.isView(i.value)&&(l=(0,t.toUint8Array)(i.value))&&(null!=u&&n&&(u=u-l.byteLength+1),i.value=l),e.enqueue(i.value),null!=u&&--u<=0)return;e.close()}}function i(r,l){let n=null;const i="bytes"===(null==l?void 0:l.type)||!1,u=(null==l?void 0:l.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},l),{start(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield a(t,n||(n=r[Symbol.asyncIterator]()))})},pull(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){n?yield a(t,n):t.close()})},cancel(){return(0,e.__awaiter)(this,void 0,void 0,function*(){(null==n?void 0:n.return)&&(yield n.return()),n=null})}}),Object.assign({highWaterMark:i?u:void 0},l));function a(r,l){return(0,e.__awaiter)(this,void 0,void 0,function*(){let e,n=null,u=r.desiredSize||null;for(;!(n=yield l.next(i?u:null)).done;)if(ArrayBuffer.isView(n.value)&&(e=(0,t.toUint8Array)(n.value))&&(null!=u&&i&&(u=u-e.byteLength+1),n.value=e),r.enqueue(n.value),null!=u&&--u<=0)return;r.close()})}}
},{"tslib":"vCxL","../../util/buffer.mjs":"C375","../../util/compat.mjs":"mSUP"}],"Mi8t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuilderTransform=void 0,exports.builderThroughDOMStream=i;var e=require("tslib"),t=require("../../factories.mjs");function i(e){return new r(e)}class r{constructor(i){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{readableStrategy:r,writableStrategy:h,queueingStrategy:l="count"}=i,n=(0,e.__rest)(i,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,t.makeBuilder)(n),this._getSize="bytes"!==l?s:u;const{highWaterMark:a=("bytes"===l?Math.pow(2,14):1e3)}=Object.assign({},r),{highWaterMark:o=("bytes"===l?Math.pow(2,14):1e3)}=Object.assign({},h);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:e=>{this._maybeFlush(this._builder,this._controller=e)},start:e=>{this._maybeFlush(this._builder,this._controller=e)}},{highWaterMark:a,size:"bytes"!==l?s:u}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:o,size:e=>this._writeValueAndReturnChunkSize(e)})}_writeValueAndReturnChunkSize(e){const t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){null!=t&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,null==t?e.close():e.enqueue(t)}}exports.BuilderTransform=r;const s=e=>{var t;return null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0},u=e=>{var t;return null!==(t=null==e?void 0:e.byteLength)&&void 0!==t?t:0};
},{"tslib":"vCxL","../../factories.mjs":"XgxV"}],"Uzyn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.recordBatchReaderThroughDOMStream=i;var e=require("tslib"),r=require("../../io/stream.mjs"),t=require("../../ipc/reader.mjs");function i(i,n){const o=new r.AsyncByteQueue;let a=null;const u=new ReadableStream({cancel(){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield o.close()})},start(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield d(r,a||(a=yield function(){return(0,e.__awaiter)(this,void 0,void 0,function*(){return yield(yield t.RecordBatchReader.from(o)).open(n)})}()))})},pull(r){return(0,e.__awaiter)(this,void 0,void 0,function*(){a?yield d(r,a):r.close()})}});return{writable:new WritableStream(o,Object.assign({highWaterMark:Math.pow(2,14)},i)),readable:u};function d(r,t){return(0,e.__awaiter)(this,void 0,void 0,function*(){let e=r.desiredSize,i=null;for(;!(i=yield t.next()).done;)if(r.enqueue(i.value),null!=e&&--e<=0)return;r.close()})}}
},{"tslib":"vCxL","../../io/stream.mjs":"bi5c","../../ipc/reader.mjs":"yCaL"}],"YCK9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.recordBatchWriterThroughDOMStream=r;var e=require("tslib"),t=require("../../io/stream.mjs");function r(r,i){const n=new this(r),a=new t.AsyncByteStream(n),o=new ReadableStream({cancel(){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield a.cancel()})},pull(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield u(t)})},start(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){yield u(t)})}},Object.assign({highWaterMark:Math.pow(2,14)},i));return{writable:new WritableStream(n,r),readable:o};function u(t){return(0,e.__awaiter)(this,void 0,void 0,function*(){let e=null,r=t.desiredSize;for(;e=yield a.read(r||null);)if(t.enqueue(e),null!=r&&(r-=e.byteLength)<=0)return;t.close()})}}
},{"tslib":"vCxL","../../io/stream.mjs":"bi5c"}],"CPAq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tableFromIPC=i,exports.tableToIPC=o;var e=require("../table.mjs"),r=require("../util/compat.mjs"),t=require("./reader.mjs"),a=require("./writer.mjs");function i(a){const o=t.RecordBatchReader.from(a);return(0,r.isPromise)(o)?o.then(e=>i(e)):o.isAsync()?o.readAll().then(r=>new e.Table(r)):new e.Table(o.readAll())}function o(e,r="stream"){return("stream"===r?a.RecordBatchStreamWriter:a.RecordBatchFileWriter).writeAll(e).toUint8Array(!0)}
},{"../table.mjs":"QqYB","../util/compat.mjs":"mSUP","./reader.mjs":"yCaL","./writer.mjs":"zl4D"}],"c7Eq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AsyncByteQueue",{enumerable:!0,get:function(){return I.AsyncByteQueue}}),Object.defineProperty(exports,"AsyncByteStream",{enumerable:!0,get:function(){return I.AsyncByteStream}}),Object.defineProperty(exports,"AsyncMessageReader",{enumerable:!0,get:function(){return N.AsyncMessageReader}}),Object.defineProperty(exports,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return R.AsyncRecordBatchFileReader}}),Object.defineProperty(exports,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return R.AsyncRecordBatchStreamReader}}),Object.defineProperty(exports,"Binary",{enumerable:!0,get:function(){return n.Binary}}),Object.defineProperty(exports,"BinaryBuilder",{enumerable:!0,get:function(){return M.BinaryBuilder}}),Object.defineProperty(exports,"Bool",{enumerable:!0,get:function(){return n.Bool}}),Object.defineProperty(exports,"BoolBuilder",{enumerable:!0,get:function(){return s.BoolBuilder}}),Object.defineProperty(exports,"BufferType",{enumerable:!0,get:function(){return r.BufferType}}),Object.defineProperty(exports,"Builder",{enumerable:!0,get:function(){return d.Builder}}),Object.defineProperty(exports,"ByteStream",{enumerable:!0,get:function(){return I.ByteStream}}),Object.defineProperty(exports,"Data",{enumerable:!0,get:function(){return t.Data}}),Object.defineProperty(exports,"DataType",{enumerable:!0,get:function(){return n.DataType}}),Object.defineProperty(exports,"DateBuilder",{enumerable:!0,get:function(){return f.DateBuilder}}),Object.defineProperty(exports,"DateDay",{enumerable:!0,get:function(){return n.DateDay}}),Object.defineProperty(exports,"DateDayBuilder",{enumerable:!0,get:function(){return f.DateDayBuilder}}),Object.defineProperty(exports,"DateMillisecond",{enumerable:!0,get:function(){return n.DateMillisecond}}),Object.defineProperty(exports,"DateMillisecondBuilder",{enumerable:!0,get:function(){return f.DateMillisecondBuilder}}),Object.defineProperty(exports,"DateUnit",{enumerable:!0,get:function(){return r.DateUnit}}),Object.defineProperty(exports,"Date_",{enumerable:!0,get:function(){return n.Date_}}),Object.defineProperty(exports,"Decimal",{enumerable:!0,get:function(){return n.Decimal}}),Object.defineProperty(exports,"DecimalBuilder",{enumerable:!0,get:function(){return m.DecimalBuilder}}),Object.defineProperty(exports,"DenseUnion",{enumerable:!0,get:function(){return n.DenseUnion}}),Object.defineProperty(exports,"DenseUnionBuilder",{enumerable:!0,get:function(){return F.DenseUnionBuilder}}),Object.defineProperty(exports,"Dictionary",{enumerable:!0,get:function(){return n.Dictionary}}),Object.defineProperty(exports,"DictionaryBuilder",{enumerable:!0,get:function(){return y.DictionaryBuilder}}),Object.defineProperty(exports,"Field",{enumerable:!0,get:function(){return c.Field}}),Object.defineProperty(exports,"FixedSizeBinary",{enumerable:!0,get:function(){return n.FixedSizeBinary}}),Object.defineProperty(exports,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return j.FixedSizeBinaryBuilder}}),Object.defineProperty(exports,"FixedSizeList",{enumerable:!0,get:function(){return n.FixedSizeList}}),Object.defineProperty(exports,"FixedSizeListBuilder",{enumerable:!0,get:function(){return q.FixedSizeListBuilder}}),Object.defineProperty(exports,"Float",{enumerable:!0,get:function(){return n.Float}}),Object.defineProperty(exports,"Float16",{enumerable:!0,get:function(){return n.Float16}}),Object.defineProperty(exports,"Float16Builder",{enumerable:!0,get:function(){return g.Float16Builder}}),Object.defineProperty(exports,"Float32",{enumerable:!0,get:function(){return n.Float32}}),Object.defineProperty(exports,"Float32Builder",{enumerable:!0,get:function(){return g.Float32Builder}}),Object.defineProperty(exports,"Float64",{enumerable:!0,get:function(){return n.Float64}}),Object.defineProperty(exports,"Float64Builder",{enumerable:!0,get:function(){return g.Float64Builder}}),Object.defineProperty(exports,"FloatBuilder",{enumerable:!0,get:function(){return g.FloatBuilder}}),Object.defineProperty(exports,"Int",{enumerable:!0,get:function(){return n.Int}}),Object.defineProperty(exports,"Int16",{enumerable:!0,get:function(){return n.Int16}}),Object.defineProperty(exports,"Int16Builder",{enumerable:!0,get:function(){return O.Int16Builder}}),Object.defineProperty(exports,"Int32",{enumerable:!0,get:function(){return n.Int32}}),Object.defineProperty(exports,"Int32Builder",{enumerable:!0,get:function(){return O.Int32Builder}}),Object.defineProperty(exports,"Int64",{enumerable:!0,get:function(){return n.Int64}}),Object.defineProperty(exports,"Int64Builder",{enumerable:!0,get:function(){return O.Int64Builder}}),Object.defineProperty(exports,"Int8",{enumerable:!0,get:function(){return n.Int8}}),Object.defineProperty(exports,"Int8Builder",{enumerable:!0,get:function(){return O.Int8Builder}}),Object.defineProperty(exports,"IntBuilder",{enumerable:!0,get:function(){return O.IntBuilder}}),Object.defineProperty(exports,"Interval",{enumerable:!0,get:function(){return n.Interval}}),Object.defineProperty(exports,"IntervalBuilder",{enumerable:!0,get:function(){return B.IntervalBuilder}}),Object.defineProperty(exports,"IntervalDayTime",{enumerable:!0,get:function(){return n.IntervalDayTime}}),Object.defineProperty(exports,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return B.IntervalDayTimeBuilder}}),Object.defineProperty(exports,"IntervalUnit",{enumerable:!0,get:function(){return r.IntervalUnit}}),Object.defineProperty(exports,"IntervalYearMonth",{enumerable:!0,get:function(){return n.IntervalYearMonth}}),Object.defineProperty(exports,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return B.IntervalYearMonthBuilder}}),Object.defineProperty(exports,"JSONMessageReader",{enumerable:!0,get:function(){return N.JSONMessageReader}}),Object.defineProperty(exports,"List",{enumerable:!0,get:function(){return n.List}}),Object.defineProperty(exports,"ListBuilder",{enumerable:!0,get:function(){return S.ListBuilder}}),Object.defineProperty(exports,"MapBuilder",{enumerable:!0,get:function(){return h.MapBuilder}}),Object.defineProperty(exports,"MapRow",{enumerable:!0,get:function(){return a.MapRow}}),Object.defineProperty(exports,"Map_",{enumerable:!0,get:function(){return n.Map_}}),Object.defineProperty(exports,"Message",{enumerable:!0,get:function(){return A.Message}}),Object.defineProperty(exports,"MessageHeader",{enumerable:!0,get:function(){return e.MessageHeader}}),Object.defineProperty(exports,"MessageReader",{enumerable:!0,get:function(){return N.MessageReader}}),Object.defineProperty(exports,"MetadataVersion",{enumerable:!0,get:function(){return r.MetadataVersion}}),Object.defineProperty(exports,"Null",{enumerable:!0,get:function(){return n.Null}}),Object.defineProperty(exports,"NullBuilder",{enumerable:!0,get:function(){return b.NullBuilder}}),Object.defineProperty(exports,"Precision",{enumerable:!0,get:function(){return r.Precision}}),Object.defineProperty(exports,"RecordBatch",{enumerable:!0,get:function(){return w.RecordBatch}}),Object.defineProperty(exports,"RecordBatchFileReader",{enumerable:!0,get:function(){return R.RecordBatchFileReader}}),Object.defineProperty(exports,"RecordBatchFileWriter",{enumerable:!0,get:function(){return U.RecordBatchFileWriter}}),Object.defineProperty(exports,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return U.RecordBatchJSONWriter}}),Object.defineProperty(exports,"RecordBatchReader",{enumerable:!0,get:function(){return R.RecordBatchReader}}),Object.defineProperty(exports,"RecordBatchStreamReader",{enumerable:!0,get:function(){return R.RecordBatchStreamReader}}),Object.defineProperty(exports,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return U.RecordBatchStreamWriter}}),Object.defineProperty(exports,"RecordBatchWriter",{enumerable:!0,get:function(){return U.RecordBatchWriter}}),Object.defineProperty(exports,"Schema",{enumerable:!0,get:function(){return c.Schema}}),Object.defineProperty(exports,"SparseUnion",{enumerable:!0,get:function(){return n.SparseUnion}}),Object.defineProperty(exports,"SparseUnionBuilder",{enumerable:!0,get:function(){return F.SparseUnionBuilder}}),Object.defineProperty(exports,"Struct",{enumerable:!0,get:function(){return n.Struct}}),Object.defineProperty(exports,"StructBuilder",{enumerable:!0,get:function(){return D.StructBuilder}}),Object.defineProperty(exports,"StructRow",{enumerable:!0,get:function(){return l.StructRow}}),Object.defineProperty(exports,"Table",{enumerable:!0,get:function(){return i.Table}}),Object.defineProperty(exports,"Time",{enumerable:!0,get:function(){return n.Time}}),Object.defineProperty(exports,"TimeBuilder",{enumerable:!0,get:function(){return x.TimeBuilder}}),Object.defineProperty(exports,"TimeMicrosecond",{enumerable:!0,get:function(){return n.TimeMicrosecond}}),Object.defineProperty(exports,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return x.TimeMicrosecondBuilder}}),Object.defineProperty(exports,"TimeMillisecond",{enumerable:!0,get:function(){return n.TimeMillisecond}}),Object.defineProperty(exports,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return x.TimeMillisecondBuilder}}),Object.defineProperty(exports,"TimeNanosecond",{enumerable:!0,get:function(){return n.TimeNanosecond}}),Object.defineProperty(exports,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return x.TimeNanosecondBuilder}}),Object.defineProperty(exports,"TimeSecond",{enumerable:!0,get:function(){return n.TimeSecond}}),Object.defineProperty(exports,"TimeSecondBuilder",{enumerable:!0,get:function(){return x.TimeSecondBuilder}}),Object.defineProperty(exports,"TimeUnit",{enumerable:!0,get:function(){return r.TimeUnit}}),Object.defineProperty(exports,"Timestamp",{enumerable:!0,get:function(){return n.Timestamp}}),Object.defineProperty(exports,"TimestampBuilder",{enumerable:!0,get:function(){return P.TimestampBuilder}}),Object.defineProperty(exports,"TimestampMicrosecond",{enumerable:!0,get:function(){return n.TimestampMicrosecond}}),Object.defineProperty(exports,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return P.TimestampMicrosecondBuilder}}),Object.defineProperty(exports,"TimestampMillisecond",{enumerable:!0,get:function(){return n.TimestampMillisecond}}),Object.defineProperty(exports,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return P.TimestampMillisecondBuilder}}),Object.defineProperty(exports,"TimestampNanosecond",{enumerable:!0,get:function(){return n.TimestampNanosecond}}),Object.defineProperty(exports,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return P.TimestampNanosecondBuilder}}),Object.defineProperty(exports,"TimestampSecond",{enumerable:!0,get:function(){return n.TimestampSecond}}),Object.defineProperty(exports,"TimestampSecondBuilder",{enumerable:!0,get:function(){return P.TimestampSecondBuilder}}),Object.defineProperty(exports,"Type",{enumerable:!0,get:function(){return r.Type}}),Object.defineProperty(exports,"Uint16",{enumerable:!0,get:function(){return n.Uint16}}),Object.defineProperty(exports,"Uint16Builder",{enumerable:!0,get:function(){return O.Uint16Builder}}),Object.defineProperty(exports,"Uint32",{enumerable:!0,get:function(){return n.Uint32}}),Object.defineProperty(exports,"Uint32Builder",{enumerable:!0,get:function(){return O.Uint32Builder}}),Object.defineProperty(exports,"Uint64",{enumerable:!0,get:function(){return n.Uint64}}),Object.defineProperty(exports,"Uint64Builder",{enumerable:!0,get:function(){return O.Uint64Builder}}),Object.defineProperty(exports,"Uint8",{enumerable:!0,get:function(){return n.Uint8}}),Object.defineProperty(exports,"Uint8Builder",{enumerable:!0,get:function(){return O.Uint8Builder}}),Object.defineProperty(exports,"Union",{enumerable:!0,get:function(){return n.Union}}),Object.defineProperty(exports,"UnionBuilder",{enumerable:!0,get:function(){return F.UnionBuilder}}),Object.defineProperty(exports,"UnionMode",{enumerable:!0,get:function(){return r.UnionMode}}),Object.defineProperty(exports,"Utf8",{enumerable:!0,get:function(){return n.Utf8}}),Object.defineProperty(exports,"Utf8Builder",{enumerable:!0,get:function(){return T.Utf8Builder}}),Object.defineProperty(exports,"Vector",{enumerable:!0,get:function(){return u.Vector}}),Object.defineProperty(exports,"Visitor",{enumerable:!0,get:function(){return o.Visitor}}),Object.defineProperty(exports,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return p.builderThroughAsyncIterable}}),Object.defineProperty(exports,"builderThroughIterable",{enumerable:!0,get:function(){return p.builderThroughIterable}}),Object.defineProperty(exports,"makeBuilder",{enumerable:!0,get:function(){return p.makeBuilder}}),Object.defineProperty(exports,"makeData",{enumerable:!0,get:function(){return t.makeData}}),Object.defineProperty(exports,"makeTable",{enumerable:!0,get:function(){return i.makeTable}}),Object.defineProperty(exports,"makeVector",{enumerable:!0,get:function(){return u.makeVector}}),Object.defineProperty(exports,"tableFromArrays",{enumerable:!0,get:function(){return i.tableFromArrays}}),Object.defineProperty(exports,"tableFromIPC",{enumerable:!0,get:function(){return v.tableFromIPC}}),Object.defineProperty(exports,"tableFromJSON",{enumerable:!0,get:function(){return p.tableFromJSON}}),Object.defineProperty(exports,"tableToIPC",{enumerable:!0,get:function(){return v.tableToIPC}}),exports.util=void 0,Object.defineProperty(exports,"vectorFromArray",{enumerable:!0,get:function(){return p.vectorFromArray}});var e=require("./fb/message-header.mjs"),r=require("./enum.mjs"),t=require("./data.mjs"),n=require("./type.mjs"),i=require("./table.mjs"),u=require("./vector.mjs"),o=require("./visitor.mjs"),c=require("./schema.mjs"),a=require("./row/map.mjs"),l=require("./row/struct.mjs"),d=require("./builder.mjs"),p=require("./factories.mjs"),s=require("./builder/bool.mjs"),b=require("./builder/null.mjs"),f=require("./builder/date.mjs"),m=require("./builder/decimal.mjs"),y=require("./builder/dictionary.mjs"),j=require("./builder/fixedsizebinary.mjs"),g=require("./builder/float.mjs"),O=require("./builder/int.mjs"),x=require("./builder/time.mjs"),P=require("./builder/timestamp.mjs"),B=require("./builder/interval.mjs"),T=require("./builder/utf8.mjs"),M=require("./builder/binary.mjs"),S=require("./builder/list.mjs"),q=require("./builder/fixedsizelist.mjs"),h=require("./builder/map.mjs"),D=require("./builder/struct.mjs"),F=require("./builder/union.mjs"),I=require("./io/stream.mjs"),R=require("./ipc/reader.mjs"),U=require("./ipc/writer.mjs"),v=require("./ipc/serialization.mjs"),N=require("./ipc/message.mjs"),A=require("./ipc/metadata/message.mjs"),w=require("./recordbatch.mjs"),k=Y(require("./util/bn.mjs")),z=Y(require("./util/int.mjs")),W=Y(require("./util/bit.mjs")),L=Y(require("./util/math.mjs")),V=Y(require("./util/buffer.mjs")),_=Y(require("./util/vector.mjs")),J=require("./visitor/typecomparator.mjs");function C(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(C=function(e){return e?t:r})(e)}function Y(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=C(r);if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=i?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}const H=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},k),z),W),L),V),_),{compareSchemas:J.compareSchemas,compareFields:J.compareFields,compareTypes:J.compareTypes});exports.util=H;
},{"./fb/message-header.mjs":"O61F","./enum.mjs":"KhZo","./data.mjs":"BsTJ","./type.mjs":"Ei7N","./table.mjs":"QqYB","./vector.mjs":"GTAu","./visitor.mjs":"vLL6","./schema.mjs":"Xwqk","./row/map.mjs":"Yy3r","./row/struct.mjs":"cEtr","./builder.mjs":"riDd","./factories.mjs":"XgxV","./builder/bool.mjs":"PpJB","./builder/null.mjs":"rZJv","./builder/date.mjs":"Wyfz","./builder/decimal.mjs":"uqDH","./builder/dictionary.mjs":"xHRK","./builder/fixedsizebinary.mjs":"nBOp","./builder/float.mjs":"S72t","./builder/int.mjs":"byH5","./builder/time.mjs":"qFn8","./builder/timestamp.mjs":"rZnk","./builder/interval.mjs":"D3Ur","./builder/utf8.mjs":"yZTD","./builder/binary.mjs":"biww","./builder/list.mjs":"Xhvi","./builder/fixedsizelist.mjs":"Pwn4","./builder/map.mjs":"JTwr","./builder/struct.mjs":"qhnM","./builder/union.mjs":"gMNM","./io/stream.mjs":"bi5c","./ipc/reader.mjs":"yCaL","./ipc/writer.mjs":"zl4D","./ipc/serialization.mjs":"CPAq","./ipc/message.mjs":"RmdA","./ipc/metadata/message.mjs":"SJKJ","./recordbatch.mjs":"FPMH","./util/bn.mjs":"CURF","./util/int.mjs":"wuZS","./util/bit.mjs":"wjHF","./util/math.mjs":"Qg3K","./util/buffer.mjs":"C375","./util/vector.mjs":"DJBt","./visitor/typecomparator.mjs":"t4gF"}],"n0EY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AsyncByteQueue",{enumerable:!0,get:function(){return a.AsyncByteQueue}}),Object.defineProperty(exports,"AsyncByteStream",{enumerable:!0,get:function(){return a.AsyncByteStream}}),Object.defineProperty(exports,"AsyncMessageReader",{enumerable:!0,get:function(){return a.AsyncMessageReader}}),Object.defineProperty(exports,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return a.AsyncRecordBatchFileReader}}),Object.defineProperty(exports,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return a.AsyncRecordBatchStreamReader}}),Object.defineProperty(exports,"Binary",{enumerable:!0,get:function(){return a.Binary}}),Object.defineProperty(exports,"BinaryBuilder",{enumerable:!0,get:function(){return a.BinaryBuilder}}),Object.defineProperty(exports,"Bool",{enumerable:!0,get:function(){return a.Bool}}),Object.defineProperty(exports,"BoolBuilder",{enumerable:!0,get:function(){return a.BoolBuilder}}),Object.defineProperty(exports,"BufferType",{enumerable:!0,get:function(){return a.BufferType}}),Object.defineProperty(exports,"Builder",{enumerable:!0,get:function(){return a.Builder}}),Object.defineProperty(exports,"ByteStream",{enumerable:!0,get:function(){return a.ByteStream}}),Object.defineProperty(exports,"Data",{enumerable:!0,get:function(){return a.Data}}),Object.defineProperty(exports,"DataType",{enumerable:!0,get:function(){return a.DataType}}),Object.defineProperty(exports,"DateBuilder",{enumerable:!0,get:function(){return a.DateBuilder}}),Object.defineProperty(exports,"DateDay",{enumerable:!0,get:function(){return a.DateDay}}),Object.defineProperty(exports,"DateDayBuilder",{enumerable:!0,get:function(){return a.DateDayBuilder}}),Object.defineProperty(exports,"DateMillisecond",{enumerable:!0,get:function(){return a.DateMillisecond}}),Object.defineProperty(exports,"DateMillisecondBuilder",{enumerable:!0,get:function(){return a.DateMillisecondBuilder}}),Object.defineProperty(exports,"DateUnit",{enumerable:!0,get:function(){return a.DateUnit}}),Object.defineProperty(exports,"Date_",{enumerable:!0,get:function(){return a.Date_}}),Object.defineProperty(exports,"Decimal",{enumerable:!0,get:function(){return a.Decimal}}),Object.defineProperty(exports,"DecimalBuilder",{enumerable:!0,get:function(){return a.DecimalBuilder}}),Object.defineProperty(exports,"DenseUnion",{enumerable:!0,get:function(){return a.DenseUnion}}),Object.defineProperty(exports,"DenseUnionBuilder",{enumerable:!0,get:function(){return a.DenseUnionBuilder}}),Object.defineProperty(exports,"Dictionary",{enumerable:!0,get:function(){return a.Dictionary}}),Object.defineProperty(exports,"DictionaryBuilder",{enumerable:!0,get:function(){return a.DictionaryBuilder}}),Object.defineProperty(exports,"Field",{enumerable:!0,get:function(){return a.Field}}),Object.defineProperty(exports,"FixedSizeBinary",{enumerable:!0,get:function(){return a.FixedSizeBinary}}),Object.defineProperty(exports,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return a.FixedSizeBinaryBuilder}}),Object.defineProperty(exports,"FixedSizeList",{enumerable:!0,get:function(){return a.FixedSizeList}}),Object.defineProperty(exports,"FixedSizeListBuilder",{enumerable:!0,get:function(){return a.FixedSizeListBuilder}}),Object.defineProperty(exports,"Float",{enumerable:!0,get:function(){return a.Float}}),Object.defineProperty(exports,"Float16",{enumerable:!0,get:function(){return a.Float16}}),Object.defineProperty(exports,"Float16Builder",{enumerable:!0,get:function(){return a.Float16Builder}}),Object.defineProperty(exports,"Float32",{enumerable:!0,get:function(){return a.Float32}}),Object.defineProperty(exports,"Float32Builder",{enumerable:!0,get:function(){return a.Float32Builder}}),Object.defineProperty(exports,"Float64",{enumerable:!0,get:function(){return a.Float64}}),Object.defineProperty(exports,"Float64Builder",{enumerable:!0,get:function(){return a.Float64Builder}}),Object.defineProperty(exports,"FloatBuilder",{enumerable:!0,get:function(){return a.FloatBuilder}}),Object.defineProperty(exports,"Int",{enumerable:!0,get:function(){return a.Int}}),Object.defineProperty(exports,"Int16",{enumerable:!0,get:function(){return a.Int16}}),Object.defineProperty(exports,"Int16Builder",{enumerable:!0,get:function(){return a.Int16Builder}}),Object.defineProperty(exports,"Int32",{enumerable:!0,get:function(){return a.Int32}}),Object.defineProperty(exports,"Int32Builder",{enumerable:!0,get:function(){return a.Int32Builder}}),Object.defineProperty(exports,"Int64",{enumerable:!0,get:function(){return a.Int64}}),Object.defineProperty(exports,"Int64Builder",{enumerable:!0,get:function(){return a.Int64Builder}}),Object.defineProperty(exports,"Int8",{enumerable:!0,get:function(){return a.Int8}}),Object.defineProperty(exports,"Int8Builder",{enumerable:!0,get:function(){return a.Int8Builder}}),Object.defineProperty(exports,"IntBuilder",{enumerable:!0,get:function(){return a.IntBuilder}}),Object.defineProperty(exports,"Interval",{enumerable:!0,get:function(){return a.Interval}}),Object.defineProperty(exports,"IntervalBuilder",{enumerable:!0,get:function(){return a.IntervalBuilder}}),Object.defineProperty(exports,"IntervalDayTime",{enumerable:!0,get:function(){return a.IntervalDayTime}}),Object.defineProperty(exports,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return a.IntervalDayTimeBuilder}}),Object.defineProperty(exports,"IntervalUnit",{enumerable:!0,get:function(){return a.IntervalUnit}}),Object.defineProperty(exports,"IntervalYearMonth",{enumerable:!0,get:function(){return a.IntervalYearMonth}}),Object.defineProperty(exports,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return a.IntervalYearMonthBuilder}}),Object.defineProperty(exports,"JSONMessageReader",{enumerable:!0,get:function(){return a.JSONMessageReader}}),Object.defineProperty(exports,"List",{enumerable:!0,get:function(){return a.List}}),Object.defineProperty(exports,"ListBuilder",{enumerable:!0,get:function(){return a.ListBuilder}}),Object.defineProperty(exports,"MapBuilder",{enumerable:!0,get:function(){return a.MapBuilder}}),Object.defineProperty(exports,"MapRow",{enumerable:!0,get:function(){return a.MapRow}}),Object.defineProperty(exports,"Map_",{enumerable:!0,get:function(){return a.Map_}}),Object.defineProperty(exports,"Message",{enumerable:!0,get:function(){return a.Message}}),Object.defineProperty(exports,"MessageHeader",{enumerable:!0,get:function(){return a.MessageHeader}}),Object.defineProperty(exports,"MessageReader",{enumerable:!0,get:function(){return a.MessageReader}}),Object.defineProperty(exports,"MetadataVersion",{enumerable:!0,get:function(){return a.MetadataVersion}}),Object.defineProperty(exports,"Null",{enumerable:!0,get:function(){return a.Null}}),Object.defineProperty(exports,"NullBuilder",{enumerable:!0,get:function(){return a.NullBuilder}}),Object.defineProperty(exports,"Precision",{enumerable:!0,get:function(){return a.Precision}}),Object.defineProperty(exports,"RecordBatch",{enumerable:!0,get:function(){return a.RecordBatch}}),Object.defineProperty(exports,"RecordBatchFileReader",{enumerable:!0,get:function(){return a.RecordBatchFileReader}}),Object.defineProperty(exports,"RecordBatchFileWriter",{enumerable:!0,get:function(){return a.RecordBatchFileWriter}}),Object.defineProperty(exports,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return a.RecordBatchJSONWriter}}),Object.defineProperty(exports,"RecordBatchReader",{enumerable:!0,get:function(){return a.RecordBatchReader}}),Object.defineProperty(exports,"RecordBatchStreamReader",{enumerable:!0,get:function(){return a.RecordBatchStreamReader}}),Object.defineProperty(exports,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return a.RecordBatchStreamWriter}}),Object.defineProperty(exports,"RecordBatchWriter",{enumerable:!0,get:function(){return a.RecordBatchWriter}}),Object.defineProperty(exports,"Schema",{enumerable:!0,get:function(){return a.Schema}}),Object.defineProperty(exports,"SparseUnion",{enumerable:!0,get:function(){return a.SparseUnion}}),Object.defineProperty(exports,"SparseUnionBuilder",{enumerable:!0,get:function(){return a.SparseUnionBuilder}}),Object.defineProperty(exports,"Struct",{enumerable:!0,get:function(){return a.Struct}}),Object.defineProperty(exports,"StructBuilder",{enumerable:!0,get:function(){return a.StructBuilder}}),Object.defineProperty(exports,"StructRow",{enumerable:!0,get:function(){return a.StructRow}}),Object.defineProperty(exports,"Table",{enumerable:!0,get:function(){return a.Table}}),Object.defineProperty(exports,"Time",{enumerable:!0,get:function(){return a.Time}}),Object.defineProperty(exports,"TimeBuilder",{enumerable:!0,get:function(){return a.TimeBuilder}}),Object.defineProperty(exports,"TimeMicrosecond",{enumerable:!0,get:function(){return a.TimeMicrosecond}}),Object.defineProperty(exports,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return a.TimeMicrosecondBuilder}}),Object.defineProperty(exports,"TimeMillisecond",{enumerable:!0,get:function(){return a.TimeMillisecond}}),Object.defineProperty(exports,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return a.TimeMillisecondBuilder}}),Object.defineProperty(exports,"TimeNanosecond",{enumerable:!0,get:function(){return a.TimeNanosecond}}),Object.defineProperty(exports,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return a.TimeNanosecondBuilder}}),Object.defineProperty(exports,"TimeSecond",{enumerable:!0,get:function(){return a.TimeSecond}}),Object.defineProperty(exports,"TimeSecondBuilder",{enumerable:!0,get:function(){return a.TimeSecondBuilder}}),Object.defineProperty(exports,"TimeUnit",{enumerable:!0,get:function(){return a.TimeUnit}}),Object.defineProperty(exports,"Timestamp",{enumerable:!0,get:function(){return a.Timestamp}}),Object.defineProperty(exports,"TimestampBuilder",{enumerable:!0,get:function(){return a.TimestampBuilder}}),Object.defineProperty(exports,"TimestampMicrosecond",{enumerable:!0,get:function(){return a.TimestampMicrosecond}}),Object.defineProperty(exports,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return a.TimestampMicrosecondBuilder}}),Object.defineProperty(exports,"TimestampMillisecond",{enumerable:!0,get:function(){return a.TimestampMillisecond}}),Object.defineProperty(exports,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return a.TimestampMillisecondBuilder}}),Object.defineProperty(exports,"TimestampNanosecond",{enumerable:!0,get:function(){return a.TimestampNanosecond}}),Object.defineProperty(exports,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return a.TimestampNanosecondBuilder}}),Object.defineProperty(exports,"TimestampSecond",{enumerable:!0,get:function(){return a.TimestampSecond}}),Object.defineProperty(exports,"TimestampSecondBuilder",{enumerable:!0,get:function(){return a.TimestampSecondBuilder}}),Object.defineProperty(exports,"Type",{enumerable:!0,get:function(){return a.Type}}),Object.defineProperty(exports,"Uint16",{enumerable:!0,get:function(){return a.Uint16}}),Object.defineProperty(exports,"Uint16Builder",{enumerable:!0,get:function(){return a.Uint16Builder}}),Object.defineProperty(exports,"Uint32",{enumerable:!0,get:function(){return a.Uint32}}),Object.defineProperty(exports,"Uint32Builder",{enumerable:!0,get:function(){return a.Uint32Builder}}),Object.defineProperty(exports,"Uint64",{enumerable:!0,get:function(){return a.Uint64}}),Object.defineProperty(exports,"Uint64Builder",{enumerable:!0,get:function(){return a.Uint64Builder}}),Object.defineProperty(exports,"Uint8",{enumerable:!0,get:function(){return a.Uint8}}),Object.defineProperty(exports,"Uint8Builder",{enumerable:!0,get:function(){return a.Uint8Builder}}),Object.defineProperty(exports,"Union",{enumerable:!0,get:function(){return a.Union}}),Object.defineProperty(exports,"UnionBuilder",{enumerable:!0,get:function(){return a.UnionBuilder}}),Object.defineProperty(exports,"UnionMode",{enumerable:!0,get:function(){return a.UnionMode}}),Object.defineProperty(exports,"Utf8",{enumerable:!0,get:function(){return a.Utf8}}),Object.defineProperty(exports,"Utf8Builder",{enumerable:!0,get:function(){return a.Utf8Builder}}),Object.defineProperty(exports,"Vector",{enumerable:!0,get:function(){return a.Vector}}),Object.defineProperty(exports,"Visitor",{enumerable:!0,get:function(){return a.Visitor}}),Object.defineProperty(exports,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return a.builderThroughAsyncIterable}}),Object.defineProperty(exports,"builderThroughIterable",{enumerable:!0,get:function(){return a.builderThroughIterable}}),Object.defineProperty(exports,"makeBuilder",{enumerable:!0,get:function(){return a.makeBuilder}}),Object.defineProperty(exports,"makeData",{enumerable:!0,get:function(){return a.makeData}}),Object.defineProperty(exports,"makeTable",{enumerable:!0,get:function(){return a.makeTable}}),Object.defineProperty(exports,"makeVector",{enumerable:!0,get:function(){return a.makeVector}}),Object.defineProperty(exports,"tableFromArrays",{enumerable:!0,get:function(){return a.tableFromArrays}}),Object.defineProperty(exports,"tableFromIPC",{enumerable:!0,get:function(){return a.tableFromIPC}}),Object.defineProperty(exports,"tableFromJSON",{enumerable:!0,get:function(){return a.tableFromJSON}}),Object.defineProperty(exports,"tableToIPC",{enumerable:!0,get:function(){return a.tableToIPC}}),Object.defineProperty(exports,"util",{enumerable:!0,get:function(){return a.util}}),Object.defineProperty(exports,"vectorFromArray",{enumerable:!0,get:function(){return a.vectorFromArray}});var e=d(require("./io/adapters.mjs")),r=require("./builder.mjs"),t=require("./ipc/reader.mjs"),n=require("./ipc/writer.mjs"),o=require("./io/whatwg/iterable.mjs"),i=require("./io/whatwg/builder.mjs"),u=require("./io/whatwg/reader.mjs"),c=require("./io/whatwg/writer.mjs"),a=require("./Arrow.mjs");function d(e){return e&&e.__esModule?e:{default:e}}e.default.toDOMStream=o.toDOMStream,r.Builder.throughDOM=i.builderThroughDOMStream,t.RecordBatchReader.throughDOM=u.recordBatchReaderThroughDOMStream,t.RecordBatchFileReader.throughDOM=u.recordBatchReaderThroughDOMStream,t.RecordBatchStreamReader.throughDOM=u.recordBatchReaderThroughDOMStream,n.RecordBatchWriter.throughDOM=c.recordBatchWriterThroughDOMStream,n.RecordBatchFileWriter.throughDOM=c.recordBatchWriterThroughDOMStream,n.RecordBatchStreamWriter.throughDOM=c.recordBatchWriterThroughDOMStream;
},{"./io/adapters.mjs":"DQHq","./builder.mjs":"riDd","./ipc/reader.mjs":"yCaL","./ipc/writer.mjs":"zl4D","./io/whatwg/iterable.mjs":"FJm3","./io/whatwg/builder.mjs":"Mi8t","./io/whatwg/reader.mjs":"Uzyn","./io/whatwg/writer.mjs":"YCK9","./Arrow.mjs":"c7Eq"}],"x30F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArrowTable=void 0;var e=require("apache-arrow"),t=function(){function t(t,n,o,r){var a=this;this.getCell=function(e,t){var n=e<a.headerRows&&t<a.headerColumns,o=e>=a.headerRows&&t<a.headerColumns,r=e<a.headerRows&&t>=a.headerColumns;if(n){var l=["blank"];return t>0&&l.push("level"+e),{type:"blank",classNames:l.join(" "),content:""}}if(r)return{type:"columns",classNames:(l=["col_heading","level"+e,"col"+(u=t-a.headerColumns)]).join(" "),content:a.getContent(a.columnsTable,u,e)};if(o){l=["row_heading","level"+t,"row"+(i=e-a.headerRows)];return{type:"index",id:"T_".concat(a.uuid,"level").concat(t,"_row").concat(i),classNames:l.join(" "),content:a.getContent(a.indexTable,i,t)}}l=["data","row"+(i=e-a.headerRows),"col"+(u=t-a.headerColumns)];var i,u,s=a.styler?a.getContent(a.styler.displayValuesTable,i,u):a.getContent(a.dataTable,i,u);return{type:"data",id:"T_".concat(a.uuid,"row").concat(i,"_col").concat(u),classNames:l.join(" "),content:s}},this.getContent=function(t,n,o){var r=t.getChildAt(o);if(null===r)return"";switch(a.getColumnTypeId(t,o)){case e.Type.Timestamp:return a.nanosToDate(r.get(n));default:return r.get(n)}},this.dataTable=(0,e.tableFromIPC)(t),this.indexTable=(0,e.tableFromIPC)(n),this.columnsTable=(0,e.tableFromIPC)(o),this.styler=r?{caption:r.caption,displayValuesTable:(0,e.tableFromIPC)(r.displayValues),styles:r.styles,uuid:r.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:(0,e.tableToIPC)(this.dataTable),index:(0,e.tableToIPC)(this.indexTable),columns:(0,e.tableToIPC)(this.columnsTable)}},t.prototype.getColumnTypeId=function(e,t){return e.schema.fields[t].type.typeId},t.prototype.nanosToDate=function(e){return new Date(e/1e6)},t}();exports.ArrowTable=t;
},{"apache-arrow":"n0EY"}],"ucLC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Streamlit=void 0;var e,n=require("./ArrowTable"),t=function(){return(t=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};!function(e){e.COMPONENT_READY="streamlit:componentReady",e.SET_COMPONENT_VALUE="streamlit:setComponentValue",e.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(e||(e={}));var r=function(){function r(){}return r.API_VERSION=1,r.RENDER_EVENT="streamlit:render",r.events=new EventTarget,r.registeredMessageListener=!1,r.setComponentReady=function(){r.registeredMessageListener||(window.addEventListener("message",r.onMessageEvent),r.registeredMessageListener=!0),r.sendBackMsg(e.COMPONENT_READY,{apiVersion:r.API_VERSION})},r.setFrameHeight=function(n){void 0===n&&(n=document.body.scrollHeight),n!==r.lastFrameHeight&&(r.lastFrameHeight=n,r.sendBackMsg(e.SET_FRAME_HEIGHT,{height:n}))},r.setComponentValue=function(t){var a;t instanceof n.ArrowTable?(a="dataframe",t=t.serialize()):o(t)?(a="bytes",t=new Uint8Array(t.buffer)):t instanceof ArrayBuffer?(a="bytes",t=new Uint8Array(t)):a="json",r.sendBackMsg(e.SET_COMPONENT_VALUE,{value:t,dataType:a})},r.onMessageEvent=function(e){switch(e.data.type){case r.RENDER_EVENT:r.onRenderMessage(e.data)}},r.onRenderMessage=function(e){var n=e.args;null==n&&(console.error("Got null args in onRenderMessage. This should never happen"),n={});var o=e.dfs&&e.dfs.length>0?r.argsDataframeToObject(e.dfs):{};n=t(t({},n),o);var s=Boolean(e.disabled),i=e.theme;i&&a(i);var c={disabled:s,args:n,theme:i},l=new CustomEvent(r.RENDER_EVENT,{detail:c});r.events.dispatchEvent(l)},r.argsDataframeToObject=function(e){var n=e.map(function(e){var n=e.key,t=e.value;return[n,r.toArrowTable(t)]});return Object.fromEntries(n)},r.toArrowTable=function(e){var t,r=(t=e.data).data,a=t.index,o=t.columns,s=t.styler;return new n.ArrowTable(r,a,o,s)},r.sendBackMsg=function(e,n){window.parent.postMessage(t({isStreamlitMessage:!0,type:e},n),"*")},r}();exports.Streamlit=r;var a=function(e){var n=document.createElement("style");document.head.appendChild(n),n.innerHTML="\n    :root {\n      --primary-color: ".concat(e.primaryColor,";\n      --background-color: ").concat(e.backgroundColor,";\n      --secondary-background-color: ").concat(e.secondaryBackgroundColor,";\n      --text-color: ").concat(e.textColor,";\n      --font: ").concat(e.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};function o(e){var n=!1;try{n=e instanceof BigInt64Array||e instanceof BigUint64Array}catch(t){}return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||n}
},{"./ArrowTable":"x30F"}],"VvhG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StreamlitComponentBase=void 0,exports.withStreamlitConnection=i;var t=r(require("hoist-non-react-statics")),e=r(require("react")),n=require("./streamlit");function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.componentDidMount=function(){n.Streamlit.setFrameHeight()},e.prototype.componentDidUpdate=function(){n.Streamlit.setFrameHeight()},e}(e.default.PureComponent);function i(r){var a=function(t){function a(e){var r=t.call(this,e)||this;return r.componentDidMount=function(){n.Streamlit.events.addEventListener(n.Streamlit.RENDER_EVENT,r.onRenderEvent),n.Streamlit.setComponentReady()},r.componentDidUpdate=function(){null!=r.state.componentError&&n.Streamlit.setFrameHeight()},r.componentWillUnmount=function(){n.Streamlit.events.removeEventListener(n.Streamlit.RENDER_EVENT,r.onRenderEvent)},r.onRenderEvent=function(t){r.setState({renderData:t.detail})},r.state={renderData:void 0,componentError:void 0},r}return o(a,t),a.prototype.render=function(){return null!=this.state.componentError?e.default.createElement("div",null,e.default.createElement("h1",null,"Component Error"),e.default.createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:e.default.createElement(r,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},a.getDerivedStateFromError=function(t){return{componentError:t}},a}(e.default.PureComponent);return(0,t.default)(a,r)}exports.StreamlitComponentBase=a;
},{"hoist-non-react-statics":"ElIr","react":"n8MK","./streamlit":"ucLC"}],"pcSa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ArrowTable",{enumerable:!0,get:function(){return t.ArrowTable}}),Object.defineProperty(exports,"Streamlit",{enumerable:!0,get:function(){return r.Streamlit}}),Object.defineProperty(exports,"StreamlitComponentBase",{enumerable:!0,get:function(){return e.StreamlitComponentBase}}),Object.defineProperty(exports,"withStreamlitConnection",{enumerable:!0,get:function(){return e.withStreamlitConnection}});var e=require("./StreamlitReact"),t=require("./ArrowTable"),r=require("./streamlit");
},{"./StreamlitReact":"VvhG","./ArrowTable":"x30F","./streamlit":"ucLC"}],"bBo2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("react")),t=require("streamlit-component-lib");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(a,o,u):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}var a=function(r){var n=r.args,a=(0,e.useRef)(null);return(0,e.useEffect)(function(){var e=a.current,r=e.getContext("2d");e.width=600,e.height=600;var i=new Image;i.src=n.imageSrc,t.Streamlit.setFrameHeight();var o=[];function u(){var t=new Image;t.src="data:image/png;base64,".concat(n.baseImageSrc),t.onload=function(){r.drawImage(t,0,0,e.width,e.height);for(var n=0;n<o.length;n++){var a=o[n];r.drawImage(i,a.x-a.s/2,a.y-a.s/2,a.s,a.s)}}}function c(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))<=e.s/2}u(),e.addEventListener("contextmenu",function(e){e.preventDefault()}),t.Streamlit.events.addEventListener(t.Streamlit.RENDER_EVENT,function(e){console.log("render event"),u(),t.Streamlit.setFrameHeight()}),e.addEventListener("mousedown",function(n){var a,l,s,f=function(e,t){var r=e.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top}}(e,n);if(0===n.button)a=f.x,l=f.y,s=50,o.push({x:a,y:l,s:s}),r.drawImage(i,a-s/2,l-s/2,s,s),t.Streamlit.setComponentValue(o);else if(2===n.button)for(var d=0;d<o.length;d++){c(o[d],f)&&(o.splice(d,1),t.Streamlit.setComponentValue(o),r.clearRect(0,0,e.width,e.height),u())}})},[n.imageSrc,n.baseImageSrc]),e.default.createElement("canvas",{ref:a,id:"canvas",width:"600",height:"600",style:{backgroundColor:"white"}})},i=(0,t.withStreamlitConnection)(a);exports.default=i;
},{"react":"n8MK","streamlit-component-lib":"pcSa"}]},{},["bBo2"], "MyComponent")
//# sourceMappingURL=/MyComponent.js.map